<!DOCTYPE html>
<html dir="ltr" class="client-js" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>Knapsack problem/0-1 - Rosetta Code</title>
<script type="text/javascript" async="" src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/ga.js"></script><script async="" src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/analytics.js"></script><script src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/7qaJovFEYxjqsAZAxmfekTkNrFg.js"></script><script type="text/javascript">document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script type="text/javascript">window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Knapsack_problem/0-1","wgTitle":"Knapsack problem/0-1","wgCurRevisionId":286346,"wgRevisionId":286346,"wgArticleId":6039,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Programming Tasks","Classic CS problems and programs","Memoization","Puzzles","GUISS/Omit","360 Assembly","Ada","APL","AWK","Batch File","BBC BASIC","Bracmat","C","C++","C sharp","System","System.Collections.Generic","Ceylon","Clojure","Common Lisp","Crystal","D","Dart","EasyLang","EchoLisp","Eiffel","Elixir","Emacs Lisp","Erlang","Euler Math Toolbox","F Sharp","Factor","Forth","FutureBasic","Go","Groovy","Haskell","Icon","Unicon","Icon Programming Library","J","Java","JavaScript","Jq","Julia","Kotlin","LSL","Maple","Mathematica","Mathprog","MAXScript","OCaml","Oz","Pascal","Perl","Perl 6","Phix","PHP","PicoLisp","Prolog","Clpfd","Simplex",
"PureBasic","Python","Racket","R","REXX","Ring","Ruby","Rust","SAS","Scala","Sidef","SQL","Swift","Tcl","Ursala","VBA","VBScript","Visual Basic","Visual Basic .NET","XPL0","Zkl"],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Knapsack_problem/0-1","wgRelevantArticleId":6039,"wgIsProbablyEditable":!0,"wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgAutocompleteValues":[],"sfgAutocompleteOnAllChars":!1,"sfgFieldProperties":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/mw/extensions/SemanticForms","sdgDownArrowImage":"/mw/extensions/SemanticDrilldown/skins/down-arrow.png",
"sdgRightArrowImage":"/mw/extensions/SemanticDrilldown/skins/right-arrow.png"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["ext.smw.style","ext.smw.tooltips","mediawiki.page.startup","mediawiki.legacy.wikibits"]);
} );</script>
<link rel="stylesheet" href="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/load.css">
<style>
.qtip,.qtip{position:absolute;left:-28000px;top:-28000px;display:none;max-width:280px;min-width:50px;font-size:10.5px;line-height:12px;direction:ltr}.qtip-content{position:relative;padding:5px 9px;overflow:hidden;text-align:left;word-wrap:break-word}.qtip-titlebar{position:relative;padding:5px 35px 5px 10px;overflow:hidden;border-width:0 0 1px;font-weight:bold}.qtip-titlebar + .qtip-content{border-top-width:0 !important} .qtip-close{position:absolute;right:-9px;top:-9px;cursor:pointer;outline:medium none;border-width:1px;border-style:solid;border-color:transparent}.qtip-titlebar .qtip-close{right:4px;top:50%;margin-top:-9px}* html .qtip-titlebar .qtip-close{top:16px} .qtip-titlebar .ui-icon,.qtip-icon .ui-icon{display:block;text-indent:-1000em;direction:ltr;vertical-align:middle}.qtip-icon,.qtip-icon .ui-icon{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;text-decoration:none}.qtip-icon .ui-icon{width:18px;height:14px;text-align:center;text-indent:0;font:normal bold 10px/13px Tahoma,sans-serif;color:inherit;background:transparent none no-repeat -100em -100em} .qtip-focus{} .qtip-hover{} .qtip-default{border-width:1px;border-style:solid;border-color:#F1D031;background-color:#FFFFA3;color:#555}.qtip-default .qtip-titlebar{background-color:#FFEF93}.qtip-default .qtip-icon{border-color:#CCC;background:#F1F1F1;color:#777}.qtip-default .qtip-titlebar .qtip-close{border-color:#AAA;color:#111} .qtip-light{background-color:white;border-color:#E2E2E2;color:#454545}.qtip-light .qtip-titlebar{background-color:#f1f1f1} .qtip-dark{background-color:#505050;border-color:#303030;color:#f3f3f3}.qtip-dark .qtip-titlebar{background-color:#404040}.qtip-dark .qtip-icon{border-color:#444}.qtip-dark .qtip-titlebar .ui-state-hover{border-color:#303030} .qtip-cream{background-color:#FBF7AA;border-color:#F9E98E;color:#A27D35}.qtip-cream .qtip-titlebar{background-color:#F0DE7D}.qtip-cream .qtip-close .qtip-icon{background-position:-82px 0} .qtip-red{background-color:#F78B83;border-color:#D95252;color:#912323}.qtip-red .qtip-titlebar{background-color:#F06D65}.qtip-red .qtip-close .qtip-icon{background-position:-102px 0}.qtip-red .qtip-icon{border-color:#D95252}.qtip-red .qtip-titlebar .ui-state-hover{border-color:#D95252} .qtip-green{background-color:#CAED9E;border-color:#90D93F;color:#3F6219}.qtip-green .qtip-titlebar{background-color:#B0DE78}.qtip-green .qtip-close .qtip-icon{background-position:-42px 0} .qtip-blue{background-color:#E5F6FE;border-color:#ADD9ED;color:#5E99BD}.qtip-blue .qtip-titlebar{background-color:#D0E9F5}.qtip-blue .qtip-close .qtip-icon{background-position:-2px 0} .qtip-shadow{-webkit-box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15);-moz-box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15);box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15)} .qtip-rounded,.qtip-tipsy,.qtip-bootstrap{-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px} .qtip-youtube{-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 3px #333;-moz-box-shadow:0 0 3px #333;box-shadow:0 0 3px #333;color:white;border-width:0;background:#4A4A4A;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#4A4A4A),color-stop(100%,black));background-image:-webkit-linear-gradient(top,#4A4A4A 0,black 100%);background-image:-moz-linear-gradient(top,#4A4A4A 0,black 100%);background-image:-ms-linear-gradient(top,#4A4A4A 0,black 100%);background-image:-o-linear-gradient(top,#4A4A4A 0,black 100%)}.qtip-youtube .qtip-titlebar{background-color:#4A4A4A;background-color:rgba(0,0,0,0)}.qtip-youtube .qtip-content{padding:.75em;font:12px arial,sans-serif;filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#4a4a4a,EndColorStr=#000000);-ms-filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#4a4a4a,EndColorStr=#000000);"}.qtip-youtube .qtip-icon{border-color:#222}.qtip-youtube .qtip-titlebar .ui-state-hover{border-color:#303030} .qtip-jtools{background:#232323;background:rgba(0,0,0,0.7);background-image:-webkit-gradient(linear,left top,left bottom,from(#717171),to(#232323));background-image:-moz-linear-gradient(top,#717171,#232323);background-image:-webkit-linear-gradient(top,#717171,#232323);background-image:-ms-linear-gradient(top,#717171,#232323);background-image:-o-linear-gradient(top,#717171,#232323);border:2px solid #ddd;border:2px solid rgba(241,241,241,1);-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 12px #333;-moz-box-shadow:0 0 12px #333;box-shadow:0 0 12px #333} .qtip-jtools .qtip-titlebar{background-color:transparent;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#717171,endColorstr=#4A4A4A);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#717171,endColorstr=#4A4A4A)"}.qtip-jtools .qtip-content{filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#4A4A4A,endColorstr=#232323);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#4A4A4A,endColorstr=#232323)"}.qtip-jtools .qtip-titlebar,.qtip-jtools .qtip-content{background:transparent;color:white;border:0 dashed transparent}.qtip-jtools .qtip-icon{border-color:#555}.qtip-jtools .qtip-titlebar .ui-state-hover{border-color:#333} .qtip-cluetip{-webkit-box-shadow:4px 4px 5px rgba(0,0,0,0.4);-moz-box-shadow:4px 4px 5px rgba(0,0,0,0.4);box-shadow:4px 4px 5px rgba(0,0,0,0.4);background-color:#D9D9C2;color:#111;border:0 dashed transparent}.qtip-cluetip .qtip-titlebar{background-color:#87876A;color:white;border:0 dashed transparent}.qtip-cluetip .qtip-icon{border-color:#808064}.qtip-cluetip .qtip-titlebar .ui-state-hover{border-color:#696952;color:#696952} .qtip-tipsy{background:black;background:rgba(0,0,0,.87);color:white;border:0 solid transparent;font-size:11px;font-family:'Lucida Grande',sans-serif;font-weight:bold;line-height:16px;text-shadow:0 1px black}.qtip-tipsy .qtip-titlebar{padding:6px 35px 0 10;background-color:transparent}.qtip-tipsy .qtip-content{padding:6px 10}.qtip-tipsy .qtip-icon{border-color:#222;text-shadow:none}.qtip-tipsy .qtip-titlebar .ui-state-hover{border-color:#303030} .qtip-tipped{border:3px solid #959FA9;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;background-color:#F9F9F9;color:#454545;font-weight:normal;font-family:serif}.qtip-tipped .qtip-titlebar{border-bottom-width:0;color:white;background:#3A79B8;background-image:-webkit-gradient(linear,left top,left bottom,from(#3A79B8),to(#2E629D));background-image:-webkit-linear-gradient(top,#3A79B8,#2E629D);background-image:-moz-linear-gradient(top,#3A79B8,#2E629D);background-image:-ms-linear-gradient(top,#3A79B8,#2E629D);background-image:-o-linear-gradient(top,#3A79B8,#2E629D);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#3A79B8,endColorstr=#2E629D);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#3A79B8,endColorstr=#2E629D)"}.qtip-tipped .qtip-icon{border:2px solid #285589;background:#285589}.qtip-tipped .qtip-icon .ui-icon{background-color:#FBFBFB;color:#555} .qtip-bootstrap{ font-size:14px;line-height:20px;color:#333333; padding:1px;background-color:#ffffff;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.2);-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);-moz-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box}.qtip-bootstrap .qtip-titlebar{ padding:8px 14px;margin:0;font-size:14px;font-weight:normal;line-height:18px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.qtip-bootstrap .qtip-titlebar .qtip-close{ right:11px;top:45%;border-style:none}.qtip-bootstrap .qtip-content{ padding:9px 14px}.qtip-bootstrap .qtip-icon{ background:transparent}.qtip-bootstrap .qtip-icon .ui-icon{ width:auto;height:auto; float:right;font-size:20px;font-weight:bold;line-height:18px;color:#000000;text-shadow:0 1px 0 #ffffff;opacity:0.2;filter:alpha(opacity=20)}.qtip-bootstrap .qtip-icon .ui-icon:hover{ color:#000000;text-decoration:none;cursor:pointer;opacity:0.4;filter:alpha(opacity=40)} .qtip:not(.ie9haxors) div.qtip-content,.qtip:not(.ie9haxors) div.qtip-titlebar{filter:none;-ms-filter:none} .qtip .qtip-tip{margin:0 auto;overflow:hidden;z-index:10}.qtip .qtip-tip,.qtip .qtip-tip .qtip-vml{position:absolute;color:#123456;background:transparent;border:0 dashed transparent}.qtip .qtip-tip canvas{top:0;left:0}.qtip .qtip-tip .qtip-vml{behavior:url("https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/jquery/#default#VML");display:inline-block;visibility:visible} #qtip-overlay{position:fixed;left:-10000em;top:-10000em} #qtip-overlay.blurs{cursor:pointer} #qtip-overlay div{position:absolute;left:0;top:0;width:100%;height:100%;background-color:black;opacity:0.7;filter:alpha(opacity=70);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"} .qtipmodal-ie6fix{position:absolute !important}
div.smwtt{color:#000000} span.smwttpersist span.smwttcontent{color:#888888;font-style:italic;font-size:90%} span.smwttinline span.smwttcontent{display:none;speak:none} span.smwtticon{display:none} span.smwttactivepersist{cursor:help;color:#0000C8} span.smwttactiveinline{color:#BB7700;text-decoration:none} img.smwttimg{padding-right:5px;padding-left:4px} .smwttcontent{display:none} .smwtticon{padding:14px 12px 0 0;white-space:nowrap;margin-bottom:-1px} .smwtticon.info{display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QAQACXAOIX6M4XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1woNCAQvupvvrgAAAgpJREFUKBUFwTtME3EAwOHf3f961+vd9Sh9HEVINUrFhAbRmCgGo9FodCFMLhomJ6MmJsbF1Z2ExMHBUQc3BmOigyERB0ElQHgECRYECrRC26OPa3t+nwQAAI7aO/K458yJeK8qOA74dY/1hbWdxZWJsVUoeAAKAImh2NDdR/duD54cdRLRdMQydB84KJaPzufyyx+6Tr+Zej/2jr1vBUHiin3j/pPnwzcvPMv0OKlb/YlAT4cupR1d0lRNNWwrmUhEB+tmSl7/vTktMiNPhy9dvviyM2FYnZEgpRp8WS3htaC/W2du64iWLAUl1RgoY84qiiJdU03TKFR9vv+tIZQGsiTojqg0WrDtwlHVR7PscCDAVaXoEV3KN+hCELUVVBFgNBOkXZd5NVPhoC6TL0J2v8FhnbiCUBtlX2WzInB1jZiuEQ4KfhVgrR7ErUO+UsMlgCwUT6FRW9YU2TdMXbIsjbglmD+EPQ9iYQFo1Go6Xq3c8hveolze2/hY3M6u2IaGHRI4JpxthyRVHAPCIQXbDFLcyi6WcuufhLs2lXMxsy0tkk51tDkdYVU6ZkosbFXxAwF290vN6amfM0uf374oTI5/lQAAYfddP5e58/BBuivel4qF4k0f/uy7u0sbubn5ifHX7srkLNCUAAAAQtFUW/LUQLI9HHGaPv6/Yj63s/pju1LYPAQA+A8p2cUweh5dZAAAAABJRU5ErkJggg==) no-repeat left bottom;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/info.png?34b97) no-repeat left bottom!ie}.smwtticon.service{display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QAQACXAOIX6M4XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1woNCAQvupvvrgAAAgpJREFUKBUFwTtME3EAwOHf3f961+vd9Sh9HEVINUrFhAbRmCgGo9FodCFMLhomJ6MmJsbF1Z2ExMHBUQc3BmOigyERB0ElQHgECRYECrRC26OPa3t+nwQAAI7aO/K458yJeK8qOA74dY/1hbWdxZWJsVUoeAAKAImh2NDdR/duD54cdRLRdMQydB84KJaPzufyyx+6Tr+Zej/2jr1vBUHiin3j/pPnwzcvPMv0OKlb/YlAT4cupR1d0lRNNWwrmUhEB+tmSl7/vTktMiNPhy9dvviyM2FYnZEgpRp8WS3htaC/W2du64iWLAUl1RgoY84qiiJdU03TKFR9vv+tIZQGsiTojqg0WrDtwlHVR7PscCDAVaXoEV3KN+hCELUVVBFgNBOkXZd5NVPhoC6TL0J2v8FhnbiCUBtlX2WzInB1jZiuEQ4KfhVgrR7ErUO+UsMlgCwUT6FRW9YU2TdMXbIsjbglmD+EPQ9iYQFo1Go6Xq3c8hveolze2/hY3M6u2IaGHRI4JpxthyRVHAPCIQXbDFLcyi6WcuufhLs2lXMxsy0tkk51tDkdYVU6ZkosbFXxAwF290vN6amfM0uf374oTI5/lQAAYfddP5e58/BBuivel4qF4k0f/uy7u0sbubn5ifHX7srkLNCUAAAAQtFUW/LUQLI9HHGaPv6/Yj63s/pju1LYPAQA+A8p2cUweh5dZAAAAABJRU5ErkJggg==) no-repeat left bottom;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/info.png?34b97) no-repeat left bottom!ie}.smwtticon.warning{display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZ1JREFUKFOVy79rE3EcxvH39+7y8/q9pF4S0xi0mEiaMxV68Yxg8PeiVyhV6iCIQhErHUScFJxcHAX/Azf/AgWXWlsUhyrYioMiqKgoiEgrJTH3cSuldvE9Pg8vkw3Nt6lfHuZ68g9fnv/k2/pPRDDWD098bD1gTO4cdS+NNowp38ZhQ2tgZgQSWo3kDgyPpU/esSuHd4fnK6o1lERtCuIp0tmGO73sHavevf8B8Y7uaDT7pwMXvSmwEkbgNHeFb1eLPH22wNJKnka7enxAG+1/wKxPpq+SuuaeOKSzuSQxq0vGjZML99vj+xJXDmoKa2DOx0znOVUcL7fNrXl8v0OtZhIEv1GFFLUJt3XW43TRJAZgGBal/lbsjN0sZeENIkuEoQUsAq/RQcZpHjEnzpUpA/DqAld/zOjVqOdJFO2RuXlPhuo5efBwUKJou0S9gvx6HO/cG+OmiGD1FdSU3tZNyNdPAFQd4cbFHvUty8jnCOhhl6JYfZBJ4JY1+1IeObc770S6ChClQCvhxaKwEAEISqE+vuf7XkCJCP/TX7cEexPi9whUAAAAAElFTkSuQmCC) no-repeat left bottom;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/warning.png?06a3c) no-repeat left bottom!ie}.smwtticon.note{display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgtJREFUeNokUctqU1EUXefk5iY3D2MrSWOamyq9jYO2BovUR41O1Iykov6Bc6WDDh36A4oKnYkORZBCoA6KI1GrEKhoFWOo1qhJk6Z539c57sTB5gzOWns9NpMA3KCK0s0TsHwiBsW3qPi0OYerbmP89IaVnFvtMn/dmEginU5DITyYLSA4y40embp3MDWVVoNhgKvot1sob699/OqdvM0MY32AVTrZWZhhfnEsk85HEikOxoERnbYwBLxeGNH4jK/wdq1W1Bd7h8fySnlei4WT0ZV4ROWivQt4A+AzV0DrIV8/AtQA9Onjyt7G6spmOJHhb6IXrkbCnqOyuw+YNL0aTRPSpOnVidgE7A70Q/7x+pf315Wgph1TpAVBOcApktUBnN7/t9/AoBT6REAl8f3dBcW07R1pdSGkSvaJIBzIWpHUWkRqDrNAWENFIWJBZafWKZgjbWghDZIRgUK7Hx4PugNzXSK1wZmLVq0CO5ot8kw2Vyg70U+M/Eu7D0lWPLm78GSXKEOD7JlAu4rvTVWwmPGc/frzF63S5kIgv7SeOGCp0usHUmfAhAtW3SIdga2ffZTnl++nZk/dYlJKkDBePXtyOfb56cO4W5rUWH9YQEcEsI2U+9u48WD63KVlY0K3hpeWjgMxqr+snr9zslL5do3t/ThLnYXsUKLIY8YLj22+Y441gOKfAAMAeeDgUIIDAXwAAAAASUVORK5CYII=) no-repeat left bottom;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/note.png?3c504) no-repeat left bottom!ie}  span.smwbuiltin,span.smwttactiveinline span.smwbuiltin{font-style:italic} div.smwpre{white-space:pre;font-family:monospace;padding:1em;border:1px dashed #2f6fab;color:black;background-color:#f9f9f9;line-height:1.1em;margin-bottom:0.5em;margin-top:0.5em} #smwfootbr{clear:both} span.smwsortkey{display:none} a.sortheader:hover{text-decoration:none} div.smwtimeline{border:1px solid #AAAAAA;background-color:#F9F9F9;  }span.smwtlevent,span.smwtlband,span.smwtlsize,span.smwtlposition{display:none;speak:none}span.smwtlcomment{font-style:italic;padding:5px} div.smwfact{clear:both;background-color:#F9F9F9;padding:5px;margin-top:1em;border:1px solid #AAAAAA;font-size:95%}div.smwfact td,div.smwfact tr,div.smwfact table{background-color:#F9F9F9}span.smwfactboxhead{font-size:110%;font-weight:bold;float:left}table.smwfacttable{border-top:1px dotted #AAAAAA;width:100%;clear:both}td.smwpropname,th.smwpropname,td.smwspecname{text-align:right;vertical-align:top;padding-right:1em}td.smwprops,td.smwspecs{vertical-align:top;width:75%}div.smwhr hr{background-color:#DDDDDD;color:#DDDDDD} span.smwwarning{color:#888888;font-style:italic;font-size:90%} span.smwsearchicon{padding-right:16px;margin-right:2px;color:#888888;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAABC1BMVEU+S114jayTpb6Im7eMn7qhsceBlbOYqcKXp8GDl7N2i6rJ0uCYqcJogKB9kq+KnLipt81qgKF8kK9qgKF4jayntstheJpsgqOSo75RaIxWbpCIm7fAy9tlfJ5keptedZdHXX5bcpWBlbOersajssmVp79lfJ5thKN2i6phd5lTa45GW3lPZ4plfJ5le5xRaYxbcpV3jKt2i6pWbpBKYoVOZolSao2HmrZ4jaxTa45JYYRJYYSHmrZedZdFWnhTa45ieZtVbZCzv9Lm6/Ha4Onp7fKks8rb4uvf5e3h5u7X3um2wtXQ2OTAy9vW3efl6fCmtcrJ0uDGz96jssm5xdaruc6uu8+9yNnt8PXd7KeZAAAAQnRSTlMACfbevtlP8sRPTv2lFfRF2Cz1A7jZLdG4HFbm/q8vBAxjxO/syrHaxk0EByM4NyUrutRNBAI6xeJdADjU4QFO3NoNTLabAAAAeElEQVQIHQXBvQ7BUACA0e+7P020EQsDC4NBYrZJ38BTewcmg8XGomnjRso50QlUuSkA1p9TenF2+oRUH7/DzMoChJJH3n2bEpDS0CS7kAVCntd9txhjBFzp7he86h03qqp6kb2qbm8qABy06Y0A8FjHcTkIANCqf7L2G5qa4UzTAAAAAElFTkSuQmCC) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/searchgray_iconsmall.png?bbd58) center right no-repeat!ie}#bodyContent span.smwsearch a{padding-right:16px;margin-right:2px;color:#888888;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAABC1BMVEU+S114jayTpb6Im7eMn7qhsceBlbOYqcKXp8GDl7N2i6rJ0uCYqcJogKB9kq+KnLipt81qgKF8kK9qgKF4jayntstheJpsgqOSo75RaIxWbpCIm7fAy9tlfJ5keptedZdHXX5bcpWBlbOersajssmVp79lfJ5thKN2i6phd5lTa45GW3lPZ4plfJ5le5xRaYxbcpV3jKt2i6pWbpBKYoVOZolSao2HmrZ4jaxTa45JYYRJYYSHmrZedZdFWnhTa45ieZtVbZCzv9Lm6/Ha4Onp7fKks8rb4uvf5e3h5u7X3um2wtXQ2OTAy9vW3efl6fCmtcrJ0uDGz96jssm5xdaruc6uu8+9yNnt8PXd7KeZAAAAQnRSTlMACfbevtlP8sRPTv2lFfRF2Cz1A7jZLdG4HFbm/q8vBAxjxO/syrHaxk0EByM4NyUrutRNBAI6xeJdADjU4QFO3NoNTLabAAAAeElEQVQIHQXBvQ7BUACA0e+7P020EQsDC4NBYrZJ38BTewcmg8XGomnjRso50QlUuSkA1p9TenF2+oRUH7/DzMoChJJH3n2bEpDS0CS7kAVCntd9txhjBFzp7he86h03qqp6kb2qbm8qABy06Y0A8FjHcTkIANCqf7L2G5qa4UzTAAAAAElFTkSuQmCC) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/searchgray_iconsmall.png?bbd58) center right no-repeat!ie}#bodyContent span.smwsearch a:hover{text-decoration:none;color:#0000FF;padding-right:18px;margin-right:0px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAALySURBVDgRlcFraNVlHMDx7+95nv/zP+d/LnObeVtz2uyCrRUVDAIHMbIXltUgKRYR7kWvupjYDSEkgkgoKCiJfGeRzqw0CvYuahBWyrZWuWihuWNrZ+e2c87OZf//U1DB8EXU52P27XuV9takiiVS95ZjV+xdjK3uxbO0sFi15ewnlBYO1pZqP9YbTZQSLmeUOF1eNs+fj219QXdt1i2rfXwPlpxKho3qbpme3B7+/N2wUoyKCJcz9VB2ZFfdcKDtxh7p3hiRiMFSDfKFJjadwF/fd+V8pfhmYXK83ynJgLCSKanU47Et18qmDsc1axXtAlPzEekOS7XhSK3SmNt6uuemJnc2K5VDog0rmaptvWXtmgRBLKJNBL/h8DyhPRBqScGKI31dB2c8c2exsHhIW8tKZtmm/MBGFIohZ2oRQaDYkFYECgLAOjBa0ajVk8VSGc+3rGSa+Us18XQ8bIREgSKIC74G5aAdsEAjjCgXioXSYgVTX0bE8Q+zMD0xVs2V7tKtCepNiJRQB1JAClgjwskvvuXCzOypWn2ZeLiEA5wD58DkZs69fO7UyYGBPQ/FYxoi51D8JRBhNl/i05FRWlpaLtzReZbOxiSzRcNcCXIVMErL2E+fffSYNe61/t33pUxbEgeIwOmpGY6/fQxj4mzrTe/vyUz0zzflLU/CeSOgcRhRiqhZPzx+/OjEr998tXdDd2dfPBHT1flc4eL0Lyc6OzeeXt9WHu52Xw5etTk9UP0+f2szsg87XMEhGP4kWiNEXxczmQfERQSpBIXMHKVcka1XO/QP76/rvr9rsOf2IezIu3f/PpY/8lvRewTIGv4mImjPw/MtnvXwYhbtB9jqefzKxaMfj+R74+u6nrh+1xDN8MiO7Gj+8ELZDhv+lcOJRhtTuZRt7Hn9xQ/do88MPnnz0BAPyns73ziRf8fwH/lWu9mF5acPHvggevalXU+137QN9fn4PYb/wfN0M1cKn3tl/7FNbVt6tk9L39k/AH8KLAsrDQkDAAAAAElFTkSuQmCC) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/search_icon.png?a5d66) center right no-repeat!ie}#bodyContent span.swmfactboxheadbrowse a{padding-right:16px;margin-right:2px;color:#000000;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAA5FBMVEUAAADb3uv///+gqcBJYqGTmq24v9KJkamboLBtfqOnrbuSmqyqr7yVnK3o6e3n6OrKzdaWna7O0NWMlKiQl6qWm6yRma3DxczEyM+Olqyeo7J+iaamq7qZoLGMlKrg4eiYobqFjqfBxMyQl6hXbaGXnK+hprmcobPEx9BZbaGkqriIkayjp7d1g6iztsSytsZzf6GcobSaobjq6++Umq5abZ6aoLJre6NqeqJ7hqfg4umvtsp0g6h9iaff4el3hKVld6aUoL6wt8meo7SXnbCUm66Jkqnq6+64usRfcqOxs8Dm5+teFG05AAAAAXRSTlMAQObYZgAAAH9JREFUeF4dymMSRDEABOGZ5HFt27Zt3v8+m833r6saSqDl6aSC0ELhXN7r80egVBYZRmOMJ5LAIV0lsy55LRRRKlNYbs0SrDfQpBCybUgh2EXvH4aOPgZDtRkjtY0nmM7m5HtJrtYbYLvb07Z5PJ2hXMybad4fEtrz5TifL4AfAxMLmJTt7hwAAAAASUVORK5CYII=) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/browse_iconsmall.png?9997a) center right no-repeat!ie}#bodyContent span.swmfactboxheadbrowse a:hover{text-decoration:none;color:#0000FF;padding-right:18px;margin-right:0px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAA81BMVEUAAADByOQOLn7///8BInfg5O2xuthsf7ODk8CmqbEnQ4slQYoYNYJqea6BhZaSlJ9kbo5fc6xld62/v8Fnea6BhZdbb6lKY6axsrWIjJe/wMQ6UZOCkMVoeq6Gk79BWZpBWJqCkr4uSo8mRI8PLnqio6plcppIXp+LjprFxsgmQYMrRo4nRJI6TX+ytLyKl8xseah7ir9cbqUDJXeJl8xWbLBue6xPZaeYm6V+hqCLl841S34MLXwsSZJVaasSMYBcaYZUZphLYqBsfrFKYaB3iLcwS5EvSpFjeK1neq4zTpE2ToxQaKlSXoIMKW9idKyur7PDoCJEAAAAAXRSTlMAQObYZgAAAJtJREFUGFdlT8USg1AQ292HQ93d3d3dvf//NYWBHhhyS2ZiAAYCnpC7GoU/al5XsjPs9V9fk8tEPn8q+AlH6jGDxxMrwnQmm8N8oVjShXLljXhS1ANio9kCaK+7yIQ9aUeB4XgyhdkcGZOWA44kxnC0hZ3OeXHDcSTyurJwCg6LGXom7WKFmrVXRb1Ztcawu20YyI+nbbrznP3+D9crFuL3dLY6AAAAAElFTkSuQmCC) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/browse_icon.png?67c46) center right no-repeat!ie}#bodyContent span.smwbrowse a{padding-right:16px;margin-right:2px;color:#888888;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAA5FBMVEUAAADb3uv///+gqcBJYqGTmq24v9KJkamboLBtfqOnrbuSmqyqr7yVnK3o6e3n6OrKzdaWna7O0NWMlKiQl6qWm6yRma3DxczEyM+Olqyeo7J+iaamq7qZoLGMlKrg4eiYobqFjqfBxMyQl6hXbaGXnK+hprmcobPEx9BZbaGkqriIkayjp7d1g6iztsSytsZzf6GcobSaobjq6++Umq5abZ6aoLJre6NqeqJ7hqfg4umvtsp0g6h9iaff4el3hKVld6aUoL6wt8meo7SXnbCUm66Jkqnq6+64usRfcqOxs8Dm5+teFG05AAAAAXRSTlMAQObYZgAAAH9JREFUeF4dymMSRDEABOGZ5HFt27Zt3v8+m833r6saSqDl6aSC0ELhXN7r80egVBYZRmOMJ5LAIV0lsy55LRRRKlNYbs0SrDfQpBCybUgh2EXvH4aOPgZDtRkjtY0nmM7m5HtJrtYbYLvb07Z5PJ2hXMybad4fEtrz5TifL4AfAxMLmJTt7hwAAAAASUVORK5CYII=) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/browse_iconsmall.png?9997a) center right no-repeat!ie}#bodyContent span.smwbrowse a:hover{text-decoration:none;color:#0000FF;padding-right:18px;margin-right:0px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAA81BMVEUAAADByOQOLn7///8BInfg5O2xuthsf7ODk8CmqbEnQ4slQYoYNYJqea6BhZaSlJ9kbo5fc6xld62/v8Fnea6BhZdbb6lKY6axsrWIjJe/wMQ6UZOCkMVoeq6Gk79BWZpBWJqCkr4uSo8mRI8PLnqio6plcppIXp+LjprFxsgmQYMrRo4nRJI6TX+ytLyKl8xseah7ir9cbqUDJXeJl8xWbLBue6xPZaeYm6V+hqCLl841S34MLXwsSZJVaasSMYBcaYZUZphLYqBsfrFKYaB3iLcwS5EvSpFjeK1neq4zTpE2ToxQaKlSXoIMKW9idKyur7PDoCJEAAAAAXRSTlMAQObYZgAAAJtJREFUGFdlT8USg1AQ292HQ93d3d3dvf//NYWBHhhyS2ZiAAYCnpC7GoU/al5XsjPs9V9fk8tEPn8q+AlH6jGDxxMrwnQmm8N8oVjShXLljXhS1ANio9kCaK+7yIQ9aUeB4XgyhdkcGZOWA44kxnC0hZ3OeXHDcSTyurJwCg6LGXom7WKFmrVXRb1Ztcawu20YyI+nbbrznP3+D9crFuL3dLY6AAAAAElFTkSuQmCC) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/browse_icon.png?67c46) center right no-repeat!ie}#bodyContent span.smwmap a{padding-right:20px;color:#888888;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAANkE3LLaAgAAAzBJREFUOBGlwTtsGwUAgOH/zufHOe9zHBzsJM6DhpRUCWmjCiolKgOiS6VKrWBghSUswEAlJjYGRlQECypQhoIEAqlNuwSiJhSqkJAqbR40pnbjR/w6+x72+Xw+itgqMfF98D8JPCn2thwfDZ9/cXro7LOjfSflgLetpBoP1u9llm7/kbqirn+wyX/pmLz4wvsfXV9PplW30XBcu+m4dtNxrUbTNcyGu7r2sH72jc8/hHmJJwUm3pu79OUvVcO03ZJad1PpirtxL+3e2Uy5v24k3b1EwVWrlltW6+75hS++hgseHvPwjyPv9L72yuyNhddPhTXDIpEqki/p6GaDoOzlsKgjCCJOs4VmWBwd7T+2eDerGwdLqxKPdcltb710cnwgmVHJl3R2EjkkSaTVclG6g9hNh/HhPrySh939Am3BAPPHn7l4tfDuZQ+86RVD8scdbb6wLHvJ5quoWo1sQaOq1ckVdAajCqeOD2M3HBwHDgsGubwp7z3MbYn+8Z6oKAjDK+sJvrm+gVeSmBqP4TgumztZDrIauUONRKpMOqfRdFoUSzXUqondap3wBMJzMURhIRDwismMymC/wpn5CSaPRCiWDXp7giCIfHJllWLZJBLqolypc215i2yxui02/T7d5/PYlWqNnk6ZzZ00uw/yyD4fF85MMTsdY2RAQdOaJA+q5EsmZr2BZdv4vP6qx8nphtw/8qrfHwjrhoUousSjvcT6u7h5a4fFn7fJ5U062/y4Lgz1K+wk8rQQ+HN365IEa7aZ6f4+Mn3uaPJRlopmMRZXiD3dgW40qNUddMnCrNsc5FRUrYZhNUhnD0v1/a9uioBkZVcWq6WD0lg8Qme7TKVqIXqgL9TO2GAIBBerYeP3SeylcgRkmcz24lUwyx4gAM1uvZgkEp898fzkiNinyKzcSVBSTSLhDtqDPsJKO0NRhZCisPLTd3fVxLXPgLwHaAESzYqhZrfVztBQPBobaotGFGYmY4S62wkGZXqVbvb2s+6NHy7fytz/9lPgPpAR+JcE9AIDIE6MHzs9N3/65ZmZqeeeQhCkR+m8/vvab3vLSz8u62rqNvAXkAFqfwOkPI+h92xJFAAAAABJRU5ErkJggg==) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/world.png?0f0dd) center right no-repeat!ie}#bodyContent span.smwmap a:hover{padding-right:20px;color:#0000FF;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAANkE3LLaAgAAAzBJREFUOBGlwTtsGwUAgOH/zufHOe9zHBzsJM6DhpRUCWmjCiolKgOiS6VKrWBghSUswEAlJjYGRlQECypQhoIEAqlNuwSiJhSqkJAqbR40pnbjR/w6+x72+Xw+itgqMfF98D8JPCn2thwfDZ9/cXro7LOjfSflgLetpBoP1u9llm7/kbqirn+wyX/pmLz4wvsfXV9PplW30XBcu+m4dtNxrUbTNcyGu7r2sH72jc8/hHmJJwUm3pu79OUvVcO03ZJad1PpirtxL+3e2Uy5v24k3b1EwVWrlltW6+75hS++hgseHvPwjyPv9L72yuyNhddPhTXDIpEqki/p6GaDoOzlsKgjCCJOs4VmWBwd7T+2eDerGwdLqxKPdcltb710cnwgmVHJl3R2EjkkSaTVclG6g9hNh/HhPrySh939Am3BAPPHn7l4tfDuZQ+86RVD8scdbb6wLHvJ5quoWo1sQaOq1ckVdAajCqeOD2M3HBwHDgsGubwp7z3MbYn+8Z6oKAjDK+sJvrm+gVeSmBqP4TgumztZDrIauUONRKpMOqfRdFoUSzXUqondap3wBMJzMURhIRDwismMymC/wpn5CSaPRCiWDXp7giCIfHJllWLZJBLqolypc215i2yxui02/T7d5/PYlWqNnk6ZzZ00uw/yyD4fF85MMTsdY2RAQdOaJA+q5EsmZr2BZdv4vP6qx8nphtw/8qrfHwjrhoUousSjvcT6u7h5a4fFn7fJ5U062/y4Lgz1K+wk8rQQ+HN365IEa7aZ6f4+Mn3uaPJRlopmMRZXiD3dgW40qNUddMnCrNsc5FRUrYZhNUhnD0v1/a9uioBkZVcWq6WD0lg8Qme7TKVqIXqgL9TO2GAIBBerYeP3SeylcgRkmcz24lUwyx4gAM1uvZgkEp898fzkiNinyKzcSVBSTSLhDtqDPsJKO0NRhZCisPLTd3fVxLXPgLwHaAESzYqhZrfVztBQPBobaotGFGYmY4S62wkGZXqVbvb2s+6NHy7fytz/9lPgPpAR+JcE9AIDIE6MHzs9N3/65ZmZqeeeQhCkR+m8/vvab3vLSz8u62rqNvAXkAFqfwOkPI+h92xJFAAAAABJRU5ErkJggg==) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/world.png?0f0dd) center right no-repeat!ie}#bodyContent span.rdflink{float:right}#bodyContent span.rdflink a{padding-right:20px;color:#888888;background:url(data:image/gif;base64,R0lGODlhEQASAIQeAIWjzhpTo0h1tvH0+SpeqUh1tWeMwjlqr+Hp89Ld7cLR5rPG4RpSo8PS53aYyDhpr5Wv1FiBvO/z+KS62uDo8ileqWaMwXWXx7LF4KO62pSu1FeAu9Hc7P///wtHnQtHnSH+FUNyZWF0ZWQgd2l0aCBUaGUgR0lNUAAh+QQBAAAfACwAAAAAEQASAAAFU+AnjuQneKhQriclpSvJSC/qxaNX2/hn/6pY6udRAX03k82Y6dROJKjI01H8VknfDoXNbbmkougEBC+DZDES1aHAcChKZ9nzza89HbGefvfSDh8hADs=) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/rdf_flyer.18.gif?dc535) center right no-repeat!ie}#bodyContent span.rdflink a:hover{text-decoration:none;color:#0000FF;padding-right:20px;margin-right:0px;background:url(data:image/gif;base64,R0lGODlhEQASAIQeAIWjzhpTo0h1tvH0+SpeqUh1tWeMwjlqr+Hp89Ld7cLR5rPG4RpSo8PS53aYyDhpr5Wv1FiBvO/z+KS62uDo8ileqWaMwXWXx7LF4KO62pSu1FeAu9Hc7P///wtHnQtHnSH+FUNyZWF0ZWQgd2l0aCBUaGUgR0lNUAAh+QQBAAAfACwAAAAAEQASAAAFU+AnjuQneKhQriclpSvJSC/qxaNX2/hn/6pY6udRAX03k82Y6dROJKjI01H8VknfDoXNbbmkougEBC+DZDES1aHAcChKZ9nzza89HbGefvfSDh8hADs=) center right no-repeat;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/rdf_flyer.18.gif?dc535) center right no-repeat!ie} table.smwb-factbox{border-left:8px solid #DDDDDD;width:100% }tr.smwb-title{font-size:200%;background-color:#DDDDDD;line-height:1.5}tr.smwb-title td{padding-left:5px;border-bottom:2px solid white}tr.smwb-propvalue{width:100%;background-color:#EEEEEE}tr.smwb-propvalue th{text-align:right;vertical-align:top;font-weight:bold;font-size:120%;background-color:#DDDDDD;padding:0.2em 0.6em;border-bottom:2px solid white;border-top:2px solid white}tr.smwb-propvalue td{padding-left:0.4em;background-color:#EEEEEE;border:0px solid white;border-bottom:2px solid white;border-top:2px solid white;width:90%}tr.smwb-center{background-color:#DDDDDD}span.smwb-value{} table.smwb-ifactbox{border-right:8px solid #DDDDDD;width:100% }tr.smwb-ititle{font-size:200%;background-color:#DDDDDD;line-height:1.5}tr.smwb-ititle td{padding-left:5px;border-bottom:2px solid white}tr.smwb-ipropvalue{width:100%;background-color:#EEEEEE;text-align:right}tr.smwb-ipropvalue th{text-align:left;font-weight:bold;font-size:120%;background-color:#DDDDDD;padding:0.2em 0.6em;border-bottom:3px solid white;border-top:3px solid white}tr.smwb-ipropvalue td{background-color:#EEEEEE;border-bottom:3px solid white;border-top:3px solid white;padding-right:1em;width:90%}span.smwb-ivalue{} .smw-spinner .text{padding-left:2.1em;font-size:12px;vertical-align:middle} .smw-spinner.left.mw-small-spinner{background-position:left;vertical-align:middle;display:inline-block;padding:0px !important} .smw-spinner.center.mw-small-spinner{vertical-align:middle;display:inline-block;padding:0px !important} table.smw-ask-query .smw-ask-query-condition{width:100%}table.smw-ask-query .smw-ask-query-printout{width:100%}
div.smwtt{color:#000000} span.smwttpersist span.smwttcontent{color:#888888;font-style:italic;font-size:90%} span.smwttinline span.smwttcontent{display:none;speak:none} span.smwtticon{display:none} span.smwttactivepersist{cursor:help;color:#0000C8} span.smwttactiveinline{color:#BB7700;text-decoration:none} img.smwttimg{padding-right:5px;padding-left:4px} .smwttcontent{display:none} .smwtticon{padding:14px 12px 0 0;white-space:nowrap;margin-bottom:-1px} .smwtticon.info{display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QAQACXAOIX6M4XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1woNCAQvupvvrgAAAgpJREFUKBUFwTtME3EAwOHf3f961+vd9Sh9HEVINUrFhAbRmCgGo9FodCFMLhomJ6MmJsbF1Z2ExMHBUQc3BmOigyERB0ElQHgECRYECrRC26OPa3t+nwQAAI7aO/K458yJeK8qOA74dY/1hbWdxZWJsVUoeAAKAImh2NDdR/duD54cdRLRdMQydB84KJaPzufyyx+6Tr+Zej/2jr1vBUHiin3j/pPnwzcvPMv0OKlb/YlAT4cupR1d0lRNNWwrmUhEB+tmSl7/vTktMiNPhy9dvviyM2FYnZEgpRp8WS3htaC/W2du64iWLAUl1RgoY84qiiJdU03TKFR9vv+tIZQGsiTojqg0WrDtwlHVR7PscCDAVaXoEV3KN+hCELUVVBFgNBOkXZd5NVPhoC6TL0J2v8FhnbiCUBtlX2WzInB1jZiuEQ4KfhVgrR7ErUO+UsMlgCwUT6FRW9YU2TdMXbIsjbglmD+EPQ9iYQFo1Go6Xq3c8hveolze2/hY3M6u2IaGHRI4JpxthyRVHAPCIQXbDFLcyi6WcuufhLs2lXMxsy0tkk51tDkdYVU6ZkosbFXxAwF290vN6amfM0uf374oTI5/lQAAYfddP5e58/BBuivel4qF4k0f/uy7u0sbubn5ifHX7srkLNCUAAAAQtFUW/LUQLI9HHGaPv6/Yj63s/pju1LYPAQA+A8p2cUweh5dZAAAAABJRU5ErkJggg==) no-repeat left bottom;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/info.png?34b97) no-repeat left bottom!ie}.smwtticon.service{display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QAQACXAOIX6M4XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1woNCAQvupvvrgAAAgpJREFUKBUFwTtME3EAwOHf3f961+vd9Sh9HEVINUrFhAbRmCgGo9FodCFMLhomJ6MmJsbF1Z2ExMHBUQc3BmOigyERB0ElQHgECRYECrRC26OPa3t+nwQAAI7aO/K458yJeK8qOA74dY/1hbWdxZWJsVUoeAAKAImh2NDdR/duD54cdRLRdMQydB84KJaPzufyyx+6Tr+Zej/2jr1vBUHiin3j/pPnwzcvPMv0OKlb/YlAT4cupR1d0lRNNWwrmUhEB+tmSl7/vTktMiNPhy9dvviyM2FYnZEgpRp8WS3htaC/W2du64iWLAUl1RgoY84qiiJdU03TKFR9vv+tIZQGsiTojqg0WrDtwlHVR7PscCDAVaXoEV3KN+hCELUVVBFgNBOkXZd5NVPhoC6TL0J2v8FhnbiCUBtlX2WzInB1jZiuEQ4KfhVgrR7ErUO+UsMlgCwUT6FRW9YU2TdMXbIsjbglmD+EPQ9iYQFo1Go6Xq3c8hveolze2/hY3M6u2IaGHRI4JpxthyRVHAPCIQXbDFLcyi6WcuufhLs2lXMxsy0tkk51tDkdYVU6ZkosbFXxAwF290vN6amfM0uf374oTI5/lQAAYfddP5e58/BBuivel4qF4k0f/uy7u0sbubn5ifHX7srkLNCUAAAAQtFUW/LUQLI9HHGaPv6/Yj63s/pju1LYPAQA+A8p2cUweh5dZAAAAABJRU5ErkJggg==) no-repeat left bottom;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/info.png?34b97) no-repeat left bottom!ie}.smwtticon.warning{display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZ1JREFUKFOVy79rE3EcxvH39+7y8/q9pF4S0xi0mEiaMxV68Yxg8PeiVyhV6iCIQhErHUScFJxcHAX/Azf/AgWXWlsUhyrYioMiqKgoiEgrJTH3cSuldvE9Pg8vkw3Nt6lfHuZ68g9fnv/k2/pPRDDWD098bD1gTO4cdS+NNowp38ZhQ2tgZgQSWo3kDgyPpU/esSuHd4fnK6o1lERtCuIp0tmGO73sHavevf8B8Y7uaDT7pwMXvSmwEkbgNHeFb1eLPH22wNJKnka7enxAG+1/wKxPpq+SuuaeOKSzuSQxq0vGjZML99vj+xJXDmoKa2DOx0znOVUcL7fNrXl8v0OtZhIEv1GFFLUJt3XW43TRJAZgGBal/lbsjN0sZeENIkuEoQUsAq/RQcZpHjEnzpUpA/DqAld/zOjVqOdJFO2RuXlPhuo5efBwUKJou0S9gvx6HO/cG+OmiGD1FdSU3tZNyNdPAFQd4cbFHvUty8jnCOhhl6JYfZBJ4JY1+1IeObc770S6ChClQCvhxaKwEAEISqE+vuf7XkCJCP/TX7cEexPi9whUAAAAAElFTkSuQmCC) no-repeat left bottom;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/warning.png?06a3c) no-repeat left bottom!ie}.smwtticon.note{display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgtJREFUeNokUctqU1EUXefk5iY3D2MrSWOamyq9jYO2BovUR41O1Iykov6Bc6WDDh36A4oKnYkORZBCoA6KI1GrEKhoFWOo1qhJk6Z539c57sTB5gzOWns9NpMA3KCK0s0TsHwiBsW3qPi0OYerbmP89IaVnFvtMn/dmEginU5DITyYLSA4y40embp3MDWVVoNhgKvot1sob699/OqdvM0MY32AVTrZWZhhfnEsk85HEikOxoERnbYwBLxeGNH4jK/wdq1W1Bd7h8fySnlei4WT0ZV4ROWivQt4A+AzV0DrIV8/AtQA9Onjyt7G6spmOJHhb6IXrkbCnqOyuw+YNL0aTRPSpOnVidgE7A70Q/7x+pf315Wgph1TpAVBOcApktUBnN7/t9/AoBT6REAl8f3dBcW07R1pdSGkSvaJIBzIWpHUWkRqDrNAWENFIWJBZafWKZgjbWghDZIRgUK7Hx4PugNzXSK1wZmLVq0CO5ot8kw2Vyg70U+M/Eu7D0lWPLm78GSXKEOD7JlAu4rvTVWwmPGc/frzF63S5kIgv7SeOGCp0usHUmfAhAtW3SIdga2ffZTnl++nZk/dYlJKkDBePXtyOfb56cO4W5rUWH9YQEcEsI2U+9u48WD63KVlY0K3hpeWjgMxqr+snr9zslL5do3t/ThLnYXsUKLIY8YLj22+Y441gOKfAAMAeeDgUIIDAXwAAAAASUVORK5CYII=) no-repeat left bottom;background:url(https://rosettacode.org/mw/extensions/SemanticMediaWiki/resources/images/note.png?3c504) no-repeat left bottom!ie}
.mw-collapsible-toggle{float:right;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}  .mw-content-ltr .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr .mw-collapsible-toggle{float:right} .mw-content-rtl .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl .mw-collapsible-toggle{float:left}.mw-customtoggle,.mw-collapsible-toggle{cursor:pointer} caption .mw-collapsible-toggle,.mw-content-ltr caption .mw-collapsible-toggle,.mw-content-rtl caption .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr caption .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl caption .mw-collapsible-toggle{float:none} li .mw-collapsible-toggle,.mw-content-ltr li .mw-collapsible-toggle,.mw-content-rtl li .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr li .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left; overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.highlight{font-weight:bold}
textarea{font-family:Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}.ti89b{font-family:'TI Uni',monospace}.wikicode{font-weight:bold} .kw1{font-weight:bold;color:#0000ff}.kw2{font-weight:bold;color:#0000cc}.kw3{font-weight:bold;color:#3333cc}.kw4{font-weight:bold;color:#6666cc}.kw5{font-weight:bold;color:#9999cc}.br0{font-weight:bold;color:#009900}.nu0{font-weight:bold;color:#009999}.co1{color:#666666;font-style:italic}.co2{font-weight:bold;color:#666666;font-style:italic}.coMULTI{font-weight:bold;color:#666;font-style:italic}.me1{font-weight:bold;color:#993399}.me2{font-weight:bold;color:#cc66cc}.st0,.st_h{color:#ff0000} .re2{background-color:#ccccff}.re3{background-color:#ffcccc} #p-googleadsense .pBody{padding-top:5px;text-align:center} ol.references > li:target{background-color:#DEF} table.wikitable,table.prettytable{margin:1em 1em 1em 0;background:#f9f9f9;border:1px #aaa solid;border-collapse:collapse}table.wikitable th,table.wikitable td,table.prettytable th,table.prettytable td{border:1px #aaa solid;padding:0.2em}table.wikitable th,table.prettytable th{background:#f2f2f2;text-align:center}table.wikitable caption,table.prettytable caption{margin-left:inherit;margin-right:inherit;font-weight:bold} table.navbox{background-color:#f9f9f9;border:1px solid #aaa;clear:both;font-size:90%;margin:1em 0em 0em;padding:5px;text-align:center;width:100%}table.navbox th{background-color:#ccf;padding-left:1em;padding-right:1em}table.navbox tr:not(:first-child) th{background-color:#ddf}@media print{.navbox{display:none}} .infobox{border:1px solid #aaa;background-color:#f9f9f9;color:black;margin-bottom:0.5em;margin-left:1em;padding:0.2em;float:right;clear:right}.infobox td,.infobox th{vertical-align:top}.infobox caption{font-size:larger;margin-left:inherit}.infobox.bordered{border-collapse:collapse}.infobox.bordered td,.infobox.bordered th{border:1px solid #aaa}.infobox.bordered .borderless td,.infobox.bordered .borderless th{border:0}.infobox.sisterproject{width:20em;font-size:90%}@media print{.infobox.sisterproject{display:none}} .infobox.bordered .mergedtoprow td,.infobox.bordered .mergedtoprow th{border:0;border-top:1px solid #aaa;border-right:1px solid #aaa}.infobox.bordered .mergedrow td,.infobox.bordered .mergedrow th{border:0;border-right:1px solid #aaa}#disambig{border-top:1px solid #ccc;border-bottom:1px solid #ccc} .Talk-Notice{border:1px solid #C0C090;background-color:#F8EABA;margin-bottom:3px;width:85%;border-spacing:3px;margin-left:auto;margin-right:auto}.Talk-Notice:after{content:"The CSS for this template should be changed. See [[Wikipedia:Template Standardisation]]."} .Talk-Notice td{background:inherit} table.persondata{border:1px solid #aaa;display:none;speak:none}.persondata-label{color:#aaa} .allpagesredirect{font-style:italic}  .Use_Default_Date_Convention{display:inline}.Use_AD_and_BC{display:none}.Use_BCE_and_CE{display:none}     .audiolink a{background:url(http://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Loudspeaker.svg/11px-Loudspeaker.svg.png) center left no-repeat !important;padding-left:16px !important;padding-right:0 !important} div.listenlist{background:url(http://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Gnome-speakernotes.png/30px-Gnome-speakernotes.png);padding-left:40px}div.videolist,div.multivideolist{background:url(http://upload.wikimedia.org/wikipedia/en/thumb/2/20/Tango-video-x-generic.png/40px-Tango-video-x-generic.png);padding-left:50px} div.medialist{min-height:50px;margin:1em;background-position:top left;background-repeat:no-repeat}div.medialist ul{list-style-type:none;list-style-image:none;margin:0}div.medialist ul li{padding-bottom:0.5em}div.medialist ul li li{font-size:91%;padding-bottom:0}  #bodyContent a[href$=".pdf"].external,#bodyContent a[href*=".pdf?"].external,#bodyContent a[href*=".pdf#"].external,#bodyContent a[href$=".PDF"].external,#bodyContent a[href*=".PDF?"].external,#bodyContent a[href*=".PDF#"].external{background:url(http://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Icons-mini-file_acrobat.gif/15px-Icons-mini-file_acrobat.gif) center right no-repeat;padding-right:16px}  span.PDFlink a{background:url(http://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Icons-mini-file_acrobat.gif/15px-Icons-mini-file_acrobat.gif) center right no-repeat !important;padding-right:17px !important} div.columns-2 div.column{float:left;width:50%;min-width:300px}div.columns-3 div.column{float:left;width:33.3%;min-width:200px}div.columns-4 div.column{float:left;width:25%;min-width:150px}div.columns-5 div.column{float:left;width:20%;min-width:120px} .plainlinksneverexpand{background:none ! important;padding:0 ! important}.plainlinksneverexpand .urlexpansion{display:none ! important} .plainlinksneverexpand a{background:none !important;padding:0 !important} .plainlinksneverexpand a.external.text:after{display:none !important}.plainlinksneverexpand a.external.autonumber:after{display:none !important} .messagebox{border:1px solid #aaa;background-color:#f9f9f9;width:80%;margin:0 auto 1em auto;padding:.2em}.messagebox.merge{border:1px solid #c0b8cc;background-color:#f0e5ff;text-align:center}.messagebox.cleanup{border:1px solid #9f9fff;background-color:#efefff;text-align:center}.messagebox.standard-talk{border:1px solid #c0c090;background-color:#f8eaba}.messagebox.taskdescription{border:1px solid #3333ff;background-color:#9999ff;text-align:center} #file img{background:url(http://upload.wikimedia.org/wikipedia/commons/5/5d/Checker-16x16.png) repeat} .IPA{font-family:"Chrysanthi Unicode","Doulos SIL",Gentium,GentiumAlt,Code2000,"TITUS Cyberbit Basic","DejaVu Sans","Bitstream Cyberbit","Arial Unicode MS","Lucida Sans Unicode","Hiragino Kaku Gothic Pro","Matrix Unicode";font-family :inherit}.Unicode{font-family:Code2000,"TITUS Cyberbit Basic","Doulos SIL","Chrysanthi Unicode","Bitstream Cyberbit","Bitstream CyberBase",Thryomanes,Gentium,GentiumAlt,"Lucida Grande","Arial Unicode MS","Microsoft Sans Serif","Lucida Sans Unicode";font-family :inherit}.latinx{font-family:Code2000,"TITUS Cyberbit Basic","Microsoft Sans Serif";font-family :inherit}.polytonic{font-family:Athena,Gentium,"Palatino Linotype","Arial Unicode MS","Lucida Sans Unicode","Lucida Grande",Code2000;font-family :inherit}.mufi{font-family:Alphabetum,Cardo,LeedsUni,Junicode,"TITUS Cyberbit Basic",ALPHA-Demo}#wpSave{font-weight:bold} .hiddenStructure{display:inline ! important;color:#f00;background-color:#0f0} .nounderlines a{text-decoration:none} .IPA a:link,.IPA a:visited{text-decoration:none} @media print{#privacy,#about,#disclaimer{display:none}}#EnWpMpBook{background-image:url(http://upload.wikimedia.org/wikipedia/en/7/7e/MP-open-book.png)}#EnWpMpSearch{background:url(http://upload.wikimedia.org/wikipedia/en/a/ae/MP-magnifying-glass.png) no-repeat top right}#EnWpMpSearchInner{float:right;width:20em;text-align:center}#EnWpMpBook2{background-image:url(http://upload.wikimedia.org/wikipedia/commons/8/8e/MP-open-book2.png)}.messagebox.small-talk{width:238px;font-size:85%;float:right;clear:both;margin:0 0 1em 1em;line-height:1.25em;background:#F8EABA} div.Boxmerge,div.NavFrame{margin:0px;padding:2px;border:1px solid #aaa;text-align:center;border-collapse:collapse;font-size:95%}div.Boxmerge div.NavFrame{border-style:none;border-style:hidden}div.NavFrame + div.NavFrame{border-top-style:none;border-top-style:hidden}div.NavPic{background-color:#fff;margin:0px;padding:2px;float:left}div.NavFrame div.NavHead{height:1.6em;font-weight:bold;font-size:100%;background-color:#efefef;position:relative}div.NavFrame p{font-size:100%}div.NavFrame div.NavContent{font-size:100%}div.NavFrame div.NavContent p{font-size:100%}div.NavEnd{margin:0px;padding:0px;line-height:1px;clear:both}a.NavToggle{position:absolute;top:0px;right:3px;font-weight:normal;font-size:smaller} .mw-plusminus-pos{color:darkgreen} .mw-plusminus-neg{color:darkred}.dablink{font-style:italic;padding-left:2em}pre{overflow:auto}
.postedit-container{margin:0 auto;position:fixed;top:0;height:0;left:50%;z-index:1000;font-size:13px}.postedit-container:hover{cursor:pointer}.postedit{position:relative;top:0.6em;left:-50%;padding:.6em 3.6em .6em 1.1em;line-height:1.5625em;color:#626465;background-color:#f4f4f4;border:1px solid #dcd9d9;text-shadow:0 0.0625em 0 rgba(255,255,255,0.5);border-radius:5px;box-shadow:0 2px 5px 0 #ccc;-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-ms-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out}.skin-monobook .postedit{top:6em !important}.postedit-faded{opacity:0}.postedit-icon{padding-left:41px;  line-height:25px;background-repeat:no-repeat;background-position:8px 50%}.postedit-icon-checkmark{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABblBMVEUAAAD///////9PfTf///80aRdTgjn///9Feij///////////9Rfzf///////////9PfjZRgDh1o1xOfTb///////+bwYqLtnj///////9PfTa82K////9WhT6YxIL///9QgDdTgzr////////j7uDl7eLq8efi693k7OH///////9UhjuBr2rp9uRUhjr///9YljVKgir///9WiTlYjT3////9/v57vFlbkT5PjC9dlD/5/fhuq09stUTs9uhxuElctCpfnT1huDFloEZloUZmpENmvDZpvDxpvTxqvjxrvT5rvT9rwTxsqktswD5uwkBvuUdxw0NztFBztU9ztVBzwkp0tlJ1xkd2t1R3uVR4w1F4xk54x014yE15uVZ5v1R5xVB6v1R7yFJ8wVh9xVl9yFR9yVd9ylN+xVh+yFd/x1l/yFeAylmEx1+Ny2uY0Hqe04Wj1Ymv3Ze33qLD47TJ5L3O6cPU7Mrq9eb2+/Q4j37OAAAAQHRSTlMAAQIEBAUFBQwPFB4fJCUoKiosQEhJS01RUlZZXmdydXaChYuSlJSWmJmoq6uur8LExcvM19fg5ejt8fX2+Pr7SljgewAAAKpJREFUGBkFwQNCAwAAAMDLtl3LtrG4rWXbtvX77gAgZ6grFwC0bhwNVgKgdPZx8b0dgLi+s7Wn0VoAqpfOI9+BNADZI7fLrz2pSEwGHZuH+78lSK8ZLkLezF3ooyUG3VPXq2USei9WngeyoG195yBYWDF3E/2pAhl1e9Gr8bGT+bfOFCC2fnvh4X7rcqIAQNNu+HT6sxkAjceTL/2ZAIhv+PorBwBJxfkA//dFHSCBy/UTAAAAAElFTkSuQmCC);background-image:url(https://rosettacode.org/mw/resources/src/mediawiki.action/images/green-checkmark.png?9048a)!ie;background-position:left}.postedit-close{position:absolute;padding:0 .8em;right:0;top:0;font-size:1.25em;font-weight:bold;line-height:2.3em;color:black;text-shadow:0 0.0625em 0 white;text-decoration:none;opacity:0.2;filter:alpha(opacity=20)}.postedit-close:hover{color:black;text-decoration:none;opacity:0.4;filter:alpha(opacity=40)}</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{color:black;text-decoration:none}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}.suggestions a.mw-searchSuggest-link .special-query{ overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}</style><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/load_002.css">
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script async="" src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/load.php" type="text/javascript"></script>
<meta name="generator" content="MediaWiki 1.26.2">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="ExportRDF" type="application/rdf+xml" title="Knapsack problem/0-1" href="https://rosettacode.org/mw/index.php?title=Special:ExportRDF/Knapsack_problem/0-1&amp;xmlmime=rdf">
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit">
<link rel="edit" title="Edit" href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit">
<link rel="shortcut icon" href="https://rosettacode.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://rosettacode.org/mw/opensearch_desc.php" title="Rosetta Code (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://rosettacode.org/mw/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/licenses/fdl-1.2.html">
<link rel="alternate" type="application/atom+xml" title="Rosetta Code Atom feed" href="https://rosettacode.org/mw/index.php?title=Special:RecentChanges&amp;feed=atom">
<script src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/load_002.php"></script></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Knapsack_problem_0-1 layout-standard skin-chameleon action-view">
<div class="container">
<div class="row">
<div class="col-lg-3">

<div id="p-logo" class="p-logo" role="banner">
<a href="https://rosettacode.org/wiki/Rosetta_Code" title="Visit the main page"><img src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/title.png" alt="Rosetta Code"></a>
</div>
</div>
<div class="col-lg-9">
<div class="row">
<div class="col-lg-12">

<div class="p-personal pull-right" id="p-personal">
<ul class="p-personal-tools list-inline pull-right">
<li id="pt-createaccount"><a href="https://rosettacode.org/mw/index.php?title=Special:UserLogin&amp;returnto=Knapsack+problem%2F0-1&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
<li id="pt-login"><a href="https://rosettacode.org/mw/index.php?title=Special:UserLogin&amp;returnto=Knapsack+problem%2F0-1" title="You are encouraged to log in; however, it is not mandatory [Alt+Shift+o]" accesskey="o">Log in</a></li>
</ul>
<div class="newtalk-notifier">
</div>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-12">

<div id="p-search" class="p-search pull-right" role="search">
<form id="searchform" class="mw-search form-inline" action="/mw/index.php">
<input type="hidden" name="title" value="Special:Search">
<div class="input-group">
<input name="search" placeholder="Search" title="Search Rosetta Code [Alt+Shift+f]" accesskey="f" id="searchInput" class="form-control" autocomplete="off">
<div class="input-group-btn">
<button value="Go" id="searchGoButton" name="go" title="Go to a page with this exact name if it exists" type="submit" class="searchGoButton btn btn-default"><span class="glyphicon glyphicon-share-alt"></span></button><button value="Search" id="mw-searchButton" name="fulltext" title="Search the pages for this text" type="submit" class="mw-searchButton btn btn-default"><span class="glyphicon glyphicon-search"></span></button>
</div>
</div>
</form>
</div>
</div>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-12">

<nav class="navbar navbar-default p-navbar" role="navigation" id="mw-navigation">
<div class="container-fluid"><div class="navbar-header">
<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#mw-navigation-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
</div>
<div class="collapse navbar-collapse" id="mw-navigation-collapse"><ul class="nav navbar-nav">

<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
<ul class="dropdown-menu p-Community" id="p-Community">
<li id="n-Twitter"><a href="http://twitter.com/rosettacode" rel="nofollow">Twitter</a></li>
<li id="n-Chat.2FIRC"><a href="https://rosettacode.org/wiki/Special:WebChat">Chat/IRC</a></li>
<li id="n-Planet"><a href="http://rosettacode.org/planet" rel="nofollow">Planet</a></li>
<li id="n-The-Village-Pump"><a href="https://rosettacode.org/wiki/Rosetta_Code:Village_Pump">The Village Pump</a></li>
<li id="n-Finances"><a href="https://rosettacode.org/wiki/Rosetta_Code:Finances">Finances</a></li>
</ul>
</li>

<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Explore <b class="caret"></b></a>
<ul class="dropdown-menu p-Explore" id="p-Explore">
<li id="n-Languages"><a href="https://rosettacode.org/wiki/Category:Programming_Languages">Languages</a></li>
<li id="n-Tasks"><a href="https://rosettacode.org/wiki/Category:Programming_Tasks">Tasks</a></li>
<li id="n-recentchanges"><a href="https://rosettacode.org/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [Alt+Shift+r]" accesskey="r">Recent changes</a></li>
<li id="n-Similar-sites"><a href="https://rosettacode.org/wiki/Help:Similar_Sites">Similar sites</a></li>
<li id="n-randompage"><a href="https://rosettacode.org/wiki/Special:Random" title="Load a random page [Alt+Shift+x]" accesskey="x">Random page</a></li>
</ul>
</li></ul>
</div>
</div>
</nav>
</div>
</div>
<div class="row">
<div class="col-lg-12">

<ul class="p-contentnavigation list-inline text-center" id="p-contentnavigation">

<li id="p-namespaces">
<ul class="list-inline">
<li id="ca-nstab-main" class="selected"><a href="https://rosettacode.org/wiki/Knapsack_problem/0-1" title="View the content page [Alt+Shift+c]" accesskey="c" class="selected">Page</a></li>
<li id="ca-talk"><a href="https://rosettacode.org/wiki/Talk:Knapsack_problem/0-1" rel="discussion" title="Discussion about the content page [Alt+Shift+t]" accesskey="t">Discussion</a></li>
</ul>
</li>

<li id="p-views">
<ul class="list-inline">
<li id="ca-edit"><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit" title="Edit this page [Alt+Shift+e]" accesskey="e">Edit</a></li>
<li id="ca-history"><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=history" title="Past revisions of this page [Alt+Shift+h]" accesskey="h">History</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="row">
<div class="col-lg-12">
</div>
</div>
<div class="row">
<div class="col-lg-12">

<div id="content" class="mw-body"><a id="top"></a>
<div id="mw-js-message" style="display:none;"></div>
<div class="contentHeader">

<h1 id="firstHeading" class="firstHeading">Knapsack problem/0-1</h1>

<div id="siteSub">From Rosetta Code</div>

<div id="contentSub" class="small"><span class="subpages">&lt; <a href="https://rosettacode.org/wiki/Knapsack_problem" title="Knapsack problem">Knapsack problem</a></span></div><div id="jump-to-nav" class="mw-jump">Jump to:<a href="#mw-navigation">navigation</a>, <a href="#p-search">search</a></div>
</div><div id="bodyContent">

<div id="mw-content-text" dir="ltr" class="mw-content-ltr" lang="en"><div class="infobox" style="width: 2in"><div class="floatleft"><a href="https://rosettacode.org/wiki/Category:Solutions_by_Programming_Task" title="Category:Solutions by Programming Task"><img alt="Task" src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/64px-Rcode-button-task-crushed.png" srcset="/mw/images/thumb/b/ba/Rcode-button-task-crushed.png/96px-Rcode-button-task-crushed.png 1.5x, /mw/images/thumb/b/ba/Rcode-button-task-crushed.png/128px-Rcode-button-task-crushed.png 2x" width="64" height="64"></a></div><b>Knapsack problem/0-1</b><br>
You are encouraged to <a href="https://rosettacode.org/wiki/Rosetta_Code:Solve_a_Task" title="Rosetta Code:Solve a Task">solve this task</a> according to the task description, using any language you may know.</div>
<p>A tourist wants to make a good trip at the weekend with his friends.
</p><p>They will go to the mountains to see the wonders of nature, so he needs to pack well for the trip.
</p><p>He has a good knapsack for carrying things, but knows that he can
 carry a maximum of only 4kg in it, &nbsp; and it will have to last the 
whole day.
</p><p>He creates a list of what he wants to bring for the trip but the total weight of all items is too much.
</p><p>He then decides to add columns to his initial list detailing 
their weights and a numerical value representing how important the item 
is for the trip.
</p><p><br>
Here is the list:
</p>
<table style="text-align: left; width: 80%;" cellspacing="2" cellpadding="2" border="4">
<caption> Table of potential knapsack items
</caption>
<tbody><tr style="background-color: rgb(255, 204, 255);">
<th> item </th>
<th> weight (dag) </th>
<th> value
</th></tr>
<tr>
<td> map </td>
<td> 9 </td>
<td> 150
</td></tr>
<tr>
<td> compass </td>
<td> 13 </td>
<td> 35
</td></tr>
<tr>
<td> water </td>
<td> 153 </td>
<td> 200
</td></tr>
<tr>
<td> sandwich </td>
<td> 50 </td>
<td> 160
</td></tr>
<tr>
<td> glucose </td>
<td> 15 </td>
<td> 60
</td></tr>
<tr>
<td> tin </td>
<td> 68 </td>
<td> 45
</td></tr>
<tr>
<td> banana </td>
<td> 27 </td>
<td> 60
</td></tr>
<tr>
<td> apple </td>
<td> 39 </td>
<td> 40
</td></tr>
<tr>
<td> cheese </td>
<td> 23 </td>
<td> 30
</td></tr>
<tr>
<td> beer </td>
<td> 52 </td>
<td> 10
</td></tr>
<tr>
<td> suntan cream </td>
<td> 11 </td>
<td> 70
</td></tr>
<tr>
<td> camera </td>
<td> 32 </td>
<td> 30
</td></tr>
<tr>
<td> T-shirt </td>
<td> 24 </td>
<td> 15
</td></tr>
<tr>
<td> trousers </td>
<td> 48 </td>
<td> 10
</td></tr>
<tr>
<td> umbrella </td>
<td> 73 </td>
<td> 40
</td></tr>
<tr>
<td> waterproof trousers </td>
<td> 42 </td>
<td> 70
</td></tr>
<tr>
<td> waterproof overclothes </td>
<td> 43 </td>
<td> 75
</td></tr>
<tr>
<td> note-case </td>
<td> 22 </td>
<td> 80
</td></tr>
<tr>
<td> sunglasses </td>
<td> 7 </td>
<td> 20
</td></tr>
<tr>
<td> towel </td>
<td> 18 </td>
<td> 12
</td></tr>
<tr>
<td> socks </td>
<td> 4 </td>
<td> 50
</td></tr>
<tr>
<td> book </td>
<td> 30 </td>
<td> 10
</td></tr>
<tr style="background-color: rgb(255, 204, 255);">
<td> knapsack </td>
<td> ≤400 dag </td>
<td>&nbsp;?
</td></tr></tbody></table>
<p><br>
The tourist can choose to take any combination of items from the list,
but only one of each item is available.
</p><p>He may not cut or diminish the items, so he can only take whole units of any item.
</p><p><br>
</p>
<dl><dt>Task</dt>
<dd></dd></dl>
<p>Show which items the tourist can carry in his knapsack so that their total weight does not
exceed 400 dag [4 kg], &nbsp; and their total value is maximized.
</p><p>[dag = decagram = 10 grams]
</p><p><br>
</p>
<dl><dt>Related tasks</dt>
<dd></dd></dl>
<ul><li> &nbsp; <a href="https://rosettacode.org/wiki/Knapsack_problem/Bounded" title="Knapsack problem/Bounded">Knapsack problem/Bounded</a></li>
<li> &nbsp; <a href="https://rosettacode.org/wiki/Knapsack_problem/Unbounded" title="Knapsack problem/Unbounded">Knapsack problem/Unbounded</a></li>
<li> &nbsp; <a href="https://rosettacode.org/wiki/Knapsack_problem/Continuous" title="Knapsack problem/Continuous">Knapsack problem/Continuous</a></li>
<li> &nbsp; <a href="https://rosettacode.org/wiki/A*_search_algorithm" title="A* search algorithm">A* search algorithm</a></li></ul>
<p><br><br>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2><span class="toctoggle">&nbsp;[<a href="#" id="togglelink">hide</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#360_Assembly"><span class="tocnumber">1</span> <span class="toctext">360 Assembly</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Ada"><span class="tocnumber">2</span> <span class="toctext">Ada</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#APL"><span class="tocnumber">3</span> <span class="toctext">APL</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#AWK"><span class="tocnumber">4</span> <span class="toctext">AWK</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Batch_File"><span class="tocnumber">5</span> <span class="toctext">Batch File</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#BBC_BASIC"><span class="tocnumber">6</span> <span class="toctext">BBC BASIC</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Bracmat"><span class="tocnumber">7</span> <span class="toctext">Bracmat</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#C"><span class="tocnumber">8</span> <span class="toctext">C</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#C.2B.2B"><span class="tocnumber">9</span> <span class="toctext">C++</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#C_sharp"><span class="tocnumber">10</span> <span class="toctext">C_sharp</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#C.23"><span class="tocnumber">11</span> <span class="toctext">C#</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Ceylon"><span class="tocnumber">12</span> <span class="toctext">Ceylon</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Clojure"><span class="tocnumber">13</span> <span class="toctext">Clojure</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Common_Lisp"><span class="tocnumber">14</span> <span class="toctext">Common Lisp</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Crystal"><span class="tocnumber">15</span> <span class="toctext">Crystal</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#D"><span class="tocnumber">16</span> <span class="toctext">D</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Dynamic_Programming_Version"><span class="tocnumber">16.1</span> <span class="toctext">Dynamic Programming Version</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Brute_Force_Version"><span class="tocnumber">16.2</span> <span class="toctext">Brute Force Version</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Short_Dynamic_Programming_Version"><span class="tocnumber">16.3</span> <span class="toctext">Short Dynamic Programming Version</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#Dart"><span class="tocnumber">17</span> <span class="toctext">Dart</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#EasyLang"><span class="tocnumber">18</span> <span class="toctext">EasyLang</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#EchoLisp"><span class="tocnumber">19</span> <span class="toctext">EchoLisp</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#Eiffel"><span class="tocnumber">20</span> <span class="toctext">Eiffel</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#Elixir"><span class="tocnumber">21</span> <span class="toctext">Elixir</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#Emacs_Lisp"><span class="tocnumber">22</span> <span class="toctext">Emacs Lisp</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="#Erlang"><span class="tocnumber">23</span> <span class="toctext">Erlang</span></a></li>
<li class="toclevel-1 tocsection-27"><a href="#Euler_Math_Toolbox"><span class="tocnumber">24</span> <span class="toctext">Euler Math Toolbox</span></a></li>
<li class="toclevel-1 tocsection-28"><a href="#F.23"><span class="tocnumber">25</span> <span class="toctext">F#</span></a>
<ul>
<li class="toclevel-2 tocsection-29"><a href="#Using_A.2A_Algorithm"><span class="tocnumber">25.1</span> <span class="toctext">Using A* Algorithm</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-30"><a href="#Factor"><span class="tocnumber">26</span> <span class="toctext">Factor</span></a></li>
<li class="toclevel-1 tocsection-31"><a href="#Forth"><span class="tocnumber">27</span> <span class="toctext">Forth</span></a></li>
<li class="toclevel-1 tocsection-32"><a href="#FutureBasic"><span class="tocnumber">28</span> <span class="toctext">FutureBasic</span></a></li>
<li class="toclevel-1 tocsection-33"><a href="#Go"><span class="tocnumber">29</span> <span class="toctext">Go</span></a></li>
<li class="toclevel-1 tocsection-34"><a href="#Groovy"><span class="tocnumber">30</span> <span class="toctext">Groovy</span></a></li>
<li class="toclevel-1 tocsection-35"><a href="#Haskell"><span class="tocnumber">31</span> <span class="toctext">Haskell</span></a></li>
<li class="toclevel-1 tocsection-36"><a href="#Icon_and_Unicon"><span class="tocnumber">32</span> <span class="toctext">Icon and Unicon</span></a></li>
<li class="toclevel-1 tocsection-37"><a href="#J"><span class="tocnumber">33</span> <span class="toctext">J</span></a></li>
<li class="toclevel-1 tocsection-38"><a href="#Java"><span class="tocnumber">34</span> <span class="toctext">Java</span></a></li>
<li class="toclevel-1 tocsection-39"><a href="#JavaScript"><span class="tocnumber">35</span> <span class="toctext">JavaScript</span></a></li>
<li class="toclevel-1 tocsection-40"><a href="#jq"><span class="tocnumber">36</span> <span class="toctext">jq</span></a></li>
<li class="toclevel-1 tocsection-41"><a href="#Julia"><span class="tocnumber">37</span> <span class="toctext">Julia</span></a></li>
<li class="toclevel-1 tocsection-42"><a href="#Kotlin"><span class="tocnumber">38</span> <span class="toctext">Kotlin</span></a></li>
<li class="toclevel-1 tocsection-43"><a href="#LSL"><span class="tocnumber">39</span> <span class="toctext">LSL</span></a></li>
<li class="toclevel-1 tocsection-44"><a href="#Maple"><span class="tocnumber">40</span> <span class="toctext">Maple</span></a></li>
<li class="toclevel-1 tocsection-45"><a href="#Mathematica"><span class="tocnumber">41</span> <span class="toctext">Mathematica</span></a></li>
<li class="toclevel-1 tocsection-46"><a href="#Mathprog"><span class="tocnumber">42</span> <span class="toctext">Mathprog</span></a></li>
<li class="toclevel-1 tocsection-47"><a href="#MAXScript"><span class="tocnumber">43</span> <span class="toctext">MAXScript</span></a></li>
<li class="toclevel-1 tocsection-48"><a href="#OCaml"><span class="tocnumber">44</span> <span class="toctext">OCaml</span></a></li>
<li class="toclevel-1 tocsection-49"><a href="#Oz"><span class="tocnumber">45</span> <span class="toctext">Oz</span></a></li>
<li class="toclevel-1 tocsection-50"><a href="#Pascal"><span class="tocnumber">46</span> <span class="toctext">Pascal</span></a></li>
<li class="toclevel-1 tocsection-51"><a href="#Perl"><span class="tocnumber">47</span> <span class="toctext">Perl</span></a></li>
<li class="toclevel-1 tocsection-52"><a href="#Perl_6"><span class="tocnumber">48</span> <span class="toctext">Perl 6</span></a>
<ul>
<li class="toclevel-2 tocsection-53"><a href="#Brute_force"><span class="tocnumber">48.1</span> <span class="toctext">Brute force</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#Dynamic_programming"><span class="tocnumber">48.2</span> <span class="toctext">Dynamic programming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-55"><a href="#Phix"><span class="tocnumber">49</span> <span class="toctext">Phix</span></a></li>
<li class="toclevel-1 tocsection-56"><a href="#PHP"><span class="tocnumber">50</span> <span class="toctext">PHP</span></a></li>
<li class="toclevel-1 tocsection-57"><a href="#PicoLisp"><span class="tocnumber">51</span> <span class="toctext">PicoLisp</span></a></li>
<li class="toclevel-1 tocsection-58"><a href="#Prolog"><span class="tocnumber">52</span> <span class="toctext">Prolog</span></a>
<ul>
<li class="toclevel-2 tocsection-59"><a href="#Using_the_clpfd_library"><span class="tocnumber">52.1</span> <span class="toctext">Using the clpfd library</span></a></li>
<li class="toclevel-2 tocsection-60"><a href="#Using_the_simplex_library"><span class="tocnumber">52.2</span> <span class="toctext">Using the simplex library</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-61"><a href="#PureBasic"><span class="tocnumber">53</span> <span class="toctext">PureBasic</span></a></li>
<li class="toclevel-1 tocsection-62"><a href="#Python"><span class="tocnumber">54</span> <span class="toctext">Python</span></a>
<ul>
<li class="toclevel-2 tocsection-63"><a href="#Brute_force_algorithm"><span class="tocnumber">54.1</span> <span class="toctext">Brute force algorithm</span></a></li>
<li class="toclevel-2 tocsection-64"><a href="#Dynamic_programming_solution"><span class="tocnumber">54.2</span> <span class="toctext">Dynamic programming solution</span></a></li>
<li class="toclevel-2 tocsection-65"><a href="#Recursive_dynamic_programming_algorithm"><span class="tocnumber">54.3</span> <span class="toctext">Recursive dynamic programming algorithm</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-66"><a href="#Racket"><span class="tocnumber">55</span> <span class="toctext">Racket</span></a></li>
<li class="toclevel-1 tocsection-67"><a href="#R"><span class="tocnumber">56</span> <span class="toctext">R</span></a></li>
<li class="toclevel-1 tocsection-68"><a href="#REXX"><span class="tocnumber">57</span> <span class="toctext">REXX</span></a></li>
<li class="toclevel-1 tocsection-69"><a href="#Ring"><span class="tocnumber">58</span> <span class="toctext">Ring</span></a></li>
<li class="toclevel-1 tocsection-70"><a href="#Ruby"><span class="tocnumber">59</span> <span class="toctext">Ruby</span></a>
<ul>
<li class="toclevel-2 tocsection-71"><a href="#Brute_force_2"><span class="tocnumber">59.1</span> <span class="toctext">Brute force</span></a></li>
<li class="toclevel-2 tocsection-72"><a href="#Dynamic_Programming_2"><span class="tocnumber">59.2</span> <span class="toctext">Dynamic Programming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-73"><a href="#Rust"><span class="tocnumber">60</span> <span class="toctext">Rust</span></a></li>
<li class="toclevel-1 tocsection-74"><a href="#SAS"><span class="tocnumber">61</span> <span class="toctext">SAS</span></a></li>
<li class="toclevel-1 tocsection-75"><a href="#Scala"><span class="tocnumber">62</span> <span class="toctext">Scala</span></a></li>
<li class="toclevel-1 tocsection-76"><a href="#Sidef"><span class="tocnumber">63</span> <span class="toctext">Sidef</span></a></li>
<li class="toclevel-1 tocsection-77"><a href="#SQL"><span class="tocnumber">64</span> <span class="toctext">SQL</span></a></li>
<li class="toclevel-1 tocsection-78"><a href="#Swift"><span class="tocnumber">65</span> <span class="toctext">Swift</span></a>
<ul>
<li class="toclevel-2 tocsection-79"><a href="#Dynamic_Programming_3"><span class="tocnumber">65.1</span> <span class="toctext">Dynamic Programming</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-80"><a href="#Tcl"><span class="tocnumber">66</span> <span class="toctext">Tcl</span></a></li>
<li class="toclevel-1 tocsection-81"><a href="#Ursala"><span class="tocnumber">67</span> <span class="toctext">Ursala</span></a></li>
<li class="toclevel-1 tocsection-82"><a href="#VBA"><span class="tocnumber">68</span> <span class="toctext">VBA</span></a></li>
<li class="toclevel-1 tocsection-83"><a href="#VBScript"><span class="tocnumber">69</span> <span class="toctext">VBScript</span></a></li>
<li class="toclevel-1 tocsection-84"><a href="#Visual_Basic"><span class="tocnumber">70</span> <span class="toctext">Visual Basic</span></a></li>
<li class="toclevel-1 tocsection-85"><a href="#Visual_Basic_.NET"><span class="tocnumber">71</span> <span class="toctext">Visual Basic .NET</span></a></li>
<li class="toclevel-1 tocsection-86"><a href="#XPL0"><span class="tocnumber">72</span> <span class="toctext">XPL0</span></a></li>
<li class="toclevel-1 tocsection-87"><a href="#zkl"><span class="tocnumber">73</span> <span class="toctext">zkl</span></a></li>
</ul>
</div>
<h2><span class="mw-headline" id="360_Assembly"><a href="https://rosettacode.org/wiki/Category:360_Assembly" title="Category:360 Assembly">360 Assembly</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=1" title="Edit section: 360 Assembly">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Non recurvive brute force version.
</p>
<pre class="text highlighted_source">*      Knapsack problem/0-1      16/02/2017<br>KNAPSA01 CSECT<br>       USING  KNAPSA01,R13<br>       B      72(R15)<br>       DC     17F'0'<br>       STM    R14,R12,12(R13)<br>       ST     R13,4(R15)<br>       ST     R15,8(R13)<br>       LR     R13,R15            end of prolog<br>       L      R0,N               n<br>       LA     R1,1<br>POWER  MH     R1,=H'2'           *2<br>       BCT    R0,POWER<br>       BCTR   R1,0               -1<br>       ST     R1,IMAX            imax=2**n-1<br>       SR     R6,R6              i=0<br>       DO WHILE=(C,R6,LE,IMAX)   do i=0 to imax<br>         SR     R10,R10            im=0<br>         SR     R8,R8              iw=0<br>         SR     R9,R9              iv=0<br>         LA     R7,1               j=1<br>         DO WHILE=(C,R7,LE,N)      do j=1 to n<br>           LR     R1,R6              i<br>           LR     R2,R7              j<br>           BAL    R14,TSTBIT         call tstbit(i,j)<br>           IF C,R0,EQ,=F'1' THEN     if tstbit(i,j)=1 then<br>             LA     R10,1(R10)         im=im+1<br>             LR     R3,R7              j<br>             BCTR   R3,0<br>             SLA    R3,5<br>             LA     R1,24(R3)<br>             A      R8,DATA(R1)        iw=iw+data(j).w<br>             LA     R1,28(R3)<br>             A      R9,DATA(R1)        iv=iv+data(j).v<br>           ENDIF  ,                  endif<br>           LA     R7,1(R7)           j=j+1<br>         ENDDO  ,                  enddo j<br>         IF C,R8,LE,MAXW,AND,C,R9,GT,XV THEN  if w&lt;=maxw and iv&gt;xv then<br>           ST     R6,XB              xb=i<br>           ST     R10,XM             xm=im<br>           ST     R8,XW              xw=iw<br>           ST     R9,XV              xv=iv<br>         ENDIF  ,                  endif<br>         LA     R6,1(R6)           i=i+1<br>       ENDDO  ,                  enddo i<br>       MVC    PG(2),=C'n='<br>       L      R1,N               n<br>       XDECO  R1,XDEC            edit n<br>       MVC    PG+2(2),XDEC+10<br>       XPRNT  PG,L'PG            print buffer<br>       LA     R6,1<br>       DO WHILE=(C,R6,LE,N)      do i=1 to n<br>         L      R1,XB              xb<br>         LR     R2,R6              i<br>         BAL    R14,TSTBIT         call tstbit(xb,i)<br>         IF C,R0,EQ,=F'1' THEN     if tstbit(xb,i)=1 then<br>           LR     R1,R6              i<br>           BCTR   R1,0<br>           SLA    R1,5<br>           LA     R2,DATA(R1)        @data(i).n<br>           MVC    PG(24),0(R2)<br>           XPRNT  PG,24              print item<br>         ENDIF  ,                  endif<br>         LA     R6,1(R6)           i=i+1<br>       ENDDO  ,                  enddo i<br>       L      R1,XM              xm<br>       XDECO  R1,XDEC            edit xm<br>       MVC    PGT+6(2),XDEC+10<br>       L      R1,XW              xw<br>       XDECO  R1,XDEC            edit xw<br>       MVC    PGT+16(3),XDEC+9<br>       L      R1,XV              xv<br>       XDECO  R1,XDEC            edit xv<br>       MVC    PGT+26(4),XDEC+8<br>       XPRNT  PGT,L'PGT          print buffer<br>       L      R13,4(0,R13)       epilog<br>       LM     R14,R12,12(R13)<br>       XR     R15,R15<br>       BR     R14                exit<br>TSTBIT EQU    *                  R1 value to test the R2 bit<br>       LA     R3,32              32<br>       SR     R3,R2              (32-i)<br>       STC    R3,XSLL+3         <br>       LR     R0,R1              n<br>       EX     0,XSLL             SLL R0,(32-i)<br>       SRL    R0,31             <br>       BR     R14                return R0<br>XSLL   SLL    R0,0               shift left logical     <br>*<br>MAXW   DC     F'400'             maximum weight<br>N      DC     A((DATAE-DATA)/32)<br>IMAX   DS     F                  number of combinations<br>XB     DS     F                  max vector<br>XM     DS     F                  max items <br>XW     DS     F                  max weight<br>XV     DS     F                  max value<br>PG     DC     CL80' '<br>PGT    DC     CL32'items=.. weight=... value=....'<br>XDEC   DS     CL12<br>DATA   DC     CL24'map',F'9',F'150'<br>       DC     CL24'compass',F'13',F'35'<br>       DC     CL24'water',F'153',F'200'<br>       DC     CL24'sandwich',F'50',F'160'<br>       DC     CL24'glucose',F'15',F'60'<br>       DC     CL24'tin',F'68',F'45'<br>       DC     CL24'banana',F'27',F'60'<br>       DC     CL24'apple',F'39',F'40'<br>       DC     CL24'cheese',F'23',F'30'<br>       DC     CL24'beer',F'52',F'10'<br>       DC     CL24'suntan cream',F'11',F'70'<br>       DC     CL24'camera',F'32',F'30'<br>       DC     CL24'T-shirt',F'24',F'15'<br>       DC     CL24'trousers',F'48',F'10'<br>       DC     CL24'umbrella',F'73',F'40'<br>       DC     CL24'book',F'30',F'10'<br>       DC     CL24'waterproof trousers',F'42',F'70'<br>       DC     CL24'waterproof overclothes',F'43',F'75'<br>       DC     CL24'note-case',F'22',F'80'<br>       DC     CL24'sunglasses',F'7',F'20'<br>       DC     CL24'towel',F'18',F'12'<br>       DC     CL24'socks',F'4',F'50'<br>DATAE  DC     0C<br>       YREGS<br>       END    KNAPSA01</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>n=22
map
compass
water
sandwich
glucose
banana
suntan cream
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks
items=12 weight=396 value=1030
</pre>
<h2><span class="mw-headline" id="Ada"><a href="https://rosettacode.org/wiki/Category:Ada" title="Category:Ada">Ada</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=2" title="Edit section: Ada">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="ada highlighted_source"><span class="kw3">with</span> Ada.<span class="me1">Text_IO</span>;<br><span class="kw3">with</span> Ada.<span class="me1">Strings</span>.<span class="me1">Unbounded</span>;<br>&nbsp;<br><span class="kw3">procedure</span> Knapsack_01 <span class="kw1">is</span><br>   <span class="kw3">package</span> US <span class="kw3">renames</span> Ada.<span class="me1">Strings</span>.<span class="me1">Unbounded</span>;<br>&nbsp;<br>   <span class="kw3">type</span> Item <span class="kw1">is</span> <span class="kw3">record</span><br>      Name  &nbsp;: US.<span class="me1">Unbounded_String</span>;<br>      Weight&nbsp;: Positive;<br>      Value &nbsp;: Positive;<br>      Taken &nbsp;: Boolean;<br>   <span class="kw1">end</span> <span class="kw3">record</span>;<br>&nbsp;<br>   <span class="kw3">type</span> Item_Array <span class="kw1">is</span> <span class="kw3">array</span> <span class="br0">(</span>Positive <span class="kw3">range</span> &lt;&gt;<span class="br0">)</span> <span class="kw3">of</span> Item;<br>&nbsp;<br>   <span class="kw3">function</span> Total_Weight <span class="br0">(</span>Items&nbsp;: Item_Array; Untaken&nbsp;: Boolean&nbsp;:= False<span class="br0">)</span> <span class="kw1">return</span> Natural <span class="kw1">is</span><br>      Sum&nbsp;: Natural&nbsp;:= <span class="nu0">0</span>;<br>   <span class="kw1">begin</span><br>      <span class="kw1">for</span> I <span class="kw3">in</span> Items'<span class="kw3">Range</span> <span class="kw1">loop</span><br>         <span class="kw1">if</span> Untaken <span class="kw2">or</span> <span class="kw1">else</span> Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Taken</span> <span class="kw1">then</span><br>            Sum&nbsp;:= Sum + Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Weight</span>;<br>         <span class="kw1">end</span> <span class="kw1">if</span>;<br>      <span class="kw1">end</span> <span class="kw1">loop</span>;<br>      <span class="kw1">return</span> Sum;<br>   <span class="kw1">end</span> Total_Weight;<br>&nbsp;<br>   <span class="kw3">function</span> Total_Value <span class="br0">(</span>Items&nbsp;: Item_Array; Untaken&nbsp;: Boolean&nbsp;:= False<span class="br0">)</span> <span class="kw1">return</span> Natural <span class="kw1">is</span><br>      Sum&nbsp;: Natural&nbsp;:= <span class="nu0">0</span>;<br>   <span class="kw1">begin</span><br>      <span class="kw1">for</span> I <span class="kw3">in</span> Items'<span class="kw3">Range</span> <span class="kw1">loop</span><br>         <span class="kw1">if</span> Untaken <span class="kw2">or</span> <span class="kw1">else</span> Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Taken</span> <span class="kw1">then</span><br>            Sum&nbsp;:= Sum + Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Value</span>;<br>         <span class="kw1">end</span> <span class="kw1">if</span>;<br>      <span class="kw1">end</span> <span class="kw1">loop</span>;<br>      <span class="kw1">return</span> Sum;<br>   <span class="kw1">end</span> Total_Value;<br>&nbsp;<br>   <span class="kw3">function</span> Max <span class="br0">(</span>Left, Right&nbsp;: Natural<span class="br0">)</span> <span class="kw1">return</span> Natural <span class="kw1">is</span><br>   <span class="kw1">begin</span><br>      <span class="kw1">if</span> Right &gt; Left <span class="kw1">then</span><br>         <span class="kw1">return</span> Right;<br>      <span class="kw1">else</span><br>         <span class="kw1">return</span> Left;<br>      <span class="kw1">end</span> <span class="kw1">if</span>;<br>   <span class="kw1">end</span> Max;<br>&nbsp;<br>   <span class="kw3">procedure</span> Solve_Knapsack_01 <span class="br0">(</span>Items&nbsp;: <span class="kw3">in</span> <span class="kw3">out</span> Item_Array;<br>                                Weight_Limit&nbsp;: Positive&nbsp;:= <span class="nu0">400</span><span class="br0">)</span> <span class="kw1">is</span><br>      <span class="kw3">type</span> W_Array <span class="kw1">is</span> <span class="kw3">array</span> <span class="br0">(</span><span class="nu0">0</span>..<span class="me1">Items</span>'Length, <span class="nu0">0</span>..<span class="me1">Weight_Limit</span><span class="br0">)</span> <span class="kw3">of</span> Natural;<br>      W&nbsp;: W_Array&nbsp;:= <span class="br0">(</span><span class="kw3">others</span> =&gt; <span class="br0">(</span><span class="kw3">others</span> =&gt; <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>;<br>   <span class="kw1">begin</span><br>      <span class="co1">-- fill W</span><br>      <span class="kw1">for</span> I <span class="kw3">in</span> Items'<span class="kw3">Range</span> <span class="kw1">loop</span><br>         <span class="kw1">for</span> J <span class="kw3">in</span> <span class="nu0">1</span> .. <span class="me1">Weight_Limit</span> <span class="kw1">loop</span><br>            <span class="kw1">if</span> Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Weight</span> &gt; J <span class="kw1">then</span><br>               W <span class="br0">(</span>I, J<span class="br0">)</span>&nbsp;:= W <span class="br0">(</span>I - <span class="nu0">1</span>, J<span class="br0">)</span>;<br>            <span class="kw1">else</span><br>               W <span class="br0">(</span>I, J<span class="br0">)</span>&nbsp;:= Max <span class="br0">(</span>W <span class="br0">(</span>I - <span class="nu0">1</span>, J<span class="br0">)</span>,<br>                                W <span class="br0">(</span>I - <span class="nu0">1</span>, J - Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Weight</span><span class="br0">)</span> + Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Value</span><span class="br0">)</span>;<br>            <span class="kw1">end</span> <span class="kw1">if</span>;<br>         <span class="kw1">end</span> <span class="kw1">loop</span>;<br>      <span class="kw1">end</span> <span class="kw1">loop</span>;<br>      <span class="kw1">declare</span><br>         Rest&nbsp;: Natural&nbsp;:= Weight_Limit;<br>      <span class="kw1">begin</span><br>         <span class="kw1">for</span> I <span class="kw3">in</span> <span class="kw3">reverse</span> Items'<span class="kw3">Range</span> <span class="kw1">loop</span><br>            <span class="kw1">if</span> W <span class="br0">(</span>I, Rest<span class="br0">)</span> /= W <span class="br0">(</span>I - <span class="nu0">1</span>, Rest<span class="br0">)</span> <span class="kw1">then</span><br>               Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Taken</span>&nbsp;:= True;<br>               Rest&nbsp;:= Rest - Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Weight</span>;<br>            <span class="kw1">end</span> <span class="kw1">if</span>;<br>         <span class="kw1">end</span> <span class="kw1">loop</span>;<br>      <span class="kw1">end</span>;<br>   <span class="kw1">end</span> Solve_Knapsack_01;<br>&nbsp;<br>   All_Items&nbsp;: Item_Array&nbsp;:=<br>     <span class="br0">(</span> <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"map"</span><span class="br0">)</span>,                      <span class="nu0">9</span>, <span class="nu0">150</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"compass"</span><span class="br0">)</span>,                 <span class="nu0">13</span>,  <span class="nu0">35</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"water"</span><span class="br0">)</span>,                  <span class="nu0">153</span>, <span class="nu0">200</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"sandwich"</span><span class="br0">)</span>,                <span class="nu0">50</span>, <span class="nu0">160</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"glucose"</span><span class="br0">)</span>,                 <span class="nu0">15</span>,  <span class="nu0">60</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"tin"</span><span class="br0">)</span>,                     <span class="nu0">68</span>,  <span class="nu0">45</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"banana"</span><span class="br0">)</span>,                  <span class="nu0">27</span>,  <span class="nu0">60</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"apple"</span><span class="br0">)</span>,                   <span class="nu0">39</span>,  <span class="nu0">40</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"cheese"</span><span class="br0">)</span>,                  <span class="nu0">23</span>,  <span class="nu0">30</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"beer"</span><span class="br0">)</span>,                    <span class="nu0">52</span>,  <span class="nu0">10</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"suntan cream"</span><span class="br0">)</span>,            <span class="nu0">11</span>,  <span class="nu0">70</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"camera"</span><span class="br0">)</span>,                  <span class="nu0">32</span>,  <span class="nu0">30</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"t-shirt"</span><span class="br0">)</span>,                 <span class="nu0">24</span>,  <span class="nu0">15</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="br0">)</span>,                <span class="nu0">48</span>,  <span class="nu0">10</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"umbrella"</span><span class="br0">)</span>,                <span class="nu0">73</span>,  <span class="nu0">40</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"waterproof trousers"</span><span class="br0">)</span>,     <span class="nu0">42</span>,  <span class="nu0">70</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"waterproof overclothes"</span><span class="br0">)</span>,  <span class="nu0">43</span>,  <span class="nu0">75</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"note-case"</span><span class="br0">)</span>,               <span class="nu0">22</span>,  <span class="nu0">80</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"sunglasses"</span><span class="br0">)</span>,               <span class="nu0">7</span>,  <span class="nu0">20</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"towel"</span><span class="br0">)</span>,                   <span class="nu0">18</span>,  <span class="nu0">12</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"socks"</span><span class="br0">)</span>,                    <span class="nu0">4</span>,  <span class="nu0">50</span>, False<span class="br0">)</span>,<br>       <span class="br0">(</span>US.<span class="me1">To_Unbounded_String</span> <span class="br0">(</span><span class="st0">"book"</span><span class="br0">)</span>,                    <span class="nu0">30</span>,  <span class="nu0">10</span>, False<span class="br0">)</span> <span class="br0">)</span>;<br>&nbsp;<br><span class="kw1">begin</span><br>   Solve_Knapsack_01 <span class="br0">(</span>All_Items, <span class="nu0">400</span><span class="br0">)</span>;<br>   Ada.<span class="me1">Text_IO</span>.<span class="me1">Put_Line</span> <span class="br0">(</span><span class="st0">"Total Weight: "</span> &amp; Natural'Image <span class="br0">(</span>Total_Weight <span class="br0">(</span>All_Items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;<br>   Ada.<span class="me1">Text_IO</span>.<span class="me1">Put_Line</span> <span class="br0">(</span><span class="st0">"Total Value:  "</span> &amp; Natural'Image <span class="br0">(</span>Total_Value  <span class="br0">(</span>All_Items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;<br>   Ada.<span class="me1">Text_IO</span>.<span class="me1">Put_Line</span> <span class="br0">(</span><span class="st0">"Items:"</span><span class="br0">)</span>;<br>   <span class="kw1">for</span> I <span class="kw3">in</span> All_Items'<span class="kw3">Range</span> <span class="kw1">loop</span><br>      <span class="kw1">if</span> All_Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Taken</span> <span class="kw1">then</span><br>         Ada.<span class="me1">Text_IO</span>.<span class="me1">Put_Line</span> <span class="br0">(</span><span class="st0">"   "</span> &amp; US.<span class="me1">To_String</span> <span class="br0">(</span>All_Items <span class="br0">(</span>I<span class="br0">)</span>.<span class="me1">Name</span><span class="br0">)</span><span class="br0">)</span>;<br>      <span class="kw1">end</span> <span class="kw1">if</span>;<br>   <span class="kw1">end</span> <span class="kw1">loop</span>;<br><span class="kw1">end</span> Knapsack_01;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Total Weight:  396
Total Value:   1030
Items:
   map
   compass
   water
   sandwich
   glucose
   banana
   suntan cream
   waterproof trousers
   waterproof overclothes
   note-case
   sunglasses
   socks
</pre>
<h2><span class="mw-headline" id="APL"><a href="https://rosettacode.org/wiki/Category:APL" title="Category:APL">APL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=3" title="Edit section: APL">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">    ∇ ret←NapSack;sum;b;list;total<br>[1]   total←400<br>[2]   list←("map" 9 150)("compass" 13 35)("water" 153 200)("sandwich" 50 160)("glucose" 15 60) ("tin" 68 45)("banana" 27 60)("apple" 39 40)("cheese" 23 30)("beer" 52 10) ("suntan cream" 11 70)("camera" 32 30)("t-shirt" 24 15)("trousers" 48 10) ("umbrella" 73 40)("waterproof trousers" 42 70)("waterproof overclothes" 43 75) ("note-case" 22 80) ("sunglasses" 7 20) ("towel" 18 12) ("socks" 4 50) ("book" 30 10)<br>[3]   list←list[⍒3⊃¨list]<br>[4]   <br>[5]   ret←⍬<br>[6]  &nbsp;:while 0≠⍴list<br>[7]       ret←ret,(b←total&gt;sum←+\2⊃¨list)/list<br>[8]       list←1↓(~b)/list<br>[9]       total←total-sum←¯1↑(total&gt;sum)/sum<br>[10] &nbsp;:end <br>[11]  ret←⊃ret,⊂'TOTALS:' (+/2⊃¨ret)(+/3⊃¨ret)   <br>    ∇</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>NapSack
 water                  153  200
 sandwich                50  160
 map                      9  150
 note-case               22   80
 waterproof overclothes  43   75
 suntan cream            11   70
 waterproof trousers     42   70
 glucose                 15   60
 banana                  27   60
 socks                    4   50
 compass                 13   35
 sunglasses               7   20
 TOTALS:                396 1030

Average runtime: 0.000168 seconds
</pre>
<h2><span class="mw-headline" id="AWK"><a href="https://rosettacode.org/wiki/Category:AWK" title="Category:AWK">AWK</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=4" title="Edit section: AWK">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="awk highlighted_source">&nbsp;<br><span class="co1"># syntax: GAWK -f KNAPSACK_PROBLEM_0-1.AWK</span><br><span class="kw2">BEGIN</span> <span class="br0">{</span><br><span class="co1">#   arr["item,weight"] = value</span><br>    arr<span class="br0">[</span><span class="st0">"map,9"</span><span class="br0">]</span> = <span class="nu0">150</span><br>    arr<span class="br0">[</span><span class="st0">"compass,13"</span><span class="br0">]</span> = <span class="nu0">35</span><br>    arr<span class="br0">[</span><span class="st0">"water,153"</span><span class="br0">]</span> = <span class="nu0">200</span><br>    arr<span class="br0">[</span><span class="st0">"sandwich,50"</span><span class="br0">]</span> = <span class="nu0">160</span><br>    arr<span class="br0">[</span><span class="st0">"glucose,15"</span><span class="br0">]</span> = <span class="nu0">60</span><br>    arr<span class="br0">[</span><span class="st0">"tin,68"</span><span class="br0">]</span> = <span class="nu0">45</span><br>    arr<span class="br0">[</span><span class="st0">"banana,27"</span><span class="br0">]</span> = <span class="nu0">60</span><br>    arr<span class="br0">[</span><span class="st0">"apple,39"</span><span class="br0">]</span> = <span class="nu0">40</span><br>    arr<span class="br0">[</span><span class="st0">"cheese,23"</span><span class="br0">]</span> = <span class="nu0">30</span><br>    arr<span class="br0">[</span><span class="st0">"beer,52"</span><span class="br0">]</span> = <span class="nu0">10</span><br>    arr<span class="br0">[</span><span class="st0">"suntan cream,11"</span><span class="br0">]</span> = <span class="nu0">70</span><br>    arr<span class="br0">[</span><span class="st0">"camera,32"</span><span class="br0">]</span> = <span class="nu0">30</span><br>    arr<span class="br0">[</span><span class="st0">"T-shirt,24"</span><span class="br0">]</span> = <span class="nu0">15</span><br>    arr<span class="br0">[</span><span class="st0">"trousers,48"</span><span class="br0">]</span> = <span class="nu0">10</span><br>    arr<span class="br0">[</span><span class="st0">"umbrella,73"</span><span class="br0">]</span> = <span class="nu0">40</span><br>    arr<span class="br0">[</span><span class="st0">"waterproof trousers,42"</span><span class="br0">]</span> = <span class="nu0">70</span><br>    arr<span class="br0">[</span><span class="st0">"waterproof overclothes,43"</span><span class="br0">]</span> = <span class="nu0">75</span><br>    arr<span class="br0">[</span><span class="st0">"note-case,22"</span><span class="br0">]</span> = <span class="nu0">80</span><br>    arr<span class="br0">[</span><span class="st0">"sunglasses,7"</span><span class="br0">]</span> = <span class="nu0">20</span><br>    arr<span class="br0">[</span><span class="st0">"towel,18"</span><span class="br0">]</span> = <span class="nu0">12</span><br>    arr<span class="br0">[</span><span class="st0">"socks,4"</span><span class="br0">]</span> = <span class="nu0">50</span><br>    arr<span class="br0">[</span><span class="st0">"book,30"</span><span class="br0">]</span> = <span class="nu0">10</span><br>    sack_size = <span class="nu0">400</span> <span class="co1"># dag</span><br>    PROCINFO<span class="br0">[</span><span class="st0">"sorted_in"</span><span class="br0">]</span> = <span class="st0">"@val_num_desc"</span><br>    <span class="kw1">for</span> <span class="br0">(</span>i <span class="kw1">in</span> arr<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">if</span> <span class="br0">(</span>total_weight <span class="sy2">&gt;=</span> sack_size<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">break</span><br>      <span class="br0">}</span><br>      <span class="kw4">split</span><span class="br0">(</span>i,tmp,<span class="st0">","</span><span class="br0">)</span><br>      weight = tmp<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><br>      <span class="kw1">if</span> <span class="br0">(</span>total_weight <span class="sy3">+</span> weight <span class="sy2">&lt;=</span> sack_size<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw5">printf</span><span class="br0">(</span><span class="st0">"%s<span class="es0">\n</span>"</span>,tmp<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span><br>        total_items<span class="sy3">++</span><br>        total_value <span class="sy3">+</span>= arr<span class="br0">[</span>i<span class="br0">]</span><br>        total_weight <span class="sy3">+</span>= weight<br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>    <span class="kw5">printf</span><span class="br0">(</span><span class="st0">"items=%d (out of&nbsp;%d) weight=%d value=%d<span class="es0">\n</span>"</span>,total_items,<span class="kw4">length</span><span class="br0">(</span>arr<span class="br0">)</span>,total_weight,total_value<span class="br0">)</span><br>    exit<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><br><span class="br0">}</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>water
sandwich
map
note-case
waterproof overclothes
waterproof trousers
suntan cream
banana
glucose
socks
compass
sunglasses
items=12 (out of 22) weight=396 value=1030
</pre>
<h2><span class="mw-headline" id="Batch_File"><a href="https://rosettacode.org/wiki/Category:Batch_File" title="Category:Batch File">Batch File</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=5" title="Edit section: Batch File">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="dos highlighted_source"><span class="co2"><br>:: Initiate command line environment</span><br><span class="sy0">@</span><a href="http://www.ss64.com/nt/echo.html"><span class="kw3">echo</span></a> off<br><a href="http://www.ss64.com/nt/setlocal.html"><span class="kw3">setlocal</span></a> enabledelayedexpansion<br><span class="co2"><br>:: Establish arrays we'll be using</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> items=map compass water sandwich glucose tin banana apple cheese beer suntancream camera tshirt trousers umbrella waterprooftrousers waterproofoverclothes notecase sunglasses towel socks book<br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> weight=9 13 153 50 15 68 27 39 23 52 11 32 24 48 73 42 43 22 7 18 4 30<br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> importance=150 35 200 160 60 45 60 40 30 10 70 30 15 10 40 70 75 80 20 12 50 10<br><span class="co2"><br>:: Put the above 3 arrays into their own variables with the form of "item[]", "w[]" and "i[]"</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> tempnum=0<br><a href="http://www.ss64.com/nt/for.html"><span class="kw1">for</span></a> <span class="sy0">%%</span><span class="re3">i</span> <a href="http://www.ss64.com/nt/in.html"><span class="kw1">in</span></a> <span class="sy0">(%</span><span class="re3">items</span><span class="sy0">%)</span> <a href="http://www.ss64.com/nt/do.html"><span class="kw1">do</span></a> <span class="sy0">(</span><br>  <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> /a tempnum+=1<br>  <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> item<span class="sy0">!</span><span class="re2">tempnum</span><span class="sy0">!</span>=<span class="sy0">%%</span><span class="re3">i</span><br><span class="sy0">)</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> tempnum=0<br><a href="http://www.ss64.com/nt/for.html"><span class="kw1">for</span></a> <span class="sy0">%%</span><span class="re3">i</span> <a href="http://www.ss64.com/nt/in.html"><span class="kw1">in</span></a> <span class="sy0">(%</span><span class="re3">weight</span><span class="sy0">%)</span> <a href="http://www.ss64.com/nt/do.html"><span class="kw1">do</span></a> <span class="sy0">(</span><br>  <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> /a tempnum+=1<br>  <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> w<span class="sy0">!</span><span class="re2">tempnum</span><span class="sy0">!</span>=<span class="sy0">%%</span><span class="re3">i</span><br><span class="sy0">)</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> tempnum=0<br><a href="http://www.ss64.com/nt/for.html"><span class="kw1">for</span></a> <span class="sy0">%%</span><span class="re3">i</span> <a href="http://www.ss64.com/nt/in.html"><span class="kw1">in</span></a> <span class="sy0">(%</span><span class="re3">importance</span><span class="sy0">%)</span> <a href="http://www.ss64.com/nt/do.html"><span class="kw1">do</span></a> <span class="sy0">(</span><br>  <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> /a tempnum+=1<br>  <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> i<span class="sy0">!</span><span class="re2">tempnum</span><span class="sy0">!</span>=<span class="sy0">%%</span><span class="re3">i</span><br><span class="sy0">)</span><br><span class="co2">:: Define the array "r[]" as the ratio between the importance ("i[]") and the weight ("w[]"). </span><br><a href="http://www.ss64.com/nt/for.html"><span class="kw1">for</span></a> /l <span class="sy0">%%</span><span class="re3">i</span> <a href="http://www.ss64.com/nt/in.html"><span class="kw1">in</span></a> <span class="sy0">(</span>1,1,22<span class="sy0">)</span> <a href="http://www.ss64.com/nt/do.html"><span class="kw1">do</span></a> <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> /a r<span class="sy0">%%</span><span class="re3">i</span>=<span class="sy0">!</span><span class="re2">i</span><span class="sy0">%%</span><span class="re3">i</span><span class="sy0">!</span><span class="re2">*</span>100/<span class="sy0">!</span><span class="re2">w</span><span class="sy0">%%</span><span class="re3">i</span><span class="sy0">!</span> <span class="sy0">&amp;</span> rem batch doesn't support decimals, so the numerator is multiplied by 100 to get past this<br>&nbsp;<br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> totalimportance=0<br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> totalweight=0<br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> amount=0<br><span class="co2"><br>:: Find the largest number in "r[]" and define some temp variables based off it</span><br>:<span class="re0">load</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> tempr=0<br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> tempitem=0<br><a href="http://www.ss64.com/nt/for.html"><span class="kw1">for</span></a> /l <span class="sy0">%%</span><span class="re3">i</span> <a href="http://www.ss64.com/nt/in.html"><span class="kw1">in</span></a> <span class="sy0">(</span>1,1,22<span class="sy0">)</span> <a href="http://www.ss64.com/nt/do.html"><span class="kw1">do</span></a> <span class="sy0">(</span><br>  <a href="http://www.ss64.com/nt/if.html"><span class="kw1">if</span></a> <span class="sy0">!</span><span class="re2">r</span><span class="sy0">%%</span><span class="re3">i</span><span class="sy0">!</span> <a href="http://www.ss64.com/nt/gtr.html"><span class="kw2">gtr</span></a> <span class="sy0">!</span><span class="re2">tempr</span><span class="sy0">!</span> <span class="sy0">(</span><br>    <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> tempr=<span class="sy0">!</span><span class="re2">r</span><span class="sy0">%%</span><span class="re3">i</span><span class="sy0">!</span><br>    <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> tempitem=<span class="sy0">%%</span><span class="re3">i</span><br>    <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> /a testweight=<span class="sy0">%</span><span class="re3">totalweight</span><span class="sy0">%</span>+<span class="sy0">!</span><span class="re2">w</span><span class="sy0">%%</span><span class="re3">i</span><span class="sy0">!</span><br>    <a href="http://www.ss64.com/nt/if.html"><span class="kw1">if</span></a> <span class="sy0">!</span><span class="re2">tempr</span><span class="sy0">!</span>==0 <a href="http://www.ss64.com/nt/goto.html"><span class="kw1">goto</span></a> end<br>    <a href="http://www.ss64.com/nt/if.html"><span class="kw1">if</span></a> <span class="sy0">!</span><span class="re2">testweight</span><span class="sy0">!</span> <a href="http://www.ss64.com/nt/geq.html"><span class="kw2">geq</span></a> 400 <a href="http://www.ss64.com/nt/goto.html"><span class="kw1">goto</span></a> end<br>  <span class="sy0">)</span><br><span class="sy0">)</span><br><span class="co2"><br>:: Do basic error checking using the temp variables from above and either output and end the program or send back to load</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> /a totaltempweight=<span class="sy0">%</span><span class="re3">totalweight</span><span class="sy0">%</span>+<span class="sy0">!</span><span class="re2">w</span><span class="sy0">%</span><span class="re3">tempitem</span><span class="sy0">%!</span><br>&nbsp;<br><a href="http://www.ss64.com/nt/if.html"><span class="kw1">if</span></a> <span class="sy0">%</span><span class="re3">totaltempweight</span><span class="sy0">%</span> <a href="http://www.ss64.com/nt/gtr.html"><span class="kw2">gtr</span></a> 400 <span class="sy0">(</span><br>  <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> <span class="sy0">!</span><span class="re2">r</span><span class="sy0">%</span><span class="re3">tempitem</span><span class="sy0">%!</span>=0<br>  <a href="http://www.ss64.com/nt/goto.html"><span class="kw1">goto</span></a> load<br><span class="sy0">)</span><br>&nbsp;<br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> totalweight=<span class="sy0">%</span><span class="re3">totaltempweight</span><span class="sy0">%</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> /a totalimportance+=<span class="sy0">!</span><span class="re2">i</span><span class="sy0">%</span><span class="re3">tempitem</span><span class="sy0">%!</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> taken=<span class="sy0">%</span><span class="re3">taken</span><span class="sy0">%</span> <span class="sy0">!</span><span class="re2">item%<span class="re3">tempitem</span>%</span><span class="sy0">!</span><br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> /a amount+=1<br><a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> r<span class="sy0">%</span><span class="re3">tempitem</span><span class="sy0">%</span>=0 <span class="sy0">&amp;</span> rem <a href="http://www.ss64.com/nt/set.html"><span class="kw3">set</span></a> the ratio variable of the item we just added to the knapsack as 0 to stop it repeat<br>&nbsp;<br><a href="http://www.ss64.com/nt/goto.html"><span class="kw1">goto</span></a> load<br>&nbsp;<br>:<span class="re0">end</span><br><a href="http://www.ss64.com/nt/echo.html"><span class="kw3">echo</span></a> List of things taken [<span class="sy0">%</span><span class="re3">amount</span><span class="sy0">%</span>]: <span class="sy0">%</span><span class="re3">taken</span><span class="sy0">%</span><br><a href="http://www.ss64.com/nt/echo.html"><span class="kw3">echo</span></a> Total Value: <span class="sy0">%</span><span class="re3">totalimportance</span><span class="sy0">%</span>  Total Weight: <span class="sy0">%</span><span class="re3">totalweight</span><span class="sy0">%</span><br>pause<span class="sy0">&gt;</span><a href="http://www.ss64.com/nt/nul.html"><span class="kw4">nul</span></a><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>List of things taken [12]:  map socks suntancream glucose notecase sandwich sunglasses compass banana waterproofoverclothes waterprooftrousers water
Total Value: 1030  Total Weight: 396
</pre>
<h2><span class="mw-headline" id="BBC_BASIC"><a href="https://rosettacode.org/wiki/Category:BBC_BASIC" title="Category:BBC BASIC">BBC BASIC</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=6" title="Edit section: BBC BASIC">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta workswith"><b>Works with</b>: <a href="https://rosettacode.org/wiki/BBC_BASIC_for_Windows" title="BBC BASIC for Windows">BBC BASIC for Windows</a></div>
<pre class="text highlighted_source">      HIMEM = PAGE + 8000000<br>      nItems% = 22<br>      maxWeight% = 400<br>&nbsp;<br>      DIM Tag{ivalue%, list%(nItems%-1), lp%}<br>      DIM items{(nItems%-1)name$, weight%, ivalue%}<br>      FOR item% = 0 TO nItems%-1<br>        READ items{(item%)}.name$, items{(item%)}.weight%, items{(item%)}.ivalue%<br>      NEXT<br>&nbsp;<br>      DATA "map", 9, 150, "compass", 13, 35, "water", 153, 200, "sandwich", 50, 160<br>      DATA "glucose", 15, 60, "tin", 68, 45, "banana", 27, 60, "apple", 39, 40<br>      DATA "cheese", 23, 30, "beer", 52, 10, "suntan cream", 11, 70, "camera", 32, 30<br>      DATA "t-shirt", 24, 15, "trousers", 48, 10, "umbrella", 73, 40, "book", 30, 10<br>      DATA "waterproof trousers", 42, 70, "waterproof overclothes", 43, 75<br>      DATA "note-case", 22, 80, "sunglasses", 7, 20, "towel", 18, 12, "socks", 4, 50<br>&nbsp;<br>      carry% = FN_Knapsack(items{()}, nItems% - 1, maxWeight%, cache{()})<br>      FOR i% = 0 TO cache{(carry%)}.lp%-1<br>        n% = cache{(carry%)}.list%(i%)<br>        TotalWeight% += items{(n%)}.weight%<br>        TotalValue% += items{(n%)}.ivalue%<br>        PRINT items{(n%)}.name$ " "<br>      NEXT<br>      PRINT '"Total weight = "&nbsp;; TotalWeight%<br>      PRINT "Total value  = "&nbsp;; TotalValue%<br>      END<br>&nbsp;<br>      DEF FN_Knapsack(i{()}, i%, w%, RETURN m{()})<br>      LOCAL included{}, excluded{}, tmp%, index%<br>      DIM m{(16384)} = Tag{}, included{} = Tag{}, excluded{} = Tag{}<br>&nbsp;<br>      index% = i% &lt;&lt; 9 OR w%<br>      IF m{(index%)}.ivalue% THEN = index%<br>&nbsp;<br>      IF i% = 0 THEN<br>        IF i{(0)}.weight% &gt; w% THEN<br>          m{(index%)}.ivalue% = 0&nbsp;: REM Item doesn't fit<br>        ELSE<br>          m{(index%)}.ivalue% = i{(0)}.ivalue%<br>          m{(index%)}.list%(m{(index%)}.lp%) = 0<br>          m{(index%)}.lp% += 1<br>        ENDIF<br>        = index%<br>      ENDIF<br>&nbsp;<br>      tmp% = FN_Knapsack(i{()}, i% - 1, w%, m{()})<br>      excluded{} = m{(tmp%)}<br>      IF i{(i%)}.weight% &gt; w% THEN<br>        m{(index%)} = excluded{}&nbsp;: REM Item weighs too much<br>        = index%<br>      ELSE<br>        tmp% = FN_Knapsack(i{()}, i% - 1, w% - i{(i%)}.weight%, m{()})<br>        included{} = m{(tmp%)}<br>        included.ivalue% += i{(i%)}.ivalue%<br>        included.list%(included.lp%) = i%<br>        included.lp% += 1<br>      ENDIF<br>&nbsp;<br>      IF included.ivalue% &gt; excluded.ivalue% THEN<br>        m{(index%)} = included{}<br>      ELSE<br>        m{(index%)} = excluded{}<br>      ENDIF<br>      = index%</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>map
compass
water
sandwich
glucose
banana
suntan cream
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks

Total weight = 396
Total value  = 1030
</pre>
<h2><span class="mw-headline" id="Bracmat"><a href="https://rosettacode.org/wiki/Category:Bracmat" title="Category:Bracmat">Bracmat</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=7" title="Edit section: Bracmat">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">(knapsack=<br>  ( things<br>  =   (map.9.150)<br>      (compass.13.35)<br>      (water.153.200)<br>      (sandwich.50.160)<br>      (glucose.15.60)<br>      (tin.68.45)<br>      (banana.27.60)<br>      (apple.39.40)<br>      (cheese.23.30)<br>      (beer.52.10)<br>      ("suntan cream".11.70)<br>      (camera.32.30)<br>      (T-shirt.24.15)<br>      (trousers.48.10)<br>      (umbrella.73.40)<br>      ("waterproof trousers".42.70)<br>      ("waterproof overclothes".43.75)<br>      (note-case.22.80)<br>      (sunglasses.7.20)<br>      (towel.18.12)<br>      (socks.4.50)<br>      (book.30.10)<br>  )<br>&amp; 0:?maxvalue<br>&amp;&nbsp;:?sack<br>&amp; ( add<br>  =     cumwght<br>        cumvalue<br>        cumsack<br>        name<br>        wght<br>        val<br>        tings<br>        n<br>        ncumwght<br>        ncumvalue<br>    .    &nbsp;!arg<br>       &nbsp;: (?cumwght.?cumvalue.?cumsack.(?name.?wght.?val)&nbsp;?tings)<br>      &amp; -1:?n<br>      &amp;   whl<br>        ' ( 1+!n:~&gt;1:?n<br>          &amp;&nbsp;!cumwght+!n*!wght:~&gt;400:?ncumwght<br>          &amp;&nbsp;!cumvalue+!n*!val:?ncumvalue<br>          &amp; (  &nbsp;!tings:<br>              &amp; (  &nbsp;!ncumvalue:&gt;!maxvalue:?maxvalue<br>                  &amp;    &nbsp;!cumsack<br>                        (!n:0&amp;|!name)<br>                   &nbsp;:&nbsp;?sack<br>                |<br>                )<br>            |   add<br>              $ (&nbsp;!ncumwght<br>                .&nbsp;!ncumvalue<br>                .  &nbsp;!cumsack<br>                    (!n:0&amp;|!name)<br>                .&nbsp;!tings<br>                )<br>            )<br>          )<br>  )<br>&amp; add$(0.0..!things)<br>&amp; out$(!maxvalue.!sack));<br>&nbsp;<br>!knapsack;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre class="text highlighted_source">  1030<br>.   map<br>    compass<br>    water<br>    sandwich<br>    glucose<br>    banana<br>    suntan cream<br>    waterproof trousers<br>    waterproof overclothes<br>    note-case<br>    sunglasses<br>    socks</pre>
<h2><span class="mw-headline" id="C"><a href="https://rosettacode.org/wiki/Category:C" title="Category:C">C</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=8" title="Edit section: C">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="c highlighted_source"><span class="co2">#include &lt;stdio.h&gt;</span><br><span class="co2">#include &lt;stdlib.h&gt;</span><br>&nbsp;<br><span class="kw4">typedef</span> <span class="kw4">struct</span> <span class="br0">{</span><br>    <span class="kw4">char</span> <span class="sy0">*</span>name<span class="sy0">;</span><br>    <span class="kw4">int</span> weight<span class="sy0">;</span><br>    <span class="kw4">int</span> value<span class="sy0">;</span><br><span class="br0">}</span> item_t<span class="sy0">;</span><br>&nbsp;<br>item_t items<span class="br0">[</span><span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><br>    <span class="br0">{</span><span class="st0">"map"</span><span class="sy0">,</span>                      <span class="nu0">9</span><span class="sy0">,</span>   <span class="nu0">150</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"compass"</span><span class="sy0">,</span>                 <span class="nu0">13</span><span class="sy0">,</span>    <span class="nu0">35</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"water"</span><span class="sy0">,</span>                  <span class="nu0">153</span><span class="sy0">,</span>   <span class="nu0">200</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"sandwich"</span><span class="sy0">,</span>                <span class="nu0">50</span><span class="sy0">,</span>   <span class="nu0">160</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"glucose"</span><span class="sy0">,</span>                 <span class="nu0">15</span><span class="sy0">,</span>    <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"tin"</span><span class="sy0">,</span>                     <span class="nu0">68</span><span class="sy0">,</span>    <span class="nu0">45</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"banana"</span><span class="sy0">,</span>                  <span class="nu0">27</span><span class="sy0">,</span>    <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"apple"</span><span class="sy0">,</span>                   <span class="nu0">39</span><span class="sy0">,</span>    <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"cheese"</span><span class="sy0">,</span>                  <span class="nu0">23</span><span class="sy0">,</span>    <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"beer"</span><span class="sy0">,</span>                    <span class="nu0">52</span><span class="sy0">,</span>    <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"suntan cream"</span><span class="sy0">,</span>            <span class="nu0">11</span><span class="sy0">,</span>    <span class="nu0">70</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"camera"</span><span class="sy0">,</span>                  <span class="nu0">32</span><span class="sy0">,</span>    <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"T-shirt"</span><span class="sy0">,</span>                 <span class="nu0">24</span><span class="sy0">,</span>    <span class="nu0">15</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"trousers"</span><span class="sy0">,</span>                <span class="nu0">48</span><span class="sy0">,</span>    <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"umbrella"</span><span class="sy0">,</span>                <span class="nu0">73</span><span class="sy0">,</span>    <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span>     <span class="nu0">42</span><span class="sy0">,</span>    <span class="nu0">70</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"waterproof overclothes"</span><span class="sy0">,</span>  <span class="nu0">43</span><span class="sy0">,</span>    <span class="nu0">75</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"note-case"</span><span class="sy0">,</span>               <span class="nu0">22</span><span class="sy0">,</span>    <span class="nu0">80</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"sunglasses"</span><span class="sy0">,</span>               <span class="nu0">7</span><span class="sy0">,</span>    <span class="nu0">20</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"towel"</span><span class="sy0">,</span>                   <span class="nu0">18</span><span class="sy0">,</span>    <span class="nu0">12</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"socks"</span><span class="sy0">,</span>                    <span class="nu0">4</span><span class="sy0">,</span>    <span class="nu0">50</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"book"</span><span class="sy0">,</span>                    <span class="nu0">30</span><span class="sy0">,</span>    <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br><span class="br0">}</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">int</span> <span class="sy0">*</span>knapsack <span class="br0">(</span>item_t <span class="sy0">*</span>items<span class="sy0">,</span> <span class="kw4">int</span> n<span class="sy0">,</span> <span class="kw4">int</span> w<span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw4">int</span> i<span class="sy0">,</span> j<span class="sy0">,</span> a<span class="sy0">,</span> b<span class="sy0">,</span> <span class="sy0">*</span>mm<span class="sy0">,</span> <span class="sy0">**</span>m<span class="sy0">,</span> <span class="sy0">*</span>s<span class="sy0">;</span><br>    mm <span class="sy0">=</span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/calloc.html"><span class="kw3">calloc</span></a><span class="br0">(</span><span class="br0">(</span>n <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">*</span> <span class="br0">(</span>w <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">,</span> <span class="kw4">sizeof</span> <span class="br0">(</span><span class="kw4">int</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>    m <span class="sy0">=</span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/malloc.html"><span class="kw3">malloc</span></a><span class="br0">(</span><span class="br0">(</span>n <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">*</span> <span class="kw4">sizeof</span> <span class="br0">(</span><span class="kw4">int</span> <span class="sy0">*</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>    m<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">=</span> mm<span class="sy0">;</span><br>    <span class="kw1">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;=</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>        m<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> <span class="sy0">&amp;</span>mm<span class="br0">[</span>i <span class="sy0">*</span> <span class="br0">(</span>w <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><span class="br0">]</span><span class="sy0">;</span><br>        <span class="kw1">for</span> <span class="br0">(</span>j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&lt;=</span> w<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>            <span class="kw1">if</span> <span class="br0">(</span>items<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span>.<span class="me1">weight</span> <span class="sy0">&gt;</span> j<span class="br0">)</span> <span class="br0">{</span><br>                m<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> m<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>            <span class="kw1">else</span> <span class="br0">{</span><br>                a <span class="sy0">=</span> m<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span><span class="sy0">;</span><br>                b <span class="sy0">=</span> m<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>j <span class="sy0">-</span> items<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span>.<span class="me1">weight</span><span class="br0">]</span> <span class="sy0">+</span> items<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span>.<span class="me1">value</span><span class="sy0">;</span><br>                m<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> a <span class="sy0">&gt;</span> b <span class="sy0">?</span> a <span class="sy0">:</span> b<span class="sy0">;</span><br>            <span class="br0">}</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br>    s <span class="sy0">=</span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/calloc.html"><span class="kw3">calloc</span></a><span class="br0">(</span>n<span class="sy0">,</span> <span class="kw4">sizeof</span> <span class="br0">(</span><span class="kw4">int</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">for</span> <span class="br0">(</span>i <span class="sy0">=</span> n<span class="sy0">,</span> j <span class="sy0">=</span> w<span class="sy0">;</span> i <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="sy0">;</span> i<span class="sy0">--</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span>m<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">&gt;</span> m<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>            s<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span> <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span><br>            j <span class="sy0">-=</span> items<span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span>.<span class="me1">weight</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br>    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/free.html"><span class="kw3">free</span></a><span class="br0">(</span>mm<span class="br0">)</span><span class="sy0">;</span><br>    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/free.html"><span class="kw3">free</span></a><span class="br0">(</span>m<span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">return</span> s<span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">int</span> main <span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw4">int</span> i<span class="sy0">,</span> n<span class="sy0">,</span> tw <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> tv <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="sy0">*</span>s<span class="sy0">;</span><br>    n <span class="sy0">=</span> <span class="kw4">sizeof</span> <span class="br0">(</span>items<span class="br0">)</span> <span class="sy0">/</span> <span class="kw4">sizeof</span> <span class="br0">(</span>item_t<span class="br0">)</span><span class="sy0">;</span><br>    s <span class="sy0">=</span> knapsack<span class="br0">(</span>items<span class="sy0">,</span> n<span class="sy0">,</span> <span class="nu0">400</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span>s<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>            <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">(</span><span class="st0">"%-22s&nbsp;%5d&nbsp;%5d<span class="es1">\n</span>"</span><span class="sy0">,</span> items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">name</span><span class="sy0">,</span> items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">weight</span><span class="sy0">,</span> items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">value</span><span class="br0">)</span><span class="sy0">;</span><br>            tw <span class="sy0">+=</span> items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">weight</span><span class="sy0">;</span><br>            tv <span class="sy0">+=</span> items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">value</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br>    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">(</span><span class="st0">"%-22s&nbsp;%5d&nbsp;%5d<span class="es1">\n</span>"</span><span class="sy0">,</span> <span class="st0">"totals:"</span><span class="sy0">,</span> tw<span class="sy0">,</span> tv<span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>map                        9   150
compass                   13    35
water                    153   200
sandwich                  50   160
glucose                   15    60
banana                    27    60
suntan cream              11    70
waterproof trousers       42    70
waterproof overclothes    43    75
note-case                 22    80
sunglasses                 7    20
socks                      4    50
totals:                  396  1030
</pre>
<h2><span class="mw-headline" id="C.2B.2B"><a href="https://rosettacode.org/wiki/Category:C%2B%2B" title="Category:C++">C++</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=9" title="Edit section: C++">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="cpp highlighted_source"><span class="co2">#include &lt;vector&gt;</span><br><span class="co2">#include &lt;string&gt;</span><br><span class="co2">#include &lt;iostream&gt;</span><br><span class="co2">#include &lt;boost/tuple/tuple.hpp&gt;</span><br><span class="co2">#include &lt;set&gt;</span><br>&nbsp;<br><span class="kw4">int</span> findBestPack<span class="br0">(</span> <span class="kw4">const</span> std<span class="sy4">::</span><span class="me2">vector</span><span class="sy1">&lt;</span>boost<span class="sy4">::</span><span class="me2">tuple</span><span class="sy1">&lt;</span>std<span class="sy4">::</span><span class="me2">string</span> , <span class="kw4">int</span> , <span class="kw4">int</span><span class="sy1">&gt;</span> <span class="sy1">&gt;</span> <span class="sy3">&amp;</span> , <br>      std<span class="sy4">::</span><span class="me2">set</span><span class="sy1">&lt;</span><span class="kw4">int</span><span class="sy1">&gt;</span> <span class="sy3">&amp;</span> , <span class="kw4">const</span> <span class="kw4">int</span>  <span class="br0">)</span> <span class="sy4">;</span><br>&nbsp;<br><span class="kw4">int</span> main<span class="br0">(</span> <span class="br0">)</span> <span class="br0">{</span><br>   std<span class="sy4">::</span><span class="me2">vector</span><span class="sy1">&lt;</span>boost<span class="sy4">::</span><span class="me2">tuple</span><span class="sy1">&lt;</span>std<span class="sy4">::</span><span class="me2">string</span> , <span class="kw4">int</span> , <span class="kw4">int</span><span class="sy1">&gt;</span> <span class="sy1">&gt;</span> items <span class="sy4">;</span><br>   <span class="co1">//===========fill the vector with data====================</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">""</span> , <span class="nu0">0</span>  ,  <span class="nu0">0</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"map"</span> , <span class="nu0">9</span> , <span class="nu0">150</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"compass"</span> , <span class="nu0">13</span> , <span class="nu0">35</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"water"</span> , <span class="nu0">153</span> , <span class="nu0">200</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"sandwich"</span>, <span class="nu0">50</span> , <span class="nu0">160</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"glucose"</span> , <span class="nu0">15</span> , <span class="nu0">60</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"tin"</span>, <span class="nu0">68</span> , <span class="nu0">45</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"banana"</span>, <span class="nu0">27</span> , <span class="nu0">60</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"apple"</span> , <span class="nu0">39</span> , <span class="nu0">40</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"cheese"</span> , <span class="nu0">23</span> , <span class="nu0">30</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"beer"</span> , <span class="nu0">52</span> , <span class="nu0">10</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"suntan creme"</span> , <span class="nu0">11</span> , <span class="nu0">70</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"camera"</span> , <span class="nu0">32</span> , <span class="nu0">30</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"T-shirt"</span> , <span class="nu0">24</span> , <span class="nu0">15</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"trousers"</span> , <span class="nu0">48</span> , <span class="nu0">10</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"umbrella"</span> , <span class="nu0">73</span> , <span class="nu0">40</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"waterproof trousers"</span> , <span class="nu0">42</span> , <span class="nu0">70</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"waterproof overclothes"</span> , <span class="nu0">43</span> , <span class="nu0">75</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"note-case"</span> , <span class="nu0">22</span> , <span class="nu0">80</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"sunglasses"</span> , <span class="nu0">7</span> , <span class="nu0">20</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"towel"</span> , <span class="nu0">18</span> , <span class="nu0">12</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"socks"</span> , <span class="nu0">4</span> , <span class="nu0">50</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   items.<span class="me1">push_back</span><span class="br0">(</span> boost<span class="sy4">::</span><span class="me2">make_tuple</span><span class="br0">(</span> <span class="st0">"book"</span> , <span class="nu0">30</span> , <span class="nu0">10</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy4">;</span><br>   <span class="kw4">const</span> <span class="kw4">int</span> maximumWeight <span class="sy1">=</span> <span class="nu0">400</span> <span class="sy4">;</span><br>   std<span class="sy4">::</span><span class="me2">set</span><span class="sy1">&lt;</span><span class="kw4">int</span><span class="sy1">&gt;</span> bestItems <span class="sy4">;</span> <span class="co1">//these items will make up the optimal value</span><br>   <span class="kw4">int</span> bestValue <span class="sy1">=</span> findBestPack<span class="br0">(</span> items , bestItems , maximumWeight <span class="br0">)</span> <span class="sy4">;</span><br>   std<span class="sy4">::</span><span class="kw3">cout</span> <span class="sy1">&lt;&lt;</span> <span class="st0">"The best value that can be packed in the given knapsack is "</span> <span class="sy1">&lt;&lt;</span><br>      bestValue <span class="sy1">&lt;&lt;</span> <span class="st0">"&nbsp;!<span class="es1">\n</span>"</span> <span class="sy4">;</span><br>   <span class="kw4">int</span> totalweight <span class="sy1">=</span> <span class="nu0">0</span> <span class="sy4">;</span><br>   std<span class="sy4">::</span><span class="kw3">cout</span> <span class="sy1">&lt;&lt;</span> <span class="st0">"The following items should be packed in the knapsack:<span class="es1">\n</span>"</span> <span class="sy4">;</span><br>   <span class="kw1">for</span> <span class="br0">(</span> std<span class="sy4">::</span><span class="me2">set</span><span class="sy1">&lt;</span><span class="kw4">int</span><span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">const_iterator</span> si <span class="sy1">=</span> bestItems.<span class="me1">begin</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy4">;</span> <br>	 si <span class="sy3">!</span><span class="sy1">=</span> bestItems.<span class="me1">end</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy4">;</span> si<span class="sy2">++</span> <span class="br0">)</span> <span class="br0">{</span> <br>      std<span class="sy4">::</span><span class="kw3">cout</span> <span class="sy1">&lt;&lt;</span> <span class="br0">(</span>items.<span class="me1">begin</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy2">+</span> <span class="sy2">*</span>si<span class="br0">)</span><span class="sy2">-</span><span class="sy1">&gt;</span>get<span class="sy1">&lt;</span><span class="nu0">0</span><span class="sy1">&gt;</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">"<span class="es1">\n</span>"</span> <span class="sy4">;</span><br>      totalweight <span class="sy2">+</span><span class="sy1">=</span> <span class="br0">(</span>items.<span class="me1">begin</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy2">+</span> <span class="sy2">*</span>si<span class="br0">)</span><span class="sy2">-</span><span class="sy1">&gt;</span>get<span class="sy1">&lt;</span><span class="nu0">1</span><span class="sy1">&gt;</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy4">;</span><br>   <span class="br0">}</span><br>   std<span class="sy4">::</span><span class="kw3">cout</span> <span class="sy1">&lt;&lt;</span> <span class="st0">"The total weight of all items is "</span> <span class="sy1">&lt;&lt;</span> totalweight <span class="sy1">&lt;&lt;</span> <span class="st0">"&nbsp;!<span class="es1">\n</span>"</span> <span class="sy4">;</span><br>   <span class="kw1">return</span> <span class="nu0">0</span> <span class="sy4">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">int</span> findBestPack<span class="br0">(</span> <span class="kw4">const</span> std<span class="sy4">::</span><span class="me2">vector</span><span class="sy1">&lt;</span>boost<span class="sy4">::</span><span class="me2">tuple</span><span class="sy1">&lt;</span>std<span class="sy4">::</span><span class="me2">string</span> , <span class="kw4">int</span> , <span class="kw4">int</span><span class="sy1">&gt;</span> <span class="sy1">&gt;</span> <span class="sy3">&amp;</span> items ,std<span class="sy4">::</span><span class="me2">set</span><span class="sy1">&lt;</span><span class="kw4">int</span><span class="sy1">&gt;</span> <span class="sy3">&amp;</span> bestItems , <span class="kw4">const</span> <span class="kw4">int</span> weightlimit <span class="br0">)</span> <span class="br0">{</span><br>   <span class="co1">//dynamic programming approach sacrificing storage space for execution</span><br>   <span class="co1">//time , creating a table of optimal values for every weight and a </span><br>   <span class="co1">//second table of sets with the items collected so far in the knapsack</span><br>   <span class="co1">//the best value is in the bottom right corner of the values table,</span><br>   <span class="co1">//the set of items in the bottom right corner of the sets' table.</span><br>   <span class="kw4">const</span> <span class="kw4">int</span> n <span class="sy1">=</span> items.<span class="me1">size</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy4">;</span><br>   <span class="kw4">int</span> bestValues <span class="br0">[</span> n <span class="br0">]</span><span class="br0">[</span> weightlimit <span class="br0">]</span> <span class="sy4">;</span><br>   std<span class="sy4">::</span><span class="me2">set</span><span class="sy1">&lt;</span><span class="kw4">int</span><span class="sy1">&gt;</span> solutionSets<span class="br0">[</span> n <span class="br0">]</span><span class="br0">[</span> weightlimit <span class="br0">]</span> <span class="sy4">;</span><br>   std<span class="sy4">::</span><span class="me2">set</span><span class="sy1">&lt;</span><span class="kw4">int</span><span class="sy1">&gt;</span> emptyset <span class="sy4">;</span><br>   <span class="kw1">for</span> <span class="br0">(</span> <span class="kw4">int</span> i <span class="sy1">=</span> <span class="nu0">0</span> <span class="sy4">;</span> i <span class="sy1">&lt;</span> n <span class="sy4">;</span> i<span class="sy2">++</span> <span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">for</span> <span class="br0">(</span> <span class="kw4">int</span> j <span class="sy1">=</span> <span class="nu0">0</span> <span class="sy4">;</span> j <span class="sy1">&lt;</span> weightlimit  <span class="sy4">;</span> j<span class="sy2">++</span> <span class="br0">)</span> <span class="br0">{</span><br>	 bestValues<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> j <span class="br0">]</span> <span class="sy1">=</span> <span class="nu0">0</span> <span class="sy4">;</span><br>	 solutionSets<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> j <span class="br0">]</span> <span class="sy1">=</span> emptyset <span class="sy4">;</span><br>       <span class="br0">}</span><br>    <span class="br0">}</span><br>    <span class="kw1">for</span> <span class="br0">(</span> <span class="kw4">int</span> i <span class="sy1">=</span> <span class="nu0">0</span> <span class="sy4">;</span> i <span class="sy1">&lt;</span> n <span class="sy4">;</span> i<span class="sy2">++</span> <span class="br0">)</span> <span class="br0">{</span><br>       <span class="kw1">for</span> <span class="br0">(</span> <span class="kw4">int</span> weight <span class="sy1">=</span> <span class="nu0">0</span> <span class="sy4">;</span> weight <span class="sy1">&lt;</span> weightlimit <span class="sy4">;</span> weight<span class="sy2">++</span> <span class="br0">)</span> <span class="br0">{</span><br>	  <span class="kw1">if</span> <span class="br0">(</span> i <span class="sy1">==</span> <span class="nu0">0</span> <span class="br0">)</span><br>	     bestValues<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy1">=</span> <span class="nu0">0</span> <span class="sy4">;</span><br>	  <span class="kw1">else</span>  <span class="br0">{</span><br>	     <span class="kw4">int</span> itemweight <span class="sy1">=</span> <span class="br0">(</span>items.<span class="me1">begin</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy2">+</span> i<span class="br0">)</span><span class="sy2">-</span><span class="sy1">&gt;</span>get<span class="sy1">&lt;</span><span class="nu0">1</span><span class="sy1">&gt;</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy4">;</span> <br>	     <span class="kw1">if</span> <span class="br0">(</span> weight <span class="sy1">&lt;</span> itemweight <span class="br0">)</span> <span class="br0">{</span><br>		bestValues<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy1">=</span> bestValues<span class="br0">[</span> i <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy4">;</span><br>		solutionSets<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy1">=</span> solutionSets<span class="br0">[</span> i <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy4">;</span><br>	     <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span> <span class="co1">// weight &gt;= itemweight</span><br>		<span class="kw1">if</span> <span class="br0">(</span> bestValues<span class="br0">[</span> i <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weight <span class="sy2">-</span> itemweight <span class="br0">]</span> <span class="sy2">+</span> <br>		   <span class="br0">(</span>items.<span class="me1">begin</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy2">+</span> i<span class="br0">)</span><span class="sy2">-</span><span class="sy1">&gt;</span>get<span class="sy1">&lt;</span><span class="nu0">2</span><span class="sy1">&gt;</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy1">&gt;</span><br>		        bestValues<span class="br0">[</span> i <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="br0">)</span> <span class="br0">{</span><br>		   bestValues<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy1">=</span> <br>		       bestValues<span class="br0">[</span> i <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weight <span class="sy2">-</span> itemweight <span class="br0">]</span> <span class="sy2">+</span> <br>	        	<span class="br0">(</span>items.<span class="me1">begin</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy2">+</span> i<span class="br0">)</span><span class="sy2">-</span><span class="sy1">&gt;</span>get<span class="sy1">&lt;</span><span class="nu0">2</span><span class="sy1">&gt;</span><span class="br0">(</span> <span class="br0">)</span> <span class="sy4">;</span><br>		  solutionSets<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy1">=</span> <br>		      solutionSets<span class="br0">[</span> i <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weight <span class="sy2">-</span> itemweight <span class="br0">]</span> <span class="sy4">;</span><br>		  solutionSets<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span>.<span class="me1">insert</span><span class="br0">(</span> i <span class="br0">)</span> <span class="sy4">;</span><br>	     <span class="br0">}</span><br>	     <span class="kw1">else</span> <span class="br0">{</span><br>		bestValues<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy1">=</span> bestValues<span class="br0">[</span> i <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy4">;</span><br>		solutionSets<span class="br0">[</span> i <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy1">=</span> solutionSets<span class="br0">[</span> i <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weight <span class="br0">]</span> <span class="sy4">;</span><br>	     <span class="br0">}</span><br>	  <span class="br0">}</span><br>       <span class="br0">}</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>    bestItems.<span class="me1">swap</span><span class="br0">(</span> solutionSets<span class="br0">[</span> n <span class="sy2">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span> weightlimit <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span> <span class="br0">)</span> <span class="sy4">;</span><br>    <span class="kw1">return</span> bestValues<span class="br0">[</span> n <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span><span class="br0">[</span> weightlimit <span class="sy2">-</span> <span class="nu0">1</span> <span class="br0">]</span> <span class="sy4">;</span><br><span class="br0">}</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>The best value that can be packed in the given knapsack is 1030&nbsp;!
The following items should be packed in the knapsack:
map
compass
water
sandwich
glucose
banana
suntan creme
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks
The total weight of all items is 396&nbsp;!
</pre>
<h2><span class="mw-headline" id="C_sharp"><a href="https://rosettacode.org/wiki/Category:C_sharp" title="Category:C sharp">C_sharp</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=10" title="Edit section: C sharp">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>All combinations, eight treads, break when weight is to large.
</p>
<pre class="csharp highlighted_source"><span class="kw1">using</span> <span class="co3">System</span><span class="sy0">;</span>  <span class="co1">// 4790@3.6</span><br><span class="kw1">using</span> <span class="co3">System.Threading.Tasks</span><span class="sy0">;</span><br><span class="kw4">class</span> Program<br><span class="br0">{</span><br>    <span class="kw1">static</span> <span class="kw4">void</span> Main<span class="br0">(</span><span class="br0">)</span><br>    <span class="br0">{</span><br>        <span class="kw1">var</span> sw <span class="sy0">=</span> <span class="kw5">System.<span class="me1">Diagnostics</span></span><span class="sy0">.</span><span class="me1">Stopwatch</span><span class="sy0">.</span><span class="me1">StartNew</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>        Console<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span>knapSack<span class="br0">(</span><span class="nu0">400</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">"<span class="es0">\n</span>"</span> <span class="sy0">+</span> sw<span class="sy0">.</span><span class="me1">Elapsed</span><span class="br0">)</span><span class="sy0">;</span>  <span class="co1">// 60 ms</span><br>        Console<span class="sy0">.</span><span class="me1">Read</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">static</span> <span class="kw4">string</span> knapSack<span class="br0">(</span><span class="kw4">uint</span> w1<span class="br0">)</span><br>    <span class="br0">{</span><br>        <span class="kw4">uint</span> sol <span class="sy0">=</span> <span class="nu0">0</span>, v1 <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>        Parallel<span class="sy0">.</span><span class="kw1">For</span><span class="br0">(</span><span class="nu0">1</span>, <span class="nu0">9</span>, t <span class="sy0">=&gt;</span><br>        <span class="br0">{</span><br>            <span class="kw4">uint</span> j, wi, k, vi, i1 <span class="sy0">=</span> 1u <span class="sy0">&lt;&lt;</span> w<span class="sy0">.</span><span class="me1">Length</span><span class="sy0">;</span><br>            <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">uint</span> i <span class="sy0">=</span> <span class="br0">(</span><span class="kw4">uint</span><span class="br0">)</span>t<span class="sy0">;</span> i <span class="sy0">&lt;</span> i1<span class="sy0">;</span> i <span class="sy0">+=</span> <span class="nu0">8</span><span class="br0">)</span><br>            <span class="br0">{</span><br>                k <span class="sy0">=</span> wi <span class="sy0">=</span> vi <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>                <span class="kw1">for</span> <span class="br0">(</span>j <span class="sy0">=</span> i<span class="sy0">;</span> j <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&gt;&gt;=</span> <span class="nu0">1</span>, k<span class="sy0">++</span><span class="br0">)</span><br>                    <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span>j <span class="sy0">&amp;</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span><br>                    <span class="br0">{</span><br>                        <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span>wi <span class="sy0">+=</span> w<span class="br0">[</span>k<span class="br0">]</span><span class="br0">)</span> <span class="sy0">&gt;</span> w1<span class="br0">)</span> <span class="kw1">break</span><span class="sy0">;</span><br>                        vi <span class="sy0">+=</span> v<span class="br0">[</span>k<span class="br0">]</span><span class="sy0">;</span><br>                    <span class="br0">}</span><br>                <span class="kw1">if</span> <span class="br0">(</span>wi <span class="sy0">&lt;=</span> w1 <span class="sy0">&amp;&amp;</span> v1 <span class="sy0">&lt;</span> vi<span class="br0">)</span><br>                    <span class="kw1">lock</span> <span class="br0">(</span>locker<span class="br0">)</span><br>                        <span class="kw1">if</span> <span class="br0">(</span>v1 <span class="sy0">&lt;</span> vi<span class="br0">)</span> <span class="br0">{</span> v1 <span class="sy0">=</span> vi<span class="sy0">;</span> sol <span class="sy0">=</span> i<span class="sy0">;</span> <span class="br0">}</span><br>            <span class="br0">}</span><br>        <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw4">string</span> str <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span><br>        <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">uint</span> k <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> sol <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="sy0">;</span> sol <span class="sy0">&gt;&gt;=</span> <span class="nu0">1</span>, k<span class="sy0">++</span><span class="br0">)</span><br>            <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span>sol <span class="sy0">&amp;</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span> str <span class="sy0">+=</span> items<span class="br0">[</span>k<span class="br0">]</span> <span class="sy0">+</span> <span class="st0">"<span class="es0">\n</span>"</span><span class="sy0">;</span><br>        <span class="kw1">return</span> str<span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">static</span> <span class="kw1">readonly</span> <span class="kw4">object</span> locker <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> <span class="kw4">object</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">static</span> <span class="kw4">byte</span><span class="br0">[</span><span class="br0">]</span> w <span class="sy0">=</span> <span class="br0">{</span> <span class="nu0">9</span>, <span class="nu0">13</span>, <span class="nu0">153</span>, <span class="nu0">50</span>, <span class="nu0">15</span>, <span class="nu0">68</span>, <span class="nu0">27</span>, <span class="nu0">39</span>, <span class="nu0">23</span>, <span class="nu0">52</span>, <span class="nu0">11</span>,<br>                          <span class="nu0">32</span>, <span class="nu0">24</span>, <span class="nu0">48</span>, <span class="nu0">73</span>, <span class="nu0">42</span>, <span class="nu0">43</span>, <span class="nu0">22</span>, <span class="nu0">7</span>, <span class="nu0">18</span>, <span class="nu0">4</span>, <span class="nu0">30</span> <span class="br0">}</span>,<br>&nbsp;<br>                  v <span class="sy0">=</span> <span class="br0">{</span> <span class="nu0">150</span>, <span class="nu0">35</span>, <span class="nu0">200</span>, <span class="nu0">160</span>, <span class="nu0">60</span>, <span class="nu0">45</span>, <span class="nu0">60</span>, <span class="nu0">40</span>, <span class="nu0">30</span>, <span class="nu0">10</span>, <span class="nu0">70</span>,<br>                          <span class="nu0">30</span>, <span class="nu0">15</span>, <span class="nu0">10</span>, <span class="nu0">40</span>, <span class="nu0">70</span>, <span class="nu0">75</span>, <span class="nu0">80</span>, <span class="nu0">20</span>, <span class="nu0">12</span>, <span class="nu0">50</span>, <span class="nu0">10</span> <span class="br0">}</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">static</span> <span class="kw4">string</span><span class="br0">[</span><span class="br0">]</span> items <span class="sy0">=</span> <span class="br0">{</span><span class="st0">"map"</span>,<span class="st0">"compass"</span>,<span class="st0">"water"</span>,<span class="st0">"sandwich"</span>,<span class="st0">"glucose"</span>,<span class="st0">"tin"</span>,<br>                             <span class="st0">"banana"</span>,<span class="st0">"apple"</span>,<span class="st0">"cheese"</span>,<span class="st0">"beer"</span>,<span class="st0">"suntan cream"</span>,<br>                             <span class="st0">"camera"</span>,<span class="st0">"T-shirt"</span>,<span class="st0">"trousers"</span>,<span class="st0">"umbrella"</span>,<br>                             <span class="st0">"waterproof trousers"</span>,<span class="st0">"waterproof overclothes"</span>,<br>                             <span class="st0">"note-case"</span>,<span class="st0">"sunglasses"</span>,<span class="st0">"towel"</span>,<span class="st0">"socks"</span>,<span class="st0">"book"</span><span class="br0">}</span><span class="sy0">;</span><br><span class="br0">}</span></pre>
<p>A dynamic version.
</p>
<pre class="csharp highlighted_source"><span class="kw1">using</span> <span class="kw5">System</span><br><span class="kw4">class</span> program<br><span class="br0">{</span><br>    <span class="kw1">static</span> <span class="kw4">void</span> Main<span class="br0">(</span><span class="br0">)</span><br>    <span class="br0">{</span><br>        knapSack<span class="br0">(</span><span class="nu0">40</span><span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">var</span> sw <span class="sy0">=</span> <span class="kw5">System.<span class="me1">Diagnostics</span></span><span class="sy0">.</span><span class="me1">Stopwatch</span><span class="sy0">.</span><span class="me1">StartNew</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>        Console<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span>knapSack<span class="br0">(</span><span class="nu0">400</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">"<span class="es0">\n</span>"</span> <span class="sy0">+</span> sw<span class="sy0">.</span><span class="me1">Elapsed</span><span class="br0">)</span><span class="sy0">;</span>  <span class="co1">// 31 µs</span><br>        Console<span class="sy0">.</span><span class="me1">Read</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">static</span> <span class="kw4">string</span> knapSack<span class="br0">(</span><span class="kw4">uint</span> w1<span class="br0">)</span><br>    <span class="br0">{</span><br>        <span class="kw4">uint</span> n <span class="sy0">=</span> <span class="br0">(</span><span class="kw4">uint</span><span class="br0">)</span>w<span class="sy0">.</span><span class="me1">Length</span><span class="sy0">;</span> <span class="kw1">var</span> K <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> <span class="kw4">uint</span><span class="br0">[</span>n <span class="sy0">+</span> <span class="nu0">1</span>, w1 <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy0">;</span><br>        <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">uint</span> vi, wi, w0, x, i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span><br>            <span class="kw1">for</span> <span class="br0">(</span>vi <span class="sy0">=</span> v<span class="br0">[</span>i<span class="br0">]</span>, wi <span class="sy0">=</span> w<span class="br0">[</span>i<span class="br0">]</span>, w0 <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> w0 <span class="sy0">&lt;=</span> w1<span class="sy0">;</span> w0<span class="sy0">++</span><span class="br0">)</span><br>            <span class="br0">{</span><br>                x <span class="sy0">=</span> K<span class="br0">[</span>i, w0<span class="br0">]</span><span class="sy0">;</span><br>                <span class="kw1">if</span> <span class="br0">(</span>wi <span class="sy0">&lt;=</span> w0<span class="br0">)</span> x <span class="sy0">=</span> max<span class="br0">(</span>vi <span class="sy0">+</span> K<span class="br0">[</span>i, w0 <span class="sy0">-</span> wi<span class="br0">]</span>, x<span class="br0">)</span><span class="sy0">;</span><br>                K<span class="br0">[</span>i <span class="sy0">+</span> <span class="nu0">1</span>, w0<span class="br0">]</span> <span class="sy0">=</span> x<span class="sy0">;</span><br>            <span class="br0">}</span><br>        <span class="kw4">string</span> str <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span><br>        <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">uint</span> v1 <span class="sy0">=</span> K<span class="br0">[</span>n, w1<span class="br0">]</span><span class="sy0">;</span> v1 <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="sy0">;</span> n<span class="sy0">--</span><span class="br0">)</span><br>            <span class="kw1">if</span> <span class="br0">(</span>v1 <span class="sy0">!=</span> K<span class="br0">[</span>n <span class="sy0">-</span> <span class="nu0">1</span>, w1<span class="br0">]</span><span class="br0">)</span><br>            <span class="br0">{</span><br>                v1 <span class="sy0">-=</span> v<span class="br0">[</span>n <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy0">;</span> w1 <span class="sy0">-=</span> w<span class="br0">[</span>n <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy0">;</span> str <span class="sy0">+=</span> items<span class="br0">[</span>n <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span> <span class="sy0">+</span> <span class="st0">"<span class="es0">\n</span>"</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>        <span class="kw1">return</span> str<span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">static</span> <span class="kw4">uint</span> max<span class="br0">(</span><span class="kw4">uint</span> a, <span class="kw4">uint</span> b<span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> a <span class="sy0">&gt;</span> b <span class="sy0">?</span> a <span class="sy0">:</span> b<span class="sy0">;</span> <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">static</span> <span class="kw4">byte</span><span class="br0">[</span><span class="br0">]</span> w <span class="sy0">=</span>  <span class="br0">{</span> <span class="nu0">9</span>, <span class="nu0">13</span>, <span class="nu0">153</span>, <span class="nu0">50</span>, <span class="nu0">15</span>, <span class="nu0">68</span>, <span class="nu0">27</span>, <span class="nu0">39</span>, <span class="nu0">23</span>, <span class="nu0">52</span>, <span class="nu0">11</span>,<br>                          <span class="nu0">32</span>, <span class="nu0">24</span>, <span class="nu0">48</span>, <span class="nu0">73</span>, <span class="nu0">42</span>, <span class="nu0">43</span>, <span class="nu0">22</span>, <span class="nu0">7</span>, <span class="nu0">18</span>, <span class="nu0">4</span>, <span class="nu0">30</span> <span class="br0">}</span>,<br>&nbsp;<br>                  v <span class="sy0">=</span>  <span class="br0">{</span> <span class="nu0">150</span>, <span class="nu0">35</span>, <span class="nu0">200</span>, <span class="nu0">160</span>, <span class="nu0">60</span>, <span class="nu0">45</span>, <span class="nu0">60</span>, <span class="nu0">40</span>, <span class="nu0">30</span>, <span class="nu0">10</span>, <span class="nu0">70</span>,<br>                          <span class="nu0">30</span>, <span class="nu0">15</span>, <span class="nu0">10</span>, <span class="nu0">40</span>, <span class="nu0">70</span>, <span class="nu0">75</span>, <span class="nu0">80</span>, <span class="nu0">20</span>, <span class="nu0">12</span>, <span class="nu0">50</span>, <span class="nu0">10</span> <span class="br0">}</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">static</span> <span class="kw4">string</span><span class="br0">[</span><span class="br0">]</span> items <span class="sy0">=</span>  <span class="br0">{</span><span class="st0">"map"</span>,<span class="st0">"compass"</span>,<span class="st0">"water"</span>,<span class="st0">"sandwich"</span>,<span class="st0">"glucose"</span>,<span class="st0">"tin"</span>,<br>                              <span class="st0">"banana"</span>,<span class="st0">"apple"</span>,<span class="st0">"cheese"</span>,<span class="st0">"beer"</span>,<span class="st0">"suntan cream"</span>,<br>                              <span class="st0">"camera"</span>,<span class="st0">"T-shirt"</span>,<span class="st0">"trousers"</span>,<span class="st0">"umbrella"</span>,<br>                              <span class="st0">"waterproof trousers"</span>,<span class="st0">"waterproof overclothes"</span>,<br>                              <span class="st0">"note-case"</span>,<span class="st0">"sunglasses"</span>,<span class="st0">"towel"</span>,<span class="st0">"socks"</span>,<span class="st0">"book"</span><span class="br0">}</span><span class="sy0">;</span><br><span class="br0">}</span></pre>
<h2><span class="mw-headline" id="C.23"><a href="https://rosettacode.org/wiki/Category:C_sharp" title="Category:C sharp">C#</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=11" title="Edit section: C#">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta libheader"><b>Library:</b> <a href="https://rosettacode.org/mw/index.php?title=Category:System&amp;action=edit&amp;redlink=1" class="new" title="Category:System (page does not exist)">System</a></div>
<div class="examplemeta libheader"><b>Library:</b> <a href="https://rosettacode.org/mw/index.php?title=Category:System.Collections.Generic&amp;action=edit&amp;redlink=1" class="new" title="Category:System.Collections.Generic (page does not exist)">System.Collections.Generic</a></div>
<pre class="csharp highlighted_source"><span class="kw1">using</span> <span class="co3">System</span><span class="sy0">;</span><br><span class="kw1">using</span> <span class="co3">System.Collections.Generic</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">namespace</span> Tests_With_Framework_4<br><span class="br0">{</span><br>&nbsp;<br><span class="kw4">class</span> Bag <span class="sy0">:</span> IEnumerable<span class="sy0">&lt;</span>Bag<span class="sy0">.</span><span class="me1">Item</span><span class="sy0">&gt;</span><br>        <span class="br0">{</span><br>            List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> items<span class="sy0">;</span><br>            <span class="kw1">const</span> <span class="kw4">int</span> MaxWeightAllowed <span class="sy0">=</span> <span class="nu0">400</span><span class="sy0">;</span><br>&nbsp;<br>            <span class="kw1">public</span> Bag<span class="br0">(</span><span class="br0">)</span><br>            <span class="br0">{</span><br>                items <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>&nbsp;<br>            <span class="kw4">void</span> AddItem<span class="br0">(</span>Item i<span class="br0">)</span><br>            <span class="br0">{</span><br>                <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span>TotalWeight <span class="sy0">+</span> i<span class="sy0">.</span><span class="me1">Weight</span><span class="br0">)</span> <span class="sy0">&lt;=</span> MaxWeightAllowed<span class="br0">)</span><br>                    items<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span>i<span class="br0">)</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>&nbsp;<br>            <span class="kw1">public</span> <span class="kw4">void</span> Calculate<span class="br0">(</span>List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> items<span class="br0">)</span><br>            <span class="br0">{</span><br>                <span class="kw1">foreach</span> <span class="br0">(</span>Item i <span class="kw1">in</span> Sorte<span class="br0">(</span>items<span class="br0">)</span><span class="br0">)</span><br>                <span class="br0">{</span><br>                    AddItem<span class="br0">(</span>i<span class="br0">)</span><span class="sy0">;</span><br>                <span class="br0">}</span><br>            <span class="br0">}</span><br>&nbsp;<br>            List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> Sorte<span class="br0">(</span>List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> inputItems<span class="br0">)</span><br>            <span class="br0">{</span><br>                List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> choosenItems <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>                <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> inputItems<span class="sy0">.</span><span class="me1">Count</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span><br>                <span class="br0">{</span><br>                    <span class="kw4">int</span> j <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">;</span><br>                    <span class="kw1">if</span> <span class="br0">(</span>i <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span><br>                    <span class="br0">{</span><br>                        choosenItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span>inputItems<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>                    <span class="br0">}</span><br>                    <span class="kw1">if</span> <span class="br0">(</span>i <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span><br>                    <span class="br0">{</span><br>                        <span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span>RecursiveF<span class="br0">(</span>inputItems, choosenItems, i, choosenItems<span class="sy0">.</span><span class="me1">Count</span> <span class="sy0">-</span> <span class="nu0">1</span>, <span class="kw1">false</span>, <span class="kw1">ref</span> j<span class="br0">)</span><span class="br0">)</span><br>                        <span class="br0">{</span><br>                            choosenItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span>inputItems<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>                        <span class="br0">}</span><br>                    <span class="br0">}</span><br>                <span class="br0">}</span><br>                <span class="kw1">return</span> choosenItems<span class="sy0">;</span><br>            <span class="br0">}</span><br>&nbsp;<br>            <span class="kw4">bool</span> RecursiveF<span class="br0">(</span>List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> knapsackItems, List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> choosenItems, <span class="kw4">int</span> i, <span class="kw4">int</span> lastBound, <span class="kw4">bool</span> dec, <span class="kw1">ref</span> <span class="kw4">int</span> indxToAdd<span class="br0">)</span><br>            <span class="br0">{</span><br>                <span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span><span class="br0">(</span>lastBound <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><br>                <span class="br0">{</span><br>                    <span class="kw1">if</span> <span class="br0">(</span> knapsackItems<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">.</span><span class="me1">ResultWV</span> <span class="sy0">&lt;</span> choosenItems<span class="br0">[</span>lastBound<span class="br0">]</span><span class="sy0">.</span><span class="me1">ResultWV</span> <span class="br0">)</span><br>                    <span class="br0">{</span><br>                        indxToAdd <span class="sy0">=</span> lastBound<span class="sy0">;</span><br>                    <span class="br0">}</span><br>                    <span class="kw1">return</span> RecursiveF<span class="br0">(</span>knapsackItems, choosenItems, i, lastBound <span class="sy0">-</span> <span class="nu0">1</span>, <span class="kw1">true</span>, <span class="kw1">ref</span> indxToAdd<span class="br0">)</span><span class="sy0">;</span><br>                <span class="br0">}</span><br>                <span class="kw1">if</span> <span class="br0">(</span>indxToAdd <span class="sy0">&gt;</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><br>                <span class="br0">{</span><br>                    choosenItems<span class="sy0">.</span><span class="me1">Insert</span><span class="br0">(</span>indxToAdd, knapsackItems<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>                    <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span><br>                <span class="br0">}</span><br>                <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>&nbsp;<br>            <span class="co2">#region IEnumerable&lt;Item&gt; Members</span><br>            IEnumerator<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> IEnumerable<span class="sy0">&lt;</span>Item<span class="sy0">&gt;.</span><span class="me1">GetEnumerator</span><span class="br0">(</span><span class="br0">)</span><br>            <span class="br0">{</span><br>                <span class="kw1">foreach</span> <span class="br0">(</span>Item i <span class="kw1">in</span> items<span class="br0">)</span><br>                    <span class="kw1">yield</span> <span class="kw1">return</span> i<span class="sy0">;</span><br>            <span class="br0">}</span><br>            <span class="co2">#endregion</span><br>&nbsp;<br>            <span class="co2">#region IEnumerable Members</span><br>            <span class="kw5">System.<span class="me1">Collections</span></span><span class="sy0">.</span><span class="me1">IEnumerator</span> <span class="kw5">System.<span class="me1">Collections</span></span><span class="sy0">.</span><span class="me1">IEnumerable</span><span class="sy0">.</span><span class="me1">GetEnumerator</span><span class="br0">(</span><span class="br0">)</span><br>            <span class="br0">{</span><br>                <span class="kw1">return</span> items<span class="sy0">.</span><span class="me1">GetEnumerator</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>            <span class="co2">#endregion</span><br>&nbsp;<br>            <span class="kw1">public</span> <span class="kw4">int</span> TotalWeight<br>            <span class="br0">{</span><br>                <span class="kw1">get</span><br>                <span class="br0">{</span><br>                    <span class="kw1">var</span> sum <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>                    <span class="kw1">foreach</span> <span class="br0">(</span>Item i <span class="kw1">in</span> <span class="kw1">this</span><span class="br0">)</span><br>                    <span class="br0">{</span><br>                        sum <span class="sy0">+=</span> i<span class="sy0">.</span><span class="me1">Weight</span><span class="sy0">;</span><br>                    <span class="br0">}</span><br>                    <span class="kw1">return</span> sum<span class="sy0">;</span><br>                <span class="br0">}</span><br>            <span class="br0">}</span><br>&nbsp;<br>            <span class="kw1">public</span> <span class="kw4">class</span> Item<br>            <span class="br0">{</span><br>                <span class="kw1">public</span> <span class="kw4">string</span> Name <span class="br0">{</span> <span class="kw1">get</span><span class="sy0">;</span> <span class="kw1">set</span><span class="sy0">;</span> <span class="br0">}</span> <span class="kw1">public</span> <span class="kw4">int</span> Weight <span class="br0">{</span> <span class="kw1">get</span><span class="sy0">;</span> <span class="kw1">set</span><span class="sy0">;</span> <span class="br0">}</span> <span class="kw1">public</span> <span class="kw4">int</span> <span class="kw1">Value</span> <span class="br0">{</span> <span class="kw1">get</span><span class="sy0">;</span> <span class="kw1">set</span><span class="sy0">;</span> <span class="br0">}</span> <span class="kw1">public</span> <span class="kw4">int</span> ResultWV <span class="br0">{</span> <span class="kw1">get</span> <span class="br0">{</span> <span class="kw1">return</span>  Weight<span class="sy0">-</span><span class="kw1">Value</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span><br>                <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">string</span> ToString<span class="br0">(</span><span class="br0">)</span><br>                <span class="br0">{</span><br>                    <span class="kw1">return</span> <span class="st0">"Name&nbsp;: "</span> <span class="sy0">+</span> Name <span class="sy0">+</span> <span class="st0">"        Wieght&nbsp;: "</span> <span class="sy0">+</span> Weight <span class="sy0">+</span> <span class="st0">"       Value&nbsp;: "</span> <span class="sy0">+</span> <span class="kw1">Value</span> <span class="sy0">+</span> <span class="st0">"     ResultWV&nbsp;: "</span> <span class="sy0">+</span> ResultWV<span class="sy0">;</span><br>                <span class="br0">}</span><br>            <span class="br0">}</span><br>        <span class="br0">}</span><br>&nbsp;<br>    <span class="kw4">class</span> Program<br>    <span class="br0">{</span><br>        <span class="kw1">static</span> <span class="kw4">void</span> Main<span class="br0">(</span><span class="kw4">string</span><span class="br0">[</span><span class="br0">]</span> args<span class="br0">)</span><br>        <span class="br0">{</span>List<span class="sy0">&lt;</span>Bag<span class="sy0">.</span><span class="me1">Item</span><span class="sy0">&gt;</span> knapsackItems <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> List<span class="sy0">&lt;</span>Bag<span class="sy0">.</span><span class="me1">Item</span><span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Map"</span>, Weight <span class="sy0">=</span> <span class="nu0">9</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">150</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Water"</span>, Weight <span class="sy0">=</span> <span class="nu0">153</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">200</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Compass"</span>, Weight <span class="sy0">=</span> <span class="nu0">13</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">35</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Sandwitch"</span>, Weight <span class="sy0">=</span> <span class="nu0">50</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">160</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Glucose"</span>, Weight <span class="sy0">=</span> <span class="nu0">15</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">60</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Tin"</span>, Weight <span class="sy0">=</span> <span class="nu0">68</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">45</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Banana"</span>, Weight <span class="sy0">=</span> <span class="nu0">27</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">60</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Apple"</span>, Weight <span class="sy0">=</span> <span class="nu0">39</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">40</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Cheese"</span>, Weight <span class="sy0">=</span> <span class="nu0">23</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">30</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Beer"</span>, Weight <span class="sy0">=</span> <span class="nu0">52</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">10</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Suntan Cream"</span>, Weight <span class="sy0">=</span> <span class="nu0">11</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">70</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Camera"</span>, Weight <span class="sy0">=</span> <span class="nu0">32</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">30</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"T-shirt"</span>, Weight <span class="sy0">=</span> <span class="nu0">24</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">15</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Trousers"</span>, Weight <span class="sy0">=</span> <span class="nu0">48</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">10</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Umbrella"</span>, Weight <span class="sy0">=</span> <span class="nu0">73</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">40</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"WaterProof Trousers"</span>, Weight <span class="sy0">=</span> <span class="nu0">42</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">70</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Note-Case"</span>, Weight <span class="sy0">=</span> <span class="nu0">22</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">80</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Sunglasses"</span>, Weight <span class="sy0">=</span> <span class="nu0">7</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">20</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Towel"</span>, Weight <span class="sy0">=</span> <span class="nu0">18</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">12</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Socks"</span>, Weight <span class="sy0">=</span> <span class="nu0">4</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">50</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"Book"</span>, Weight <span class="sy0">=</span> <span class="nu0">30</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">10</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            knapsackItems<span class="sy0">.</span><span class="kw1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="sy0">.</span><span class="me1">Item</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> Name <span class="sy0">=</span> <span class="st0">"waterproof overclothes "</span>, Weight <span class="sy0">=</span> <span class="nu0">43</span>, <span class="kw1">Value</span> <span class="sy0">=</span> <span class="nu0">75</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>            Bag b <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Bag<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>            b<span class="sy0">.</span><span class="me1">Calculate</span><span class="br0">(</span>knapsackItems<span class="br0">)</span><span class="sy0">;</span><br>            b<span class="sy0">.</span><span class="me1">All</span><span class="br0">(</span>x <span class="sy0">=&gt;</span> <span class="br0">{</span> Console<span class="sy0">.</span><span class="me1">WriteLine</span><span class="br0">(</span>x<span class="br0">)</span><span class="sy0">;</span> <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>            Console<span class="sy0">.</span><span class="me1">WriteLine</span><span class="br0">(</span>b<span class="sy0">.</span><span class="me1">Sum</span><span class="br0">(</span>x <span class="sy0">=&gt;</span> x<span class="sy0">.</span><span class="me1">Weight</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>            Console<span class="sy0">.</span><span class="me1">ReadKey</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br><span class="br0">}</span></pre>
<p>("Bag" might not be the best name for the class, since "bag" is sometimes also used to refer to a multiset data structure.)
</p>
<h2><span class="mw-headline" id="Ceylon"><a href="https://rosettacode.org/wiki/Category:Ceylon" title="Category:Ceylon">Ceylon</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=12" title="Edit section: Ceylon">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>module.ceylon</b>:
</p>
<pre class="text highlighted_source">&nbsp;<br>module knapsack "1.0.0" {<br>}<br>&nbsp;</pre>
<p><b>run.ceylon:</b>
</p>
<pre class="text highlighted_source">&nbsp;<br>shared void run() {<br>    value knapsack = pack(items, empty(400));<br>&nbsp;<br>    print(knapsack);<br>}<br>&nbsp;<br>class Item(name,weight,theValue) {<br>    String name;<br>    shared Integer weight;<br>    shared Float theValue;<br>&nbsp;<br>    shared actual String string = "item(``name``, ``weight``, ``theValue``)";<br>}<br>&nbsp;<br>class Knapsack(items,theValue,weight,available) {<br>    shared Item[] items;<br>    shared Float theValue;<br>    shared Integer weight;<br>    shared Integer available;<br>&nbsp;<br>    shared Boolean canAccept(Item item)<br>        =&gt; item.weight &lt;= available;<br>&nbsp;<br>    String itemsString = items.fold("")((total, remaining) =&gt; "``total``\t\n``remaining.string``" );<br>&nbsp;<br>    shared actual String string = "Total value: ``theValue``\nTotal weight: ``weight``\nItems:\n``itemsString``";<br>}<br>&nbsp;<br>Knapsack empty(Integer capacity)<br>    =&gt; Knapsack([], 0.0, 0, capacity);<br>&nbsp;<br>&nbsp;<br>Item[] items =<br>        [<br>         Item("map", 9, 150.0),<br>         Item("compass", 13, 35.0),<br>         Item("water", 153, 200.0),<br>         Item("sandwich", 50, 160.0),<br>         Item("glucose", 15, 60.0),<br>         Item("tin", 68, 45.0),<br>         Item("banana", 27, 60.0),<br>         Item("apple", 39, 40.0),<br>         Item("cheese", 23, 30.0),<br>         Item("beer", 52, 10.0),<br>         Item("cream", 11, 70.0),<br>         Item("camera", 32, 30.0),<br>         Item("tshirt", 24, 15.0),<br>         Item("trousers", 48, 10.0),<br>         Item("umbrella", 73, 40.0),<br>         Item("trousers", 42, 70.0),<br>         Item("overclothes", 43, 75.0),<br>         Item("notecase", 22, 80.0),<br>         Item("sunglasses", 7, 20.0),<br>         Item("towel", 18, 12.0),<br>         Item("socks", 4, 50.0),<br>         Item("book", 30, 10.0)<br>        ];<br>&nbsp;<br>&nbsp;<br>Knapsack add(Item item, Knapsack knapsack)<br>    =&gt; Knapsack { items = knapsack.items.withTrailing(item);<br>                  theValue = knapsack.theValue + item.theValue;<br>                  weight = knapsack.weight + item.weight;<br>                  available = knapsack.available - item.weight; };<br>&nbsp;<br>Float rating(Item item) =&gt; item.theValue / item.weight.float;<br>&nbsp;<br>Knapsack pack(Item[] items, Knapsack knapsack)<br>    // Sort the items by decreasing rating, that is, value divided by weight<br>    =&gt; let (itemsSorted =<br>                items.group(rating)<br>                     .sort(byDecreasing((Float-&gt;[Item+] entry) =&gt; entry.key))<br>                     .map(Entry.item)<br>                     .flatMap((element) =&gt; element)<br>                     .sequence())<br>&nbsp;<br>    packRecursive(itemsSorted,knapsack);<br>&nbsp;<br>Knapsack packRecursive(Item[] sortedItems, Knapsack knapsack)<br>    =&gt; if (exists firstItem=sortedItems.first, knapsack.canAccept(firstItem))<br>        then packRecursive(sortedItems.rest, add(firstItem,knapsack))<br>        else knapsack;<br>&nbsp;</pre>
<p><br>
</p>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Total value: 1030.0
Total weight: 396
Items:
	
item(map, 9, 150.0)	
item(socks, 4, 50.0)	
item(cream, 11, 70.0)	
item(glucose, 15, 60.0)	
item(notecase, 22, 80.0)	
item(sandwich, 50, 160.0)	
item(sunglasses, 7, 20.0)	
item(compass, 13, 35.0)	
item(banana, 27, 60.0)	
item(overclothes, 43, 75.0)	
item(trousers, 42, 70.0)	
item(water, 153, 200.0)
</pre>
<h2><span class="mw-headline" id="Clojure"><a href="https://rosettacode.org/wiki/Category:Clojure" title="Category:Clojure">Clojure</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=13" title="Edit section: Clojure">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Uses the dynamic programming solution from <a href="http://en.wikipedia.org/wiki/Knapsack_problem#0-1_knapsack_problem" class="extiw" title="wp:Knapsack problem">Wikipedia</a>.
First define the <i>items</i> data:
</p>
<pre class="clojure highlighted_source"><span class="br0">(</span><span class="kw1">def</span> item<span class="sy0">-</span>data<br>  <span class="br0">[</span> <span class="st0">"map"</span>         <span class="nu0">9</span> <span class="nu0">150</span><br>    <span class="st0">"compass"</span>    <span class="nu0">13</span>  <span class="nu0">35</span><br>    <span class="st0">"water"</span>     <span class="nu0">153</span> <span class="nu0">200</span><br>    <span class="st0">"sandwich"</span>   <span class="nu0">50</span> <span class="nu0">160</span><br>    <span class="st0">"glucose"</span>    <span class="nu0">15</span>  <span class="nu0">60</span><br>    <span class="st0">"tin"</span>        <span class="nu0">68</span>  <span class="nu0">45</span><br>    <span class="st0">"banana"</span>     <span class="nu0">27</span>  <span class="nu0">60</span><br>    <span class="st0">"apple"</span>      <span class="nu0">39</span>  <span class="nu0">40</span><br>    <span class="st0">"cheese"</span>     <span class="nu0">23</span>  <span class="nu0">30</span><br>    <span class="st0">"beer"</span>       <span class="nu0">52</span>  <span class="nu0">10</span><br>    <span class="st0">"suntan cream"</span>   <span class="nu0">11</span>  <span class="nu0">70</span><br>    <span class="st0">"camera"</span>     <span class="nu0">32</span>  <span class="nu0">30</span><br>    <span class="st0">"t-shirt"</span>    <span class="nu0">24</span>  <span class="nu0">15</span><br>    <span class="st0">"trousers"</span>   <span class="nu0">48</span>  <span class="nu0">10</span><br>    <span class="st0">"umbrella"</span>   <span class="nu0">73</span>  <span class="nu0">40</span><br>    <span class="st0">"waterproof trousers"</span>    <span class="nu0">42</span>  <span class="nu0">70</span><br>    <span class="st0">"waterproof overclothes"</span> <span class="nu0">43</span>  <span class="nu0">75</span><br>    <span class="st0">"note-case"</span>  <span class="nu0">22</span>  <span class="nu0">80</span><br>    <span class="st0">"sunglasses"</span>  <span class="nu0">7</span>  <span class="nu0">20</span><br>    <span class="st0">"towel"</span>      <span class="nu0">18</span>  <span class="nu0">12</span><br>    <span class="st0">"socks"</span>       <span class="nu0">4</span>  <span class="nu0">50</span><br>    <span class="st0">"book"</span>       <span class="nu0">30</span>  <span class="nu0">10</span><span class="br0">]</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">defstruct</span> item&nbsp;:<span class="me1">name</span>&nbsp;:<span class="me1">weight</span>&nbsp;:<span class="me1">value</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">def</span> items <span class="br0">(</span><span class="kw1">vec</span> <span class="br0">(</span><span class="kw1">map</span> #<span class="br0">(</span><span class="kw1">apply</span> <span class="kw1">struct</span> item <span class="sy0">%</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">partition</span> <span class="nu0">3</span> item<span class="sy0">-</span>data<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre>
<p><i>m</i> is as per the Wikipedia formula, except that it returns a pair <i>[value indexes]</i> where <i>indexes</i> is a vector of index values in <i>items</i>. <i>value</i> is the maximum value attainable using items 0..<i>i</i> whose total weight doesn't exceed <i>w</i>; <i>indexes</i> are the item indexes that produces the value.
</p>
<pre class="clojure highlighted_source"><span class="br0">(</span><span class="kw1">declare</span> mm<span class="br0">)</span> <span class="co1">;forward decl for memoization function</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">defn</span> m <span class="br0">[</span>i w<span class="br0">]</span><br>  <span class="br0">(</span><span class="kw1">cond</span><br>    <span class="br0">(</span><span class="sy0">&lt;</span> i <span class="nu0">0</span><span class="br0">)</span> <span class="br0">[</span><span class="nu0">0</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">]</span><br>    <span class="br0">(</span><span class="sy0">=</span> w <span class="nu0">0</span><span class="br0">)</span> <span class="br0">[</span><span class="nu0">0</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">]</span><br>   &nbsp;:<span class="me1">else</span><br>    <span class="br0">(</span><span class="kw1">let</span> <span class="br0">[</span><span class="br0">{</span>wi&nbsp;:<span class="me1">weight</span> vi&nbsp;:<span class="me1">value</span><span class="br0">}</span> <span class="br0">(</span>get items i<span class="br0">)</span><span class="br0">]</span><br>      <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="sy0">&gt;</span> wi w<span class="br0">)</span><br>        <span class="br0">(</span>mm <span class="br0">(</span><span class="kw1">dec</span> i<span class="br0">)</span> w<span class="br0">)</span><br>        <span class="br0">(</span><span class="kw1">let</span> <span class="br0">[</span><span class="br0">[</span>vn sn&nbsp;:<span class="me1">as</span> no<span class="br0">]</span>  <span class="br0">(</span>mm <span class="br0">(</span><span class="kw1">dec</span> i<span class="br0">)</span> w<span class="br0">)</span><br>              <span class="br0">[</span>vy sy&nbsp;:<span class="me1">as</span> yes<span class="br0">]</span> <span class="br0">(</span>mm <span class="br0">(</span><span class="kw1">dec</span> i<span class="br0">)</span> <span class="br0">(</span><span class="sy0">-</span> w wi<span class="br0">)</span><span class="br0">)</span><span class="br0">]</span><br>          <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="sy0">&gt;</span> <span class="br0">(</span><span class="sy0">+</span> vy vi<span class="br0">)</span> vn<span class="br0">)</span><br>            <span class="br0">[</span><span class="br0">(</span><span class="sy0">+</span> vy vi<span class="br0">)</span> <span class="br0">(</span><span class="kw1">conj</span> sy i<span class="br0">)</span><span class="br0">]</span><br>            no<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">def</span> mm <span class="br0">(</span>memoize m<span class="br0">)</span><span class="br0">)</span></pre>
<p>Call <i>m</i> and print the result:
</p>
<pre class="clojure highlighted_source"><span class="br0">(</span>use '<span class="br0">[</span>clojure<span class="sy0">.</span>string&nbsp;:<span class="me1">only</span> <span class="br0">[</span>join<span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">let</span> <span class="br0">[</span><span class="br0">[</span>value indexes<span class="br0">]</span> <span class="br0">(</span>m <span class="br0">(</span><span class="sy0">-&gt;</span> items <span class="kw1">count</span> <span class="kw1">dec</span><span class="br0">)</span> <span class="nu0">400</span><span class="br0">)</span><br>      names <span class="br0">(</span><span class="kw1">map</span> <span class="br0">(</span>comp&nbsp;:<span class="me1">name</span> items<span class="br0">)</span> indexes<span class="br0">)</span><span class="br0">]</span><br>  <span class="br0">(</span>println <span class="st0">"items to pack:"</span> <span class="br0">(</span>join <span class="st0">", "</span> names<span class="br0">)</span><span class="br0">)</span><br>  <span class="br0">(</span>println <span class="st0">"total value:"</span> value<span class="br0">)</span><br>  <span class="br0">(</span>println <span class="st0">"total weight:"</span> <span class="br0">(</span><span class="kw1">reduce</span> <span class="sy0">+</span> <span class="br0">(</span><span class="kw1">map</span> <span class="br0">(</span>comp&nbsp;:<span class="me1">weight</span> items<span class="br0">)</span> indexes<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>items to pack: map, compass, water, sandwich, glucose, banana, suntan cream, waterproof trousers, 
waterproof overclothes, note-case, sunglasses, socks
total value: 1030
total weight: 396</pre>
<h2><span class="mw-headline" id="Common_Lisp"><a href="https://rosettacode.org/wiki/Category:Common_Lisp" title="Category:Common Lisp">Common Lisp</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=14" title="Edit section: Common Lisp">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Cached method.
</p>
<pre class="lisp highlighted_source"><span class="co1">;;; memoize</span><br><span class="br0">(</span><span class="kw1">defmacro</span> mm-<span class="kw1">set</span> <span class="br0">(</span>p v<span class="br0">)</span> `<span class="br0">(</span><span class="kw1">if</span> <span class="sy0">,</span>p <span class="sy0">,</span>p <span class="br0">(</span><span class="kw1">setf</span> <span class="sy0">,</span>p <span class="sy0">,</span>v<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">defun</span> knapsack <span class="br0">(</span>max-weight items<span class="br0">)</span><br>  <span class="br0">(</span><span class="kw1">let</span> <span class="br0">(</span><span class="br0">(</span>cache <span class="br0">(</span>make-<span class="kw1">array</span> <span class="br0">(</span><span class="kw1">list</span> <span class="br0">(</span><span class="nu0">1</span>+ max-weight<span class="br0">)</span> <span class="br0">(</span><span class="nu0">1</span>+ <span class="br0">(</span><span class="kw1">length</span> items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>			   <span class="sy0">:</span><span class="me1">initial-element</span> <span class="kw1">nil</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br>    <span class="br0">(</span>labels <span class="br0">(</span><span class="br0">(</span>knapsack1 <span class="br0">(</span>spc items<span class="br0">)</span><br>	<span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="kw1">not</span> items<span class="br0">)</span> <span class="br0">(</span>return-from knapsack1 <span class="br0">(</span><span class="kw1">list</span> <span class="nu0">0</span> <span class="nu0">0</span> '<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>	<span class="br0">(</span>mm-<span class="kw1">set</span> <span class="br0">(</span><span class="kw1">aref</span> cache spc <span class="br0">(</span><span class="kw1">length</span> items<span class="br0">)</span><span class="br0">)</span><br>		<span class="br0">(</span><span class="kw1">let</span>* <span class="br0">(</span><span class="br0">(</span>i <span class="br0">(</span>first items<span class="br0">)</span><span class="br0">)</span><br>		       <span class="br0">(</span>w <span class="br0">(</span>second i<span class="br0">)</span><span class="br0">)</span><br>		       <span class="br0">(</span>v <span class="br0">(</span>third i<span class="br0">)</span><span class="br0">)</span><br>		       <span class="br0">(</span>x <span class="br0">(</span>knapsack1 spc <span class="br0">(</span><span class="kw1">cdr</span> items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>		  <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="sy0">&gt;</span> w spc<span class="br0">)</span> x<br>		    <span class="br0">(</span><span class="kw1">let</span>* <span class="br0">(</span><span class="br0">(</span>y <span class="br0">(</span>knapsack1 <span class="br0">(</span>- spc w<span class="br0">)</span> <span class="br0">(</span><span class="kw1">cdr</span> items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>			   <span class="br0">(</span>v <span class="br0">(</span>+ v <span class="br0">(</span>first y<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>		      <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="sy0">&lt;</span> v <span class="br0">(</span>first x<span class="br0">)</span><span class="br0">)</span> x<br>			<span class="br0">(</span><span class="kw1">list</span> v <span class="br0">(</span>+ w <span class="br0">(</span>second y<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">cons</span> i <span class="br0">(</span>third y<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br>      <span class="br0">(</span>knapsack1 max-weight items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">print</span><br>  <span class="br0">(</span>knapsack <span class="nu0">400</span><br>	    '<span class="br0">(</span><span class="br0">(</span>map <span class="nu0">9</span> <span class="nu0">150</span><span class="br0">)</span> <span class="br0">(</span>compass <span class="nu0">13</span> <span class="nu0">35</span><span class="br0">)</span> <span class="br0">(</span>water <span class="nu0">153</span> <span class="nu0">200</span><span class="br0">)</span> <span class="br0">(</span>sandwich <span class="nu0">50</span> <span class="nu0">160</span><span class="br0">)</span><br>	      <span class="br0">(</span>glucose <span class="nu0">15</span> <span class="nu0">60</span><span class="br0">)</span> <span class="br0">(</span>tin <span class="nu0">68</span> <span class="nu0">45</span><span class="br0">)</span><span class="br0">(</span>banana <span class="nu0">27</span> <span class="nu0">60</span><span class="br0">)</span> <span class="br0">(</span>apple <span class="nu0">39</span> <span class="nu0">40</span><span class="br0">)</span><br>	      <span class="br0">(</span>cheese <span class="nu0">23</span> <span class="nu0">30</span><span class="br0">)</span> <span class="br0">(</span>beer <span class="nu0">52</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">(</span>cream <span class="nu0">11</span> <span class="nu0">70</span><span class="br0">)</span> <span class="br0">(</span>camera <span class="nu0">32</span> <span class="nu0">30</span><span class="br0">)</span><br>	      <span class="br0">(</span>T-shirt <span class="nu0">24</span> <span class="nu0">15</span><span class="br0">)</span> <span class="br0">(</span>trousers <span class="nu0">48</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">(</span>umbrella <span class="nu0">73</span> <span class="nu0">40</span><span class="br0">)</span><br>	      <span class="br0">(</span>trousers <span class="nu0">42</span> <span class="nu0">70</span><span class="br0">)</span> <span class="br0">(</span>overclothes <span class="nu0">43</span> <span class="nu0">75</span><span class="br0">)</span> <span class="br0">(</span>notecase <span class="nu0">22</span> <span class="nu0">80</span><span class="br0">)</span><br>	      <span class="br0">(</span>glasses <span class="nu0">7</span> <span class="nu0">20</span><span class="br0">)</span> <span class="br0">(</span>towel <span class="nu0">18</span> <span class="nu0">12</span><span class="br0">)</span> <span class="br0">(</span>socks <span class="nu0">4</span> <span class="nu0">50</span><span class="br0">)</span> <span class="br0">(</span>book <span class="nu0">30</span> <span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>(1030 396
 ((MAP 9 150) (COMPASS 13 35) (WATER 153 200) (SANDWICH 50 160) (GLUCOSE 15 60)
  (BANANA 27 60) (CREAM 11 70) (TROUSERS 42 70) (OVERCLOTHES 43 75)
  (NOTECASE 22 80) (GLASSES 7 20) (SOCKS 4 50)))</pre>
<h2><span class="mw-headline" id="Crystal"><a href="https://rosettacode.org/wiki/Category:Crystal" title="Category:Crystal">Crystal</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=15" title="Edit section: Crystal">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Branch and bound solution
</p>
<pre class="ruby highlighted_source"><span class="kw3">require</span> <span class="st0">"bit_array"</span><br>&nbsp;<br>struct BitArray<br>  <span class="kw1">def</span> clone<br>    BitArray.<span class="me1">new</span><span class="br0">(</span>size<span class="br0">)</span>.<span class="me1">tap</span> <span class="br0">{</span> <span class="sy0">|</span>new<span class="sy0">|</span> new.<span class="me1">to_slice</span>.<span class="me1">copy_from</span> <span class="br0">(</span>to_slice<span class="br0">)</span> <span class="br0">}</span><br>  <span class="kw1">end</span><br><span class="kw1">end</span><br>&nbsp;<br>record Item, name&nbsp;: <span class="kw3">String</span>, weight&nbsp;: Int32, value&nbsp;: Int32<br>&nbsp;<br>record Selection, mask&nbsp;: BitArray, cur_index&nbsp;: Int32, total_value&nbsp;: Int32<br>&nbsp;<br><span class="kw1">class</span> Knapsack<br>  <span class="re1">@threshold_value</span> = <span class="nu0">0</span><br>  <span class="re1">@threshold_choice</span>&nbsp;: Selection?<br>  getter checked_nodes = <span class="nu0">0</span><br>&nbsp;<br>  <span class="kw1">def</span> knapsack_step<span class="br0">(</span>taken, items, remaining_weight<span class="br0">)</span><br>    <span class="kw1">if</span> taken.<span class="me1">total_value</span> <span class="sy0">&gt;</span> <span class="re1">@threshold_value</span><br>      <span class="re1">@threshold_value</span> = taken.<span class="me1">total_value</span><br>      <span class="re1">@threshold_choice</span> = taken<br>    <span class="kw1">end</span><br>    candidate_index = items.<span class="me1">index</span><span class="br0">(</span>taken.<span class="me1">cur_index</span><span class="br0">)</span> <span class="br0">{</span> <span class="sy0">|</span>item<span class="sy0">|</span> item.<span class="me1">weight</span> <span class="sy0">&lt;</span>= remaining_weight <span class="br0">}</span><br>    <span class="kw2">return</span> <span class="kw2">nil</span> <span class="kw1">unless</span> candidate_index<br>    <span class="re1">@checked_nodes</span> <span class="sy0">+</span>= <span class="nu0">1</span><br>    candidate = items<span class="br0">[</span>candidate_index<span class="br0">]</span><br>    <span class="co1"># candidate is a best of available items, so if we fill remaining value with it</span><br>    <span class="co1"># and still don't reach the threshold, the branch is wrong</span><br>    <span class="kw2">return</span> <span class="kw2">nil</span> <span class="kw1">if</span> taken.<span class="me1">total_value</span> <span class="sy0">+</span> <span class="nu0">1.0</span> <span class="sy0">*</span> candidate.<span class="me1">value</span> <span class="sy0">/</span> candidate.<span class="me1">weight</span> <span class="sy0">*</span> remaining_weight <span class="sy0">&lt;</span> <span class="re1">@threshold_value</span><br>    <span class="co1"># now recursively check both variants</span><br>    mask = taken.<span class="me1">mask</span>.<span class="me1">clone</span><br>    mask<span class="br0">[</span>candidate_index<span class="br0">]</span> = <span class="kw2">true</span><br>    knapsack_step Selection.<span class="me1">new</span><span class="br0">(</span>mask, candidate_index <span class="sy0">+</span> <span class="nu0">1</span>, taken.<span class="me1">total_value</span> <span class="sy0">+</span> candidate.<span class="me1">value</span><span class="br0">)</span>, items, remaining_weight <span class="sy0">-</span> candidate.<span class="me1">weight</span><br>    mask = taken.<span class="me1">mask</span>.<span class="me1">clone</span><br>    mask<span class="br0">[</span>candidate_index<span class="br0">]</span> = <span class="kw2">false</span><br>    knapsack_step Selection.<span class="me1">new</span><span class="br0">(</span>mask, candidate_index <span class="sy0">+</span> <span class="nu0">1</span>, taken.<span class="me1">total_value</span><span class="br0">)</span>, items, remaining_weight<br>  <span class="kw1">end</span><br>&nbsp;<br>  <span class="kw1">def</span> <span class="kw3">select</span><span class="br0">(</span>items, max_weight<span class="br0">)</span><br>    <span class="re1">@checked_variants</span> = <span class="nu0">0</span><br>    <span class="co1"># sort by descending relative value</span><br>    list = items.<span class="me1">sort_by</span> <span class="br0">{</span> <span class="sy0">|</span>item<span class="sy0">|</span> <span class="sy0">-</span><span class="nu0">1.0</span> <span class="sy0">*</span> item.<span class="me1">value</span> <span class="sy0">/</span> item.<span class="me1">weight</span> <span class="br0">}</span><br>    <span class="co1"># use heuristic of relative value as an initial estimate for branch&amp;bounds</span><br>    w = max_weight<br>    heur_list = list.<span class="me1">take_while</span> <span class="br0">{</span> <span class="sy0">|</span>item<span class="sy0">|</span> w <span class="sy0">-</span>= item.<span class="me1">weight</span>; w <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="br0">}</span><br>    nothing = Selection.<span class="me1">new</span><span class="br0">(</span>BitArray.<span class="me1">new</span><span class="br0">(</span>items.<span class="me1">size</span><span class="br0">)</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span><br>    <span class="re1">@threshold_value</span> = heur_list.<span class="me1">sum</span><span class="br0">(</span><span class="sy0">&amp;</span>.<span class="me1">value</span><span class="br0">)</span> <span class="sy0">-</span> <span class="nu0">1</span><br>    <span class="re1">@threshold_choice</span> = nothing<br>    knapsack_step<span class="br0">(</span>nothing, list, max_weight<span class="br0">)</span><br>    selected = <span class="re1">@threshold_choice</span>.<span class="me1">not_nil</span>!<br>    result = <span class="br0">[</span><span class="br0">]</span> of Item<br>    selected.<span class="me1">mask</span>.<span class="me1">each_with_index</span> <span class="br0">{</span> <span class="sy0">|</span>v, i<span class="sy0">|</span> result <span class="sy0">&lt;&lt;</span> list<span class="br0">[</span>i<span class="br0">]</span> <span class="kw1">if</span> v <span class="br0">}</span><br>    result<br>  <span class="kw1">end</span><br><span class="kw1">end</span><br>&nbsp;<br>possible = <span class="br0">[</span><br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"map"</span>, <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"compass"</span>, <span class="nu0">13</span>, <span class="nu0">35</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"water"</span>, <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"sandwich"</span>, <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"glucose"</span>, <span class="nu0">15</span>, <span class="nu0">60</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"tin"</span>, <span class="nu0">68</span>, <span class="nu0">45</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"banana"</span>, <span class="nu0">27</span>, <span class="nu0">60</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"apple"</span>, <span class="nu0">39</span>, <span class="nu0">40</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"cheese"</span>, <span class="nu0">23</span>, <span class="nu0">30</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"beer"</span>, <span class="nu0">52</span>, <span class="nu0">10</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"suntan cream"</span>, <span class="nu0">11</span>, <span class="nu0">70</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"camera"</span>, <span class="nu0">32</span>, <span class="nu0">30</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"T-shirt"</span>, <span class="nu0">24</span>, <span class="nu0">15</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"trousers"</span>, <span class="nu0">48</span>, <span class="nu0">10</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"umbrella"</span>, <span class="nu0">73</span>, <span class="nu0">40</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"waterproof trousers"</span>, <span class="nu0">42</span>, <span class="nu0">70</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"waterproof overclothes"</span>, <span class="nu0">43</span>, <span class="nu0">75</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"note-case"</span>, <span class="nu0">22</span>, <span class="nu0">80</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"sunglasses"</span>, <span class="nu0">7</span>, <span class="nu0">20</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"towel"</span>, <span class="nu0">18</span>, <span class="nu0">12</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"socks"</span>, <span class="nu0">4</span>, <span class="nu0">50</span><span class="br0">)</span>,<br>  Item.<span class="me1">new</span><span class="br0">(</span><span class="st0">"book"</span>, <span class="nu0">30</span>, <span class="nu0">10</span><span class="br0">)</span>,<br><span class="br0">]</span><br>&nbsp;<br>solver = Knapsack.<span class="me1">new</span><br>used = solver.<span class="kw3">select</span><span class="br0">(</span>possible, <span class="nu0">400</span><span class="br0">)</span><br><span class="kw3">puts</span> <span class="st0">"optimal choice: #{used.map(&amp;.name)}"</span><br><span class="kw3">puts</span> <span class="st0">"total weight #{used.sum(&amp;.weight)}, total value #{used.sum(&amp;.value)}"</span><br><span class="kw3">puts</span> <span class="st0">"checked nodes: #{solver.checked_nodes}"</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>optimal choice: ["map", "socks", "suntan cream", "glucose", "note-case", "sandwich", "sunglasses", "compass", "banana", "waterproof overclothes", "waterproof trousers", "water"]
total weight 396, total value 1030
checked nodes: 992</pre>
<h2><span class="mw-headline" id="D"><a href="https://rosettacode.org/wiki/Category:D" title="Category:D">D</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=16" title="Edit section: D">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Dynamic_Programming_Version">Dynamic Programming Version</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=17" title="Edit section: Dynamic Programming Version">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Python">Python</a></div>
<pre class="d highlighted_source"><span class="kw2">import</span> std.<span class="me1">stdio</span><span class="sy0">,</span> std.<span class="me1">algorithm</span><span class="sy0">,</span> std.<span class="me1">typecons</span><span class="sy0">,</span> std.<span class="me1">array</span><span class="sy0">,</span> std.<span class="me1">range</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">struct</span> Item <span class="br0">{</span> <span class="kw4">string</span> name<span class="sy0">;</span> <span class="kw4">int</span> weight<span class="sy0">,</span> value<span class="sy0">;</span> <span class="br0">}</span><br>&nbsp;<br>Item<span class="br0">[</span><span class="br0">]</span> knapsack01DinamicProgramming<span class="br0">(</span><span class="kw4">immutable</span> Item<span class="br0">[</span><span class="br0">]</span> items<span class="sy0">,</span> <span class="kw2">in</span> <span class="kw4">int</span> limit<span class="br0">)</span><br><span class="kw4">pure</span> <span class="kw4">nothrow</span> @<span class="kw4">safe</span> <span class="br0">{</span><br>    <span class="kw4">auto</span> tab <span class="sy0">=</span> <span class="kw2">new</span> <span class="kw4">int</span><span class="br0">[</span><span class="br0">]</span><span class="br0">[</span><span class="br0">]</span><span class="br0">(</span>items.<span class="me1">length</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> limit <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">foreach</span> <span class="br0">(</span><span class="kw4">immutable</span> i<span class="sy0">,</span> <span class="kw4">immutable</span> it<span class="sy0">;</span> items<span class="br0">)</span><br>        <span class="kw1">foreach</span> <span class="br0">(</span><span class="kw4">immutable</span> w<span class="sy0">;</span> <span class="nu0">1</span> <span class="sy0">..</span> <span class="me1">limit</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><br>            tab<span class="br0">[</span>i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">(</span>it.<span class="me1">weight</span> <span class="sy0">&gt;</span> w<span class="br0">)</span> <span class="sy0">?</span> tab<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> <span class="sy0">:</span><br>                max<span class="br0">(</span>tab<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span><span class="sy0">,</span> tab<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w <span class="sy0">-</span> it.<span class="me1">weight</span><span class="br0">]</span> <span class="sy0">+</span> it.<span class="me1">value</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw2">typeof</span><span class="br0">(</span><span class="kw1">return</span><span class="br0">)</span> result<span class="sy0">;</span><br>    <span class="kw4">int</span> w <span class="sy0">=</span> limit<span class="sy0">;</span><br>    <span class="kw1">foreach_reverse</span> <span class="br0">(</span><span class="kw4">immutable</span> i<span class="sy0">,</span> <span class="kw4">immutable</span> it<span class="sy0">;</span> items<span class="br0">)</span><br>        <span class="kw1">if</span> <span class="br0">(</span>tab<span class="br0">[</span>i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> <span class="sy0">!=</span> tab<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>            w <span class="sy0">-=</span> it.<span class="me1">weight</span><span class="sy0">;</span><br>            result <span class="sy0">~=</span> it<span class="sy0">;</span><br>        <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">return</span> result<span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">void</span> main<span class="br0">(</span><span class="br0">)</span> @<span class="kw4">safe</span> <span class="br0">{</span><br>    <span class="kw4">enum</span> <span class="kw4">int</span> limit <span class="sy0">=</span> <span class="nu0">400</span><span class="sy0">;</span><br>    <span class="kw4">immutable</span> Item<span class="br0">[</span><span class="br0">]</span> items <span class="sy0">=</span> <span class="br0">[</span><br>        <span class="br0">{</span><span class="st0">"apple"</span><span class="sy0">,</span>      <span class="nu0">39</span><span class="sy0">,</span>  <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"banana"</span><span class="sy0">,</span>        <span class="nu0">27</span><span class="sy0">,</span>  <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"beer"</span><span class="sy0">,</span>       <span class="nu0">52</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"book"</span><span class="sy0">,</span>          <span class="nu0">30</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"camera"</span><span class="sy0">,</span>     <span class="nu0">32</span><span class="sy0">,</span>  <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"cheese"</span><span class="sy0">,</span>        <span class="nu0">23</span><span class="sy0">,</span>  <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"compass"</span><span class="sy0">,</span>    <span class="nu0">13</span><span class="sy0">,</span>  <span class="nu0">35</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"glucose"</span><span class="sy0">,</span>       <span class="nu0">15</span><span class="sy0">,</span>  <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"map"</span><span class="sy0">,</span>         <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">150</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"note-case"</span><span class="sy0">,</span>     <span class="nu0">22</span><span class="sy0">,</span>  <span class="nu0">80</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"sandwich"</span><span class="sy0">,</span>   <span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">160</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"socks"</span><span class="sy0">,</span>          <span class="nu0">4</span><span class="sy0">,</span>  <span class="nu0">50</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"sunglasses"</span><span class="sy0">,</span>  <span class="nu0">7</span><span class="sy0">,</span>  <span class="nu0">20</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"suntan cream"</span><span class="sy0">,</span>  <span class="nu0">11</span><span class="sy0">,</span>  <span class="nu0">70</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"t-shirt"</span><span class="sy0">,</span>    <span class="nu0">24</span><span class="sy0">,</span>  <span class="nu0">15</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"tin"</span><span class="sy0">,</span>           <span class="nu0">68</span><span class="sy0">,</span>  <span class="nu0">45</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"towel"</span><span class="sy0">,</span>      <span class="nu0">18</span><span class="sy0">,</span>  <span class="nu0">12</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"trousers"</span><span class="sy0">,</span>      <span class="nu0">48</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"umbrella"</span><span class="sy0">,</span>   <span class="nu0">73</span><span class="sy0">,</span>  <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"water"</span><span class="sy0">,</span>        <span class="nu0">153</span><span class="sy0">,</span> <span class="nu0">200</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"waterproof overclothes"</span><span class="sy0">,</span> <span class="nu0">43</span><span class="sy0">,</span> <span class="nu0">75</span><span class="br0">}</span><span class="sy0">,</span><br>        <span class="br0">{</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span>    <span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">}</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw4">immutable</span> bag <span class="sy0">=</span> knapsack01DinamicProgramming<span class="br0">(</span>items<span class="sy0">,</span> limit<span class="br0">)</span><span class="sy0">;</span><br>    writefln<span class="br0">(</span><span class="st0">"Items:<span class="es1">\n</span>%-( &nbsp;%s<span class="es1">\n</span>%)"</span><span class="sy0">,</span> bag.<span class="me1">map</span><span class="sy0">!</span>q<span class="br0">{</span> a.<span class="me1">name</span> <span class="br0">}</span>.<span class="me1">retro</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw4">const</span> t <span class="sy0">=</span> reduce<span class="sy0">!</span>q<span class="br0">{</span> a<span class="br0">[</span><span class="br0">]</span> <span class="sy0">+=</span> <span class="br0">[</span>b.<span class="me1">weight</span><span class="sy0">,</span> b.<span class="me1">value</span><span class="br0">]</span> <span class="br0">}</span><span class="br0">(</span><span class="br0">[</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">]</span><span class="sy0">,</span> bag<span class="br0">)</span><span class="sy0">;</span><br>    writeln<span class="br0">(</span><span class="st0">"<span class="es1">\n</span>Total weight and value: "</span><span class="sy0">,</span> t<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">&lt;=</span> limit <span class="sy0">?</span> t <span class="sy0">:</span> <span class="br0">[</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Items:
  banana
  compass
  glucose
  map
  note-case
  sandwich
  socks
  sunglasses
  suntan cream
  water
  waterproof overclothes
  waterproof trousers

Total weight and value: [396, 1030]</pre>
<h3><span class="mw-headline" id="Brute_Force_Version">Brute Force Version</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=18" title="Edit section: Brute Force Version">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#C">C</a></div>
<pre class="d highlighted_source"><span class="kw4">struct</span> Item <span class="br0">{</span> <span class="kw4">string</span> name<span class="sy0">;</span> <span class="kw4">int</span> weight<span class="sy0">,</span> value<span class="sy0">;</span> <span class="br0">}</span><br>&nbsp;<br><span class="kw4">immutable</span> Item<span class="br0">[</span><span class="br0">]</span> items <span class="sy0">=</span> <span class="br0">[</span><br>    <span class="br0">{</span><span class="st0">"apple"</span><span class="sy0">,</span>      <span class="nu0">39</span><span class="sy0">,</span>  <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"banana"</span><span class="sy0">,</span>        <span class="nu0">27</span><span class="sy0">,</span>  <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"beer"</span><span class="sy0">,</span>       <span class="nu0">52</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"book"</span><span class="sy0">,</span>          <span class="nu0">30</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"camera"</span><span class="sy0">,</span>     <span class="nu0">32</span><span class="sy0">,</span>  <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"cheese"</span><span class="sy0">,</span>        <span class="nu0">23</span><span class="sy0">,</span>  <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"compass"</span><span class="sy0">,</span>    <span class="nu0">13</span><span class="sy0">,</span>  <span class="nu0">35</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"glucose"</span><span class="sy0">,</span>       <span class="nu0">15</span><span class="sy0">,</span>  <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"map"</span><span class="sy0">,</span>         <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">150</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"note-case"</span><span class="sy0">,</span>     <span class="nu0">22</span><span class="sy0">,</span>  <span class="nu0">80</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"sandwich"</span><span class="sy0">,</span>   <span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">160</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"socks"</span><span class="sy0">,</span>          <span class="nu0">4</span><span class="sy0">,</span>  <span class="nu0">50</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"sunglasses"</span><span class="sy0">,</span>  <span class="nu0">7</span><span class="sy0">,</span>  <span class="nu0">20</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"suntan cream"</span><span class="sy0">,</span>  <span class="nu0">11</span><span class="sy0">,</span>  <span class="nu0">70</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"t-shirt"</span><span class="sy0">,</span>    <span class="nu0">24</span><span class="sy0">,</span>  <span class="nu0">15</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"tin"</span><span class="sy0">,</span>           <span class="nu0">68</span><span class="sy0">,</span>  <span class="nu0">45</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"towel"</span><span class="sy0">,</span>      <span class="nu0">18</span><span class="sy0">,</span>  <span class="nu0">12</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"trousers"</span><span class="sy0">,</span>      <span class="nu0">48</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"umbrella"</span><span class="sy0">,</span>   <span class="nu0">73</span><span class="sy0">,</span>  <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"water"</span><span class="sy0">,</span>        <span class="nu0">153</span><span class="sy0">,</span> <span class="nu0">200</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"waterproof overclothes"</span><span class="sy0">,</span> <span class="nu0">43</span><span class="sy0">,</span> <span class="nu0">75</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span>    <span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">}</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">struct</span> Solution <span class="br0">{</span> <span class="kw4">uint</span> bits<span class="sy0">;</span> <span class="kw4">int</span> value<span class="sy0">;</span> <span class="br0">}</span><br><span class="kw4">static</span> <span class="kw2">assert</span><span class="br0">(</span>items.<span class="me1">length</span> <span class="sy0">&lt;=</span> Solution.<span class="me1">bits</span>.<span class="me1">sizeof</span> <span class="sy0">*</span> <span class="nu0">8</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">void</span> solve<span class="br0">(</span><span class="kw2">in</span> <span class="kw4">int</span> weight<span class="sy0">,</span> <span class="kw2">in</span> <span class="kw4">int</span> idx<span class="sy0">,</span> <span class="kw2">ref</span> Solution s<span class="br0">)</span><br><span class="kw4">pure</span> <span class="kw4">nothrow</span> @nogc @<span class="kw4">safe</span> <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span>idx <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>        s.<span class="me1">bits</span> <span class="sy0">=</span> s.<span class="me1">value</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>        <span class="kw1">return</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">if</span> <span class="br0">(</span>weight <span class="sy0">&lt;</span> items<span class="br0">[</span>idx<span class="br0">]</span>.<span class="me1">weight</span><span class="br0">)</span> <span class="br0">{</span><br>        solve<span class="br0">(</span>weight<span class="sy0">,</span> idx <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> s<span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">return</span><span class="sy0">;</span><br>     <span class="br0">}</span><br>&nbsp;<br>    Solution v1<span class="sy0">,</span> v2<span class="sy0">;</span><br>    solve<span class="br0">(</span>weight<span class="sy0">,</span> idx <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> v1<span class="br0">)</span><span class="sy0">;</span><br>    solve<span class="br0">(</span>weight <span class="sy0">-</span> items<span class="br0">[</span>idx<span class="br0">]</span>.<span class="me1">weight</span><span class="sy0">,</span> idx <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> v2<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    v2.<span class="me1">value</span> <span class="sy0">+=</span> items<span class="br0">[</span>idx<span class="br0">]</span>.<span class="me1">value</span><span class="sy0">;</span><br>    v2.<span class="me1">bits</span> <span class="sy0">|=</span> <span class="br0">(</span><span class="nu0">1</span> <span class="sy0">&lt;&lt;</span> idx<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    s <span class="sy0">=</span> <span class="br0">(</span>v1.<span class="me1">value</span> <span class="sy0">&gt;=</span> v2.<span class="me1">value</span><span class="br0">)</span> <span class="sy0">?</span> v1 <span class="sy0">:</span> v2<span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">void</span> main<span class="br0">(</span><span class="br0">)</span> @<span class="kw4">safe</span> <span class="br0">{</span><br>    <span class="kw2">import</span> std.<span class="me1">stdio</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw4">auto</span> s <span class="sy0">=</span> Solution<span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><br>    solve<span class="br0">(</span><span class="nu0">400</span><span class="sy0">,</span> items.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> s<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    writeln<span class="br0">(</span><span class="st0">"Items:"</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw4">int</span> w <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="kw1">foreach</span> <span class="br0">(</span><span class="kw4">immutable</span> i<span class="sy0">,</span> <span class="kw4">immutable</span> it<span class="sy0">;</span> items<span class="br0">)</span><br>        <span class="kw1">if</span> <span class="br0">(</span>s.<span class="me1">bits</span> <span class="sy0">&amp;</span> <span class="br0">(</span><span class="nu0">1</span> <span class="sy0">&lt;&lt;</span> i<span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>            writeln<span class="br0">(</span><span class="st0">"  "</span><span class="sy0">,</span> it.<span class="me1">name</span><span class="br0">)</span><span class="sy0">;</span><br>            w <span class="sy0">+=</span> it.<span class="me1">weight</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>    writefln<span class="br0">(</span><span class="st0">"<span class="es1">\n</span>Total value:&nbsp;%d; weight:&nbsp;%d"</span><span class="sy0">,</span> s.<span class="me1">value</span><span class="sy0">,</span> w<span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span></pre>
<p>The runtime is about 0.09 seconds.
</p>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Items:
  banana
  compass
  glucose
  map
  note-case
  sandwich
  socks
  sunglasses
  suntan cream
  water
  waterproof overclothes
  waterproof trousers

Total value: 1030; weight: 396</pre>
<h3><span class="mw-headline" id="Short_Dynamic_Programming_Version">Short Dynamic Programming Version</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=19" title="Edit section: Short Dynamic Programming Version">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Haskell">Haskell</a></div>
<pre class="d highlighted_source"><span class="kw2">import</span> std.<span class="me1">stdio</span><span class="sy0">,</span> std.<span class="me1">algorithm</span><span class="sy0">,</span> std.<span class="me1">typecons</span><span class="sy0">,</span> std.<span class="me1">array</span><span class="sy0">,</span> std.<span class="me1">range</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">struct</span> Item <span class="br0">{</span> <span class="kw4">string</span> name<span class="sy0">;</span> <span class="kw4">int</span> w<span class="sy0">,</span> v<span class="sy0">;</span> <span class="br0">}</span><br><span class="kw2">alias</span> Pair <span class="sy0">=</span> Tuple<span class="sy0">!</span><span class="br0">(</span><span class="kw4">int</span><span class="sy0">,</span><span class="st0">"tot"</span><span class="sy0">,</span> <span class="kw4">string</span><span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span><span class="st0">"names"</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">immutable</span> Item<span class="br0">[</span><span class="br0">]</span> items <span class="sy0">=</span> <span class="br0">[</span><span class="br0">{</span><span class="st0">"apple"</span><span class="sy0">,</span><span class="nu0">39</span><span class="sy0">,</span><span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"banana"</span><span class="sy0">,</span> <span class="nu0">27</span><span class="sy0">,</span> <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"beer"</span><span class="sy0">,</span> <span class="nu0">52</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"book"</span><span class="sy0">,</span> <span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"camera"</span><span class="sy0">,</span> <span class="nu0">32</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"cheese"</span><span class="sy0">,</span> <span class="nu0">23</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"compass"</span><span class="sy0">,</span> <span class="nu0">13</span><span class="sy0">,</span> <span class="nu0">35</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"glucose"</span><span class="sy0">,</span> <span class="nu0">15</span><span class="sy0">,</span> <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"map"</span><span class="sy0">,</span> <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">150</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"note-case"</span><span class="sy0">,</span> <span class="nu0">22</span><span class="sy0">,</span> <span class="nu0">80</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"sandwich"</span><span class="sy0">,</span> <span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">160</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"socks"</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">50</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"sunglasses"</span><span class="sy0">,</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">20</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"suntan cream"</span><span class="sy0">,</span> <span class="nu0">11</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"t-shirt"</span><span class="sy0">,</span> <span class="nu0">24</span><span class="sy0">,</span> <span class="nu0">15</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"tin"</span><span class="sy0">,</span> <span class="nu0">68</span><span class="sy0">,</span> <span class="nu0">45</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"towel"</span><span class="sy0">,</span> <span class="nu0">18</span><span class="sy0">,</span> <span class="nu0">12</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"trousers"</span><span class="sy0">,</span> <span class="nu0">48</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"umbrella"</span><span class="sy0">,</span> <span class="nu0">73</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"water"</span><span class="sy0">,</span> <span class="nu0">153</span><span class="sy0">,</span> <span class="nu0">200</span><span class="br0">}</span><span class="sy0">,</span><br>    <span class="br0">{</span><span class="st0">"overclothes"</span><span class="sy0">,</span> <span class="nu0">43</span><span class="sy0">,</span> <span class="nu0">75</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span> <span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">}</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">auto</span> addItem<span class="br0">(</span>Pair<span class="br0">[</span><span class="br0">]</span> lst<span class="sy0">,</span> <span class="kw2">in</span> Item it<span class="br0">)</span> <span class="kw4">pure</span> <span class="coMULTI">/*nothrow*/</span> <span class="br0">{</span><br>    <span class="kw4">auto</span> aux <span class="sy0">=</span> lst.<span class="me1">map</span><span class="sy0">!</span><span class="br0">(</span>vn <span class="sy0">=&gt;</span> Pair<span class="br0">(</span>vn.<span class="me1">tot</span> <span class="sy0">+</span> it.<span class="me1">v</span><span class="sy0">,</span> vn.<span class="me1">names</span> <span class="sy0">~</span> it.<span class="me1">name</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">return</span> lst<span class="br0">[</span><span class="nu0">0</span><span class="sy0">..</span><span class="me1">it</span>.<span class="me1">w</span><span class="br0">]</span> <span class="sy0">~</span> lst<span class="br0">[</span>it.<span class="me1">w</span><span class="sy0">..</span>$<span class="br0">]</span>.<span class="me1">zip</span><span class="br0">(</span>aux<span class="br0">)</span>.<span class="me1">map</span><span class="sy0">!</span>q<span class="br0">{</span> a<span class="br0">[</span><span class="br0">]</span>.<span class="me1">max</span> <span class="br0">}</span>.<span class="me1">array</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">void</span> main<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>    reduce<span class="sy0">!</span>addItem<span class="br0">(</span>Pair<span class="br0">(</span><span class="br0">)</span>.<span class="me1">repeat</span>.<span class="me1">take</span><span class="br0">(</span><span class="nu0">400</span><span class="br0">)</span>.<span class="me1">array</span><span class="sy0">,</span> items<span class="br0">)</span>.<span class="me1">back</span>.<span class="me1">writeln</span><span class="sy0">;</span><br><span class="br0">}</span></pre>
<p>Runtime about 0.04 seconds.
</p>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Tuple!(int, "tot", string[], "names")(1030, ["banana", "compass", "glucose", "map", "note-case", "sandwich", "socks", "sunglasses", "suntan cream", "water", "overclothes", "waterproof trousers"])</pre>
<h2><span class="mw-headline" id="Dart"><a href="https://rosettacode.org/wiki/Category:Dart" title="Category:Dart">Dart</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=20" title="Edit section: Dart">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">List solveKnapsack(items, maxWeight) {<br>  int MIN_VALUE=-100;<br>  int N = items.length; // number of items <br>  int W = maxWeight; // maximum weight of knapsack<br>&nbsp;<br>  List profit = new List(N+1);<br>  List weight = new List(N+1);<br>&nbsp;<br>  // generate random instance, items 1..N<br>  for(int n = 1; n&lt;=N; n++) {<br>    profit[n] = items[n-1][2];<br>    weight[n] = items[n-1][1];<br>&nbsp;<br>  }<br>&nbsp;<br>  // opt[n][w] = max profit of packing items 1..n with weight limit w<br>  // sol[n][w] = does opt solution to pack items 1..n with weight limit w include item n?<br>  List&lt;List&lt;int&gt;&gt; opt = new List&lt;List&lt;int&gt;&gt;(N+1);<br>  for (int i=0; i&lt;N+1; i++) {<br>    opt[i] = new List&lt;int&gt;(W+1);<br>    for(int j=0; j&lt;W+1; j++) {<br>      opt[i][j] = MIN_VALUE;<br>    }<br>  }<br>&nbsp;<br>  List&lt;List&lt;bool&gt;&gt; sol = new List&lt;List&lt;bool&gt;&gt;(N+1);<br>  for (int i=0; i&lt;N+1; i++) {<br>    sol[i] = new List&lt;bool&gt;(W+1);<br>    for(int j=0; j&lt;W+1; j++) {<br>      sol[i][j] = false;<br>    }<br>  }<br>&nbsp;<br>  for(int n=1; n&lt;=N; n++) {<br>    for (int w=1; w &lt;= W; w++) {<br>      // don't take item n      <br>      int option1 = opt[n-1][w];<br>&nbsp;<br>      // take item n<br>      int option2 = MIN_VALUE;<br>      if (weight[n] &lt;= w) {<br>        option2 = profit[n] + opt[n-1][w - weight[n]];<br>      }<br>&nbsp;<br>      // select better of two options<br>      opt[n][w] = Math.max(option1, option2);<br>      sol[n][w] = (option2 &gt; option1);<br>    }<br>  }<br>&nbsp;<br>  // determine which items to take<br>  List&lt;List&gt; packItems = new List&lt;List&gt;();<br>  List&lt;bool&gt; take = new List(N+1);<br>  for (int n = N, w = W; n &gt; 0; n--) {<br>    if (sol[n][w]) {<br>      take[n] = true;<br>      w = w - weight[n];<br>      packItems.add(items[n-1]); <br>    } else {<br>      take[n] = false; <br>    }<br>  }<br>&nbsp;<br>  return packItems;<br>&nbsp;<br>}<br>&nbsp;<br>main() {<br>  List knapsackItems = [];<br>  knapsackItems.add(["map", 9, 150]);<br>  knapsackItems.add(["compass", 13, 35]);<br>  knapsackItems.add(["water", 153, 200]);<br>  knapsackItems.add(["sandwich", 50, 160]);<br>  knapsackItems.add(["glucose", 15, 60]);<br>  knapsackItems.add(["tin", 68, 45]);<br>  knapsackItems.add(["banana", 27, 60]);<br>  knapsackItems.add(["apple", 39, 40]);<br>  knapsackItems.add(["cheese", 23, 30]);<br>  knapsackItems.add(["beer", 52, 10]);<br>  knapsackItems.add(["suntan cream", 11, 70]);<br>  knapsackItems.add(["camera", 32, 30]);<br>  knapsackItems.add(["t-shirt", 24, 15]);<br>  knapsackItems.add(["trousers", 48, 10]);<br>  knapsackItems.add(["umbrella", 73, 40]);<br>  knapsackItems.add(["waterproof trousers", 42, 70]);<br>  knapsackItems.add(["waterproof overclothes", 43, 75]);<br>  knapsackItems.add(["note-case", 22, 80]);<br>  knapsackItems.add(["sunglasses", 7, 20]);<br>  knapsackItems.add(["towel", 18, 12]);<br>  knapsackItems.add(["socks", 4, 50]);<br>  knapsackItems.add(["book", 30, 10]);<br>  int maxWeight = 400;<br>  Stopwatch sw = new Stopwatch.start();<br>  List p = solveKnapsack(knapsackItems, maxWeight);<br>  sw.stop();<br>  int totalWeight = 0;<br>  int totalValue = 0;<br>  print(["item","profit","weight"]);<br>  p.forEach((var i) { print("${i}"); totalWeight+=i[1]; totalValue+=i[2]; });<br>  print("Total Value = ${totalValue}");<br>  print("Total Weight = ${totalWeight}");<br>  print("Elapsed Time = ${sw.elapsedInMs()}ms");<br>&nbsp;<br>}</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>[item, profit, weight]
[socks, 4, 50]
[sunglasses, 7, 20]
[note-case, 22, 80]
[waterproof overclothes, 43, 75]
[waterproof trousers, 42, 70]
[suntan cream, 11, 70]
[banana, 27, 60]
[glucose, 15, 60]
[sandwich, 50, 160]
[water, 153, 200]
[compass, 13, 35]
[map, 9, 150]
Total Value = 1030
Total Weight = 396
Elapsed Time = 6ms</pre>
<h2><span class="mw-headline" id="EasyLang"><a href="https://rosettacode.org/wiki/Category:EasyLang" title="Category:EasyLang">EasyLang</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=21" title="Edit section: EasyLang">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">name$[] = [ "map" "compass" "water" "sandwich" "glucose" "tin" "banana" "apple" "cheese" "beer" "suntan cream" "camera" "t-shirt" "trousers" "umbrella" "waterproof trousers" "waterproof overclothes" "note-case" "sunglasses" "towel" "socks" "book" ]<br>weight[] = [ 9 13 153 50 15 68 27 39 23 52 11 32 24 48 73 42 43 22 7 18 4 30 ]<br>value[] = [ 150 35 200 160 60 45 60 40 30 10 70 30 15 10 40 70 75 80 20 12 50 10 ]<br>max_w = 400<br># <br>func solve i w . items[] wres vres .<br>  if i &lt; 0<br>    wres = 0<br>    vres = 0<br>    items[] = [ ]<br>  elif weight[i] &gt; w<br>    call solve i - 1 w items[] wres vres<br>  else<br>    call solve i - 1 w items[] wres vres<br>    call solve i - 1 w - weight[i] items1[] w1 v1<br>    v1 += value[i]<br>    if v1 &gt; vres<br>      swap items[] items1[]<br>      items[] &amp;= i<br>      wres = w1 + weight[i]<br>      vres = v1<br>    .<br>  .<br>.<br>call solve len weight[] - 1 max_w items[] w v<br>print "weight: " &amp; w<br>print "value: " &amp; v<br>print "items:"<br>for i range len items[]<br>  print "  " &amp; name$[items[i]]<br>.</pre>
<h2><span class="mw-headline" id="EchoLisp"><a href="https://rosettacode.org/wiki/Category:EchoLisp" title="Category:EchoLisp">EchoLisp</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=22" title="Edit section: EchoLisp">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="scheme highlighted_source">&nbsp;<br><span class="br0">(</span>require 'struct<span class="br0">)</span><br><span class="br0">(</span>require 'hash<span class="br0">)</span><br><span class="br0">(</span>require 'sql<span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">define</span> H <span class="br0">(</span>make<span class="sy0">-</span>hash<span class="br0">)</span><span class="br0">)</span><br><span class="br0">(</span><span class="kw1">define</span> <span class="kw1">T</span> <span class="br0">(</span>make<span class="sy0">-</span>table <span class="br0">(</span>struct goodies <span class="br0">(</span>name poids valeur <span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br><span class="br0">(</span>define<span class="sy0">-</span>syntax<span class="sy0">-</span>rule <span class="br0">(</span>name i<span class="br0">)</span> <span class="br0">(</span>table<span class="sy0">-</span>xref <span class="kw1">T</span> i <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><br><span class="br0">(</span>define<span class="sy0">-</span>syntax<span class="sy0">-</span>rule <span class="br0">(</span>poids i<span class="br0">)</span> <span class="br0">(</span>table<span class="sy0">-</span>xref <span class="kw1">T</span> i <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><br><span class="br0">(</span>define<span class="sy0">-</span>syntax<span class="sy0">-</span>rule <span class="br0">(</span>valeur i<span class="br0">)</span> <span class="br0">(</span>table<span class="sy0">-</span>xref <span class="kw1">T</span> i <span class="nu0">2</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="co1">;;  make an unique hash-key from (i rest)</span><br><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>t<span class="sy0">-</span>idx i r<span class="br0">)</span>  <span class="br0">(</span><span class="kw1">string-append</span> i <span class="st0">"|"</span> r<span class="br0">)</span><span class="br0">)</span><br><span class="co1">;; retrieve best score for item i, remaining r availbble weight</span><br><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>t<span class="sy0">-</span>get i r<span class="br0">)</span>  <span class="br0">(</span><span class="kw1">or</span> <span class="br0">(</span>hash<span class="sy0">-</span>ref H <span class="br0">(</span>t<span class="sy0">-</span>idx i r<span class="br0">)</span><span class="br0">)</span> <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="co1">;; compute best score (i), assuming best (i-1 rest) is known</span><br><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>score i restant<span class="br0">)</span><br>	<span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="sy0">&lt;</span> i <span class="nu0">0</span><span class="br0">)</span> <span class="nu0">0</span><br>	<span class="br0">(</span>hash<span class="sy0">-</span>ref<span class="sy0">!</span> H <span class="br0">(</span>t<span class="sy0">-</span>idx i restant<span class="br0">)</span><br>		<span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span> <span class="sy0">&gt;=</span> restant <span class="br0">(</span>poids i<span class="br0">)</span><span class="br0">)</span> <br>			<span class="br0">(</span><span class="kw1">max</span> <br>				<span class="br0">(</span>score <span class="br0">(</span><span class="nu0">1</span><span class="sy0">-</span> i<span class="br0">)</span> restant<span class="br0">)</span> <br>			    <span class="br0">(</span><span class="sy0">+</span> <span class="br0">(</span>score <span class="br0">(</span><span class="nu0">1</span><span class="sy0">-</span> i<span class="br0">)</span> <span class="br0">(</span><span class="sy0">-</span> restant <span class="br0">(</span>poids i<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span>valeur i<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>		    <span class="br0">(</span>score <span class="br0">(</span><span class="nu0">1</span><span class="sy0">-</span> i<span class="br0">)</span> restant<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="co1">;; compute best scores, starting from last item</span><br><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>task W<span class="br0">)</span><br>        <span class="br0">(</span><span class="kw1">define</span> restant W<span class="br0">)</span><br>        <span class="br0">(</span><span class="kw1">define</span> N <span class="br0">(</span><span class="nu0">1</span><span class="sy0">-</span> <span class="br0">(</span>table<span class="sy0">-</span>count <span class="kw1">T</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>		<span class="br0">(</span>writeln 'total<span class="sy0">-</span>value <span class="br0">(</span>score N W<span class="br0">)</span><span class="br0">)</span><br>		<span class="br0">(</span>for<span class="sy0">/</span><span class="kw1">list</span>  <span class="br0">(</span><span class="br0">(</span>i <span class="br0">(</span>in<span class="sy0">-</span>range N <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>			#:continue <span class="br0">(</span><span class="sy0">=</span> <span class="br0">(</span>t<span class="sy0">-</span>get i restant<span class="br0">)</span> <span class="br0">(</span>t<span class="sy0">-</span>get <span class="br0">(</span><span class="nu0">1</span><span class="sy0">-</span> i<span class="br0">)</span> restant<span class="br0">)</span><span class="br0">)</span><br>			<span class="br0">(</span><span class="kw1">set!</span> restant <span class="br0">(</span><span class="sy0">-</span> restant <span class="br0">(</span>poids i<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>			<span class="br0">(</span>name i<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre class="scheme highlighted_source">&nbsp;<br><span class="co1">;; init table</span><br><span class="br0">(</span><span class="kw1">define</span> goodies<br>          '<span class="br0">(</span><span class="br0">(</span><span class="kw1">map</span> <span class="nu0">9</span> <span class="nu0">150</span><span class="br0">)</span> <span class="co1">; 9 is weight, 150 is value</span><br>            <span class="br0">(</span>compass <span class="nu0">13</span> <span class="nu0">35</span><span class="br0">)</span> <span class="br0">(</span>water <span class="nu0">153</span> <span class="nu0">200</span><span class="br0">)</span> <span class="br0">(</span>sandwich <span class="nu0">50</span> <span class="nu0">160</span><span class="br0">)</span><br>            <span class="br0">(</span>glucose <span class="nu0">15</span> <span class="nu0">60</span><span class="br0">)</span> <span class="br0">(</span>tin <span class="nu0">68</span> <span class="nu0">45</span><span class="br0">)</span><span class="br0">(</span>banana <span class="nu0">27</span> <span class="nu0">60</span><span class="br0">)</span> <span class="br0">(</span>apple <span class="nu0">39</span> <span class="nu0">40</span><span class="br0">)</span><br>            <span class="br0">(</span>fromage <span class="nu0">23</span> <span class="nu0">30</span><span class="br0">)</span> <span class="br0">(</span>beer <span class="nu0">52</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">(</span>🌞<span class="sy0">-</span>suntan<span class="sy0">-</span>cream <span class="nu0">11</span> <span class="nu0">70</span><span class="br0">)</span> <span class="br0">(</span>camera <span class="nu0">32</span> <span class="nu0">30</span><span class="br0">)</span><br>            <span class="br0">(</span>T<span class="sy0">-</span>shirt <span class="nu0">24</span> <span class="nu0">15</span><span class="br0">)</span> <span class="br0">(</span>pantalons <span class="nu0">48</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">(</span>umbrella <span class="nu0">73</span> <span class="nu0">40</span><span class="br0">)</span><br>            <span class="br0">(</span>☔️<span class="sy0">-</span>trousers <span class="nu0">42</span> <span class="nu0">70</span><span class="br0">)</span> <span class="br0">(</span>☔️<span class="sy0">-</span>overclothes <span class="nu0">43</span> <span class="nu0">75</span><span class="br0">)</span> <span class="br0">(</span>note<span class="sy0">-</span><span class="kw1">case</span> <span class="nu0">22</span> <span class="nu0">80</span><span class="br0">)</span><br>            <span class="br0">(</span>🌞<span class="sy0">-</span>sun<span class="sy0">-</span>glasses <span class="nu0">7</span> <span class="nu0">20</span><span class="br0">)</span> <span class="br0">(</span>towel <span class="nu0">18</span> <span class="nu0">12</span><span class="br0">)</span> <span class="br0">(</span>socks <span class="nu0">4</span> <span class="nu0">50</span><span class="br0">)</span> <span class="br0">(</span>book <span class="nu0">30</span> <span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br><span class="br0">(</span>list<span class="sy0">-&gt;</span>table goodies <span class="kw1">T</span><span class="br0">)</span><br>&nbsp;<br>&nbsp;<br><span class="br0">(</span>task <span class="nu0">400</span><span class="br0">)</span><br>total<span class="sy0">-</span>value     <span class="nu0">1030</span>    <br>    → <span class="br0">(</span>socks 🌞<span class="sy0">-</span>sun<span class="sy0">-</span>glasses note<span class="sy0">-</span><span class="kw1">case</span> ☔️<span class="sy0">-</span>overclothes ☔️<span class="sy0">-</span>trousers 🌞<span class="sy0">-</span>suntan<span class="sy0">-</span>cream banana <br>    glucose sandwich water compass <span class="kw1">map</span><span class="br0">)</span><br>&nbsp;<br>&nbsp;<br><span class="br0">(</span><span class="kw1">length</span> <span class="br0">(</span>hash<span class="sy0">-</span>keys H<span class="br0">)</span><span class="br0">)</span><br>   → <span class="nu0">4939</span>  <span class="co1">;; number of entries "i | weight" in hash table</span><br>&nbsp;</pre>
<h2><span class="mw-headline" id="Eiffel"><a href="https://rosettacode.org/wiki/Category:Eiffel" title="Category:Eiffel">Eiffel</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=23" title="Edit section: Eiffel">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="eiffel highlighted_source">&nbsp;<br><span class="kw1">class</span><br>	APPLICATION<br>&nbsp;<br><span class="kw2">create</span><br>	make<br>&nbsp;<br><span class="kw1">feature</span> <span class="br0">{</span><a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+none&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">NONE</span></a><span class="br0">}</span> <span class="co1">-- Initialization</span><br>&nbsp;<br>	make<br>		<span class="kw2">local</span><br>			knapsack<span class="sy0">:</span> KNAPSACKZEROONE<br>		<span class="kw2">do</span><br>			<span class="kw2">create</span> knapsack.<span class="me1">make</span> <span class="br0">(</span><span class="nu0">400</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">""</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"map"</span>, <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"compass"</span>, <span class="nu0">13</span>, <span class="nu0">35</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"water"</span>, <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"sandwich"</span>, <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"glucose"</span>, <span class="nu0">15</span>, <span class="nu0">60</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"tin"</span>, <span class="nu0">68</span>, <span class="nu0">45</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"banana"</span>, <span class="nu0">27</span>, <span class="nu0">60</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"apple"</span>, <span class="nu0">39</span>, <span class="nu0">40</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"cheese"</span>, <span class="nu0">23</span>, <span class="nu0">30</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"beer"</span>, <span class="nu0">52</span>, <span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"suntan cream"</span>, <span class="nu0">11</span>, <span class="nu0">70</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"camera"</span>, <span class="nu0">32</span>, <span class="nu0">30</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"T-shirt"</span>, <span class="nu0">24</span>, <span class="nu0">15</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"trousers"</span>, <span class="nu0">48</span>, <span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"umbrella, ella ella"</span>, <span class="nu0">73</span>, <span class="nu0">40</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"waterproof trousers"</span>, <span class="nu0">42</span>, <span class="nu0">70</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"waterproof overclothes"</span>, <span class="nu0">43</span>, <span class="nu0">75</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"note-case"</span>, <span class="nu0">22</span>, <span class="nu0">80</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"sunglasses"</span>, <span class="nu0">7</span>, <span class="nu0">20</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"towel"</span>, <span class="nu0">18</span>, <span class="nu0">12</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"socks"</span>, <span class="nu0">4</span>, <span class="nu0">50</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">add_item</span> <span class="br0">(</span><span class="kw2">create</span> <span class="br0">{</span>ITEM<span class="br0">}</span>.<span class="me1">make</span> <span class="br0">(</span><span class="st0">"book"</span>, <span class="nu0">30</span>, <span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><br>			knapsack.<span class="me1">compute_solution</span><br>		<span class="kw2">end</span><br>&nbsp;<br><span class="kw2">end</span><br>&nbsp;</pre>
<pre class="eiffel highlighted_source">&nbsp;<br><span class="kw1">class</span><br>	ITEM<br>&nbsp;<br><span class="kw2">create</span><br>	make, make_from_other<br>&nbsp;<br><span class="kw1">feature</span><br>&nbsp;<br>	name<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+string&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">STRING</span></a><br>&nbsp;<br>	weight<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><br>&nbsp;<br>	value<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><br>&nbsp;<br>	make_from_other <span class="br0">(</span>other<span class="sy0">:</span> ITEM<span class="br0">)</span><br>			<span class="co1">-- Item with name, weight and value set to 'other's name, weight and value.</span><br>		<span class="kw2">do</span><br>			name <span class="sy0">:=</span> other.<span class="me1">name</span><br>			weight <span class="sy0">:=</span> other.<span class="me1">weight</span><br>			value <span class="sy0">:=</span> other.<span class="me1">value</span><br>		<span class="kw2">end</span><br>&nbsp;<br>	make <span class="br0">(</span>a_name<span class="sy0">:</span> String; a_weight, a_value<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><span class="br0">)</span><br>			<span class="co1">-- Item with name, weight and value set to 'a_name', 'a_weight' and 'a_value'.</span><br>		<span class="kw2">require</span><br>			a_name <span class="sy0">/=</span> <span class="kw3">Void</span><br>			a_weight <span class="sy0">&gt;=</span> <span class="nu0">0</span><br>			a_value <span class="sy0">&gt;=</span> <span class="nu0">0</span><br>		<span class="kw2">do</span><br>			name <span class="sy0">:=</span> a_name<br>			weight <span class="sy0">:=</span> a_weight<br>			value <span class="sy0">:=</span> a_value<br>		<span class="kw2">end</span><br>&nbsp;<br><span class="kw2">end</span><br>&nbsp;</pre>
<pre class="eiffel highlighted_source">&nbsp;<br><span class="kw1">class</span><br>	KNAPSACKZEROONE<br>&nbsp;<br><span class="kw2">create</span><br>	make<br>&nbsp;<br><span class="kw1">feature</span><br>&nbsp;<br>	items<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>ITEM<span class="br0">]</span><br>&nbsp;<br>	max_weight<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><br>&nbsp;<br><span class="kw1">feature</span><br>&nbsp;<br>	make <span class="br0">(</span>a_max_weight<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><span class="br0">)</span><br>			<span class="co1">-- Make an empty knapsack.</span><br>		<span class="kw2">require</span><br>			a_max_weight <span class="sy0">&gt;=</span> <span class="nu0">0</span><br>		<span class="kw2">do</span><br>			<span class="kw2">create</span> items.<span class="me1">make_empty</span><br>			max_weight <span class="sy0">:=</span> a_max_weight<br>		<span class="kw2">end</span><br>&nbsp;<br>	add_item <span class="br0">(</span>item<span class="sy0">:</span> ITEM<span class="br0">)</span><br>			<span class="co1">-- Add 'item' to knapsack.</span><br>		<span class="kw2">local</span><br>			temp<span class="sy0">:</span> ITEM<br>		<span class="kw2">do</span><br>			<span class="kw2">create</span> temp.<span class="me1">make_from_other</span> <span class="br0">(</span>item<span class="br0">)</span><br>			items.<span class="me1">force</span> <span class="br0">(</span>item, items.<span class="me1">count</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><br>		<span class="kw2">end</span><br>&nbsp;<br>	compute_solution<br>		<span class="kw2">local</span><br>			M<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span><a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><span class="br0">]</span><br>			n<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><br>			i, j<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><br>			w_i, v_i<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><br>			item_i<span class="sy0">:</span> ITEM<br>			final_items<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+linked_list&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">LINKED_LIST</span></a> <span class="br0">[</span>ITEM<span class="br0">]</span><br>		<span class="kw2">do</span><br>			n <span class="sy0">:=</span> items.<span class="me1">count</span><br>			<span class="kw2">create</span> M.<span class="me1">make_filled</span> <span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">1</span>, n <span class="sy0">*</span> max_weight<span class="br0">)</span><br>			<span class="kw2">from</span><br>				i <span class="sy0">:=</span> <span class="nu0">2</span><br>			<span class="kw2">until</span><br>				<span class="br0">(</span>i <span class="sy0">&gt;</span> n<span class="br0">)</span><br>			<span class="kw2">loop</span><br>				<span class="kw2">from</span><br>					j <span class="sy0">:=</span> <span class="nu0">1</span><br>				<span class="kw2">until</span><br>					j <span class="sy0">&gt;</span> max_weight<br>				<span class="kw2">loop</span><br>					item_i <span class="sy0">:=</span> items <span class="br0">[</span>i<span class="br0">]</span><br>					w_i <span class="sy0">:=</span> item_i.<span class="me1">weight</span><br>					<span class="kw2">if</span> w_i <span class="sy0">&lt;=</span> j <span class="kw2">then</span><br>						v_i <span class="sy0">:=</span> item_i.<span class="me1">value</span><br>						M <span class="br0">[</span><span class="br0">(</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">*</span> max_weight <span class="sy0">+</span> j<span class="br0">]</span> <span class="sy0">:=</span> max <span class="br0">(</span>M <span class="br0">[</span><span class="br0">(</span>i <span class="sy0">-</span> <span class="nu0">2</span><span class="br0">)</span> <span class="sy0">*</span> max_weight <span class="sy0">+</span> j<span class="br0">]</span>, M <span class="br0">[</span><span class="br0">(</span>i <span class="sy0">-</span> <span class="nu0">2</span><span class="br0">)</span> <span class="sy0">*</span> max_weight <span class="sy0">+</span> j <span class="sy0">-</span> w_i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">]</span> <span class="sy0">+</span> v_i<span class="br0">)</span><br>					<span class="kw2">else</span><br>						M <span class="br0">[</span><span class="br0">(</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">*</span> max_weight <span class="sy0">+</span> j<span class="br0">]</span> <span class="sy0">:=</span> M <span class="br0">[</span><span class="br0">(</span>i <span class="sy0">-</span> <span class="nu0">2</span><span class="br0">)</span> <span class="sy0">*</span> max_weight <span class="sy0">+</span> j<span class="br0">]</span><br>					<span class="kw2">end</span><br>					j <span class="sy0">:=</span> j <span class="sy0">+</span> <span class="nu0">1</span><br>				<span class="kw2">end</span><br>				i <span class="sy0">:=</span> i <span class="sy0">+</span> <span class="nu0">1</span><br>			<span class="kw2">end</span><br>			io.<span class="me1">put_string</span> <span class="br0">(</span><span class="st0">"The final value of the knapsack will be: "</span><span class="br0">)</span><br>			io.<span class="me1">put_integer</span> <span class="br0">(</span>M <span class="br0">[</span><span class="br0">(</span>n <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">*</span> max_weight <span class="sy0">+</span> max_weight<span class="br0">]</span><span class="br0">)</span>;<br>			io.<span class="me1">new_line</span><br>				<span class="co1">--compute the items that fit into the knapsack</span><br>			<span class="kw2">create</span> final_items.<span class="me1">make</span><br>			io.<span class="me1">put_string</span> <span class="br0">(</span><span class="st0">"We'll take the following items: <span class="es0">%N</span>"</span><span class="br0">)</span>;<br>			<span class="kw2">from</span><br>				i <span class="sy0">:=</span> n<br>				j <span class="sy0">:=</span> max_weight<br>			<span class="kw2">until</span><br>				i <span class="sy0">&lt;=</span> <span class="nu0">1</span> <span class="kw2">or</span> j <span class="sy0">&lt;=</span> <span class="nu0">1</span><br>			<span class="kw2">loop</span><br>				item_i <span class="sy0">:=</span> items <span class="br0">[</span>i<span class="br0">]</span><br>				w_i <span class="sy0">:=</span> item_i.<span class="me1">weight</span><br>				<span class="kw2">if</span> w_i <span class="sy0">&lt;=</span> j <span class="kw2">then</span><br>					v_i <span class="sy0">:=</span> item_i.<span class="me1">value</span><br>					<span class="kw2">if</span> M <span class="br0">[</span><span class="br0">(</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">*</span> max_weight <span class="sy0">+</span> j<span class="br0">]</span> <span class="sy0">=</span> M <span class="br0">[</span><span class="br0">(</span>i <span class="sy0">-</span> <span class="nu0">2</span><span class="br0">)</span> <span class="sy0">*</span> max_weight <span class="sy0">+</span> j<span class="br0">]</span> <span class="kw2">then</span><br>					<span class="kw2">else</span><br>						final_items.<span class="me1">extend</span> <span class="br0">(</span>item_i<span class="br0">)</span><br>						io.<span class="me1">put_string</span> <span class="br0">(</span>item_i.<span class="me1">name</span><span class="br0">)</span><br>						io.<span class="me1">new_line</span><br>						j <span class="sy0">:=</span> j <span class="sy0">-</span> w_i<br>					<span class="kw2">end</span><br>				<span class="kw2">else</span><br>				<span class="kw2">end</span><br>				i <span class="sy0">:=</span> i <span class="sy0">-</span> <span class="nu0">1</span><br>			<span class="kw2">end</span><br>		<span class="kw2">end</span><br>&nbsp;<br><span class="kw1">feature</span> <span class="br0">{</span><a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+none&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">NONE</span></a><span class="br0">}</span><br>&nbsp;<br>	max <span class="br0">(</span>a, b<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><span class="br0">)</span><span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><br>			<span class="co1">-- Max of 'a' and 'b'.</span><br>		<span class="kw2">do</span><br>			<span class="kw3">Result</span> <span class="sy0">:=</span> a<br>			<span class="kw2">if</span> a <span class="sy0">&lt;</span> b <span class="kw2">then</span><br>				<span class="kw3">Result</span> <span class="sy0">:=</span> b<br>			<span class="kw2">end</span><br>		<span class="kw2">end</span><br>&nbsp;<br><span class="kw2">end</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>The final value of the knapsack will be: 1030
We'll take the following items:
socks
sunglasses
note-case
waterproof overclothes
waterproof trousers
suntan cream
banana
glucose
sandwich
water
compass
map
</pre>
<h2><span class="mw-headline" id="Elixir"><a href="https://rosettacode.org/wiki/Category:Elixir" title="Category:Elixir">Elixir</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=24" title="Edit section: Elixir">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Erlang">Erlang</a></div>
<pre class="text highlighted_source">defmodule Knapsack do<br>  def solve([], _total_weight, item_acc, value_acc, weight_acc), do:<br>    {item_acc, value_acc, weight_acc}<br>  def solve([{_item, item_weight, _item_value} | t],<br>            total_weight,<br>            item_acc,<br>            value_acc,<br>            weight_acc) when item_weight &gt; total_weight, do:<br>    solve(t, total_weight, item_acc, value_acc, weight_acc)<br>  def solve([{item_name, item_weight, item_value} | t],<br>            total_weight,<br>            item_acc,<br>            value_acc,<br>            weight_acc) do<br>    {_tail_item_acc, tail_value_acc, _tail_weight_acc} = tail_res =<br>        solve(t, total_weight, item_acc, value_acc, weight_acc)<br>    {_head_item_acc, head_value_acc, _head_weight_acc} = head_res =<br>        solve(t,<br>              total_weight - item_weight,<br>              [item_name | item_acc],<br>              value_acc + item_value,<br>              weight_acc + item_weight)<br>    if tail_value_acc &gt; head_value_acc, do: tail_res, else: head_res<br>  end<br>end<br>&nbsp;<br>stuff = [{"map",                      9,   150},<br>         {"compass",                 13,    35},<br>         {"water",                  153,   200},<br>         {"sandwich",                50,   160},<br>         {"glucose",                 15,    60},<br>         {"tin",                     68,    45},<br>         {"banana",                  27,    60},<br>         {"apple",                   39,    40},<br>         {"cheese",                  23,    30},<br>         {"beer",                    52,    10},<br>         {"suntan cream",            11,    70},<br>         {"camera",                  32,    30},<br>         {"T-shirt",                 24,    15},<br>         {"trousers",                48,    10},<br>         {"umbrella",                73,    40},<br>         {"waterproof trousers",     42,    70},<br>         {"waterproof overclothes",  43,    75},<br>         {"note-case",               22,    80},<br>         {"sunglasses",               7,    20},<br>         {"towel",                   18,    12},<br>         {"socks",                    4,    50},<br>         {"book",                    30,    10}]<br>max_weight = 400<br>&nbsp;<br>go = fn (stuff, max_weight) -&gt;<br>  {time, {item_list, total_value, total_weight}} =&nbsp;:timer.tc(fn -&gt;<br>    Knapsack.solve(stuff, max_weight, [], 0, 0)<br>  end)<br>  IO.puts "Items:"<br>  Enum.each(item_list, fn item -&gt; IO.inspect item end)<br>  IO.puts "Total value: #{total_value}"<br>  IO.puts "Total weight: #{total_weight}"<br>  IO.puts "Time elapsed in milliseconds: #{time/1000}"<br>end<br>go.(stuff, max_weight)</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Items:
"socks"
"sunglasses"
"note-case"
"waterproof overclothes"
"waterproof trousers"
"suntan cream"
"banana"
"glucose"
"sandwich"
"water"
"compass"
"map"
Total value: 1030
Total weight: 396
Time elapsed in milliseconds: 733.0
</pre>
<h2><span class="mw-headline" id="Emacs_Lisp"><a href="https://rosettacode.org/wiki/Category:Emacs_Lisp" title="Category:Emacs Lisp">Emacs Lisp</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=25" title="Edit section: Emacs Lisp">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Common_Lisp">Common Lisp</a></div> with changes (memoization without macro)
<pre class="lisp highlighted_source">&nbsp;<br><span class="br0">(</span><span class="kw1">defun</span> ks <span class="br0">(</span>max-w items<span class="br0">)</span><br>  <span class="br0">(</span><span class="kw1">let</span> <span class="br0">(</span><span class="br0">(</span>cache <span class="br0">(</span>make-vector <span class="br0">(</span><span class="nu0">1</span>+ <span class="br0">(</span><span class="kw1">length</span> items<span class="br0">)</span><span class="br0">)</span> <span class="kw1">nil</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="br0">(</span><span class="kw1">dotimes</span> <span class="br0">(</span>n <span class="br0">(</span><span class="nu0">1</span>+ <span class="br0">(</span><span class="kw1">length</span> items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>      <span class="br0">(</span><span class="kw1">setf</span> <span class="br0">(</span><span class="kw1">aref</span> cache n<span class="br0">)</span> <span class="br0">(</span>make-hash-table <span class="sy0">:</span><span class="me1">test</span> '<span class="kw1">eql</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>  <br>    <span class="br0">(</span><span class="kw1">defun</span> ks-emb <span class="br0">(</span>spc items<span class="br0">)</span><br>      <span class="br0">(</span><span class="kw1">let</span> <span class="br0">(</span><span class="br0">(</span>slot <span class="br0">(</span>gethash spc <span class="br0">(</span><span class="kw1">aref</span> cache <span class="br0">(</span><span class="kw1">length</span> items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>        <span class="br0">(</span><span class="kw1">cond</span> <br>         <span class="br0">(</span><span class="br0">(</span><span class="kw1">null</span> items<span class="br0">)</span> <span class="br0">(</span><span class="kw1">list</span> <span class="nu0">0</span> <span class="nu0">0</span> '<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>         <span class="br0">(</span>slot slot<span class="br0">)</span><br>         <span class="br0">(</span>t <span class="br0">(</span>puthash spc <br>                  <span class="br0">(</span><span class="kw1">let</span>*<br>                      <span class="br0">(</span><span class="br0">(</span>i <span class="br0">(</span><span class="kw1">car</span> items<span class="br0">)</span><span class="br0">)</span><br>                       <span class="br0">(</span>w <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">1</span> i<span class="br0">)</span><span class="br0">)</span><br>                       <span class="br0">(</span>v <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">2</span> i<span class="br0">)</span><span class="br0">)</span><br>                       <span class="br0">(</span>x <span class="br0">(</span>ks-emb spc <span class="br0">(</span><span class="kw1">cdr</span> items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>                    <span class="br0">(</span><span class="kw1">cond</span> <br>                     <span class="br0">(</span><span class="br0">(</span><span class="sy0">&gt;</span> w spc<span class="br0">)</span> x<span class="br0">)</span><br>                     <span class="br0">(</span>t<br>                      <span class="br0">(</span><span class="kw1">let</span>* <span class="br0">(</span><span class="br0">(</span>y <span class="br0">(</span>ks-emb <span class="br0">(</span>- spc w<span class="br0">)</span> <span class="br0">(</span><span class="kw1">cdr</span> items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>                             <span class="br0">(</span>v <span class="br0">(</span>+ v <span class="br0">(</span><span class="kw1">car</span> y<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>                        <span class="br0">(</span><span class="kw1">cond</span> <br>                         <span class="br0">(</span><span class="br0">(</span><span class="sy0">&lt;</span> v <span class="br0">(</span><span class="kw1">car</span> x<span class="br0">)</span><span class="br0">)</span> x<span class="br0">)</span><br>                         <span class="br0">(</span>t <br>                          <span class="br0">(</span><span class="kw1">list</span> v <span class="br0">(</span>+ w <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">1</span> y<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">cons</span> i <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">2</span> y<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>                  <span class="br0">(</span><span class="kw1">aref</span> cache <span class="br0">(</span><span class="kw1">length</span> items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="br0">(</span>ks-emb max-w items<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span>ks <span class="nu0">400</span><br>    '<span class="br0">(</span><span class="br0">(</span>map <span class="nu0">9</span> <span class="nu0">150</span><span class="br0">)</span> <span class="br0">(</span>compass <span class="nu0">13</span> <span class="nu0">35</span><span class="br0">)</span> <span class="br0">(</span>water <span class="nu0">153</span> <span class="nu0">200</span><span class="br0">)</span> <span class="br0">(</span>sandwich <span class="nu0">50</span> <span class="nu0">160</span><span class="br0">)</span><br>      <span class="br0">(</span>glucose <span class="nu0">15</span> <span class="nu0">60</span><span class="br0">)</span> <span class="br0">(</span>tin <span class="nu0">68</span> <span class="nu0">45</span><span class="br0">)</span><span class="br0">(</span>banana <span class="nu0">27</span> <span class="nu0">60</span><span class="br0">)</span> <span class="br0">(</span>apple <span class="nu0">39</span> <span class="nu0">40</span><span class="br0">)</span><br>      <span class="br0">(</span>cheese <span class="nu0">23</span> <span class="nu0">30</span><span class="br0">)</span> <span class="br0">(</span>beer <span class="nu0">52</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">(</span>cream <span class="nu0">11</span> <span class="nu0">70</span><span class="br0">)</span> <span class="br0">(</span>camera <span class="nu0">32</span> <span class="nu0">30</span><span class="br0">)</span><br>      <span class="br0">(</span>T-shirt <span class="nu0">24</span> <span class="nu0">15</span><span class="br0">)</span> <span class="br0">(</span>trousers <span class="nu0">48</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">(</span>umbrella <span class="nu0">73</span> <span class="nu0">40</span><span class="br0">)</span><br>      <span class="br0">(</span>waterproof-trousers <span class="nu0">42</span> <span class="nu0">70</span><span class="br0">)</span> <span class="br0">(</span>overclothes <span class="nu0">43</span> <span class="nu0">75</span><span class="br0">)</span> <span class="br0">(</span>notecase <span class="nu0">22</span> <span class="nu0">80</span><span class="br0">)</span><br>      <span class="br0">(</span>glasses <span class="nu0">7</span> <span class="nu0">20</span><span class="br0">)</span> <span class="br0">(</span>towel <span class="nu0">18</span> <span class="nu0">12</span><span class="br0">)</span> <span class="br0">(</span>socks <span class="nu0">4</span> <span class="nu0">50</span><span class="br0">)</span> <span class="br0">(</span>book <span class="nu0">30</span> <span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>(1030 396 ((map 9 150) (compass 13 35) (water 153 200) (sandwich 50 160) (glucose 15 60) 
(banana 27 60) (cream 11 70) (waterproof-trousers 42 70) (overclothes 43 75) (notecase 22 80) 
(glasses 7 20) (socks 4 50)))
</pre>
<p>Another way without cache&nbsp;:
</p>
<pre class="lisp highlighted_source">&nbsp;<br><span class="br0">(</span><span class="kw1">defun</span> best-rate <span class="br0">(</span>l1 l2<span class="br0">)</span><br>  <span class="st0">"predicate for sorting a list of elements regarding the value/weight rate"</span><br>  <span class="br0">(</span><span class="kw1">let</span>*<br>      <span class="br0">(</span><span class="br0">(</span>r1 <span class="br0">(</span>/ <span class="br0">(</span>* <span class="nu0">1.0</span> <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">2</span> l1<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">1</span> l1<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>       <span class="br0">(</span>r2 <span class="br0">(</span>/ <span class="br0">(</span>* <span class="nu0">1.0</span> <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">2</span> l2<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">1</span> l2<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="br0">(</span><span class="kw1">cond</span><br>     <span class="br0">(</span><span class="br0">(</span><span class="sy0">&gt;</span> r1 r2<span class="br0">)</span> t<span class="br0">)</span><br>     <span class="br0">(</span>t <span class="kw1">nil</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">defun</span> ks1 <span class="br0">(</span><span class="kw1">l</span> <span class="kw1">max</span><span class="br0">)</span><br>  <span class="st0">"return a complete list - complete means 'less than max-weight<br>but add the next element is impossible'"</span><br><span class="br0">(</span><span class="kw1">let</span> <span class="br0">(</span><span class="br0">(</span><span class="kw1">l</span> <span class="br0">(</span>sort <span class="kw1">l</span> 'best-rate<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>  <span class="br0">(</span><span class="kw1">cond</span><br>   <span class="br0">(</span><span class="br0">(</span><span class="kw1">null</span> <span class="kw1">l</span><span class="br0">)</span> <span class="kw1">l</span><span class="br0">)</span><br>   <span class="br0">(</span><span class="br0">(</span><span class="sy0">&lt;=</span> <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">1</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">max</span><span class="br0">)</span> <br>    <span class="br0">(</span><span class="kw1">cons</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span> <span class="br0">(</span>ks1 <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span> <span class="br0">(</span>- <span class="kw1">max</span> <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">1</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>   <span class="br0">(</span>t <span class="br0">(</span>ks1 <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span> <span class="kw1">max</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">defun</span> totval <span class="br0">(</span>lol<span class="br0">)</span><br>  <span class="st0">"totalize values of a list - lol is not for laughing <br>but for list of list"</span><br>  <span class="br0">(</span><span class="kw1">cond</span> <br>   <span class="br0">(</span><span class="br0">(</span><span class="kw1">null</span> lol<span class="br0">)</span> <span class="nu0">0</span><span class="br0">)</span><br>   <span class="br0">(</span>t<br>    <span class="br0">(</span>+<br>     <span class="br0">(</span><span class="kw1">nth</span> <span class="nu0">2</span> <span class="br0">(</span><span class="kw1">car</span> lol<span class="br0">)</span><span class="br0">)</span><br>     <span class="br0">(</span>totval <span class="br0">(</span><span class="kw1">cdr</span> lol<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">defun</span> ks <span class="br0">(</span><span class="kw1">l</span> <span class="kw1">max</span><span class="br0">)</span><br>  <span class="st0">"browse the list to find the best subset to put in the f***ing knapsack"</span><br>    <span class="br0">(</span><span class="kw1">cond</span><br>     <span class="br0">(</span><span class="br0">(</span><span class="kw1">null</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">list</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>     <span class="br0">(</span>t<br>      <span class="br0">(</span><span class="kw1">let</span>*<br>          <span class="br0">(</span><span class="br0">(</span>x <span class="br0">(</span>ks1 <span class="kw1">l</span> <span class="kw1">max</span><span class="br0">)</span><span class="br0">)</span><br>           <span class="br0">(</span>y <span class="br0">(</span>ks <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span> <span class="kw1">max</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>        <span class="br0">(</span><span class="kw1">cond</span><br>         <span class="br0">(</span><span class="br0">(</span><span class="sy0">&gt;</span> <span class="br0">(</span>totval x<span class="br0">)</span> <span class="br0">(</span>totval y<span class="br0">)</span><span class="br0">)</span> x<span class="br0">)</span><br>         <span class="br0">(</span>t y<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br>        <span class="br0">(</span>ks '<span class="br0">(</span><span class="br0">(</span>map <span class="nu0">9</span> <span class="nu0">150</span><span class="br0">)</span> <span class="br0">(</span>compass <span class="nu0">13</span> <span class="nu0">35</span><span class="br0">)</span> <span class="br0">(</span>water <span class="nu0">153</span> <span class="nu0">200</span><span class="br0">)</span> <span class="br0">(</span>sandwich <span class="nu0">50</span> <span class="nu0">160</span><span class="br0">)</span><br>              <span class="br0">(</span>glucose <span class="nu0">15</span> <span class="nu0">60</span><span class="br0">)</span> <span class="br0">(</span>tin <span class="nu0">68</span> <span class="nu0">45</span><span class="br0">)</span><span class="br0">(</span>banana <span class="nu0">27</span> <span class="nu0">60</span><span class="br0">)</span> <span class="br0">(</span>apple <span class="nu0">39</span> <span class="nu0">40</span><span class="br0">)</span><br>              <span class="br0">(</span>cheese <span class="nu0">23</span> <span class="nu0">30</span><span class="br0">)</span> <span class="br0">(</span>beer <span class="nu0">52</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">(</span>cream <span class="nu0">11</span> <span class="nu0">70</span><span class="br0">)</span> <span class="br0">(</span>camera <span class="nu0">32</span> <span class="nu0">30</span><span class="br0">)</span><br>              <span class="br0">(</span>T-shirt <span class="nu0">24</span> <span class="nu0">15</span><span class="br0">)</span> <span class="br0">(</span>trousers <span class="nu0">48</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">(</span>umbrella <span class="nu0">73</span> <span class="nu0">40</span><span class="br0">)</span><br>              <span class="br0">(</span>waterproof-trousers <span class="nu0">42</span> <span class="nu0">70</span><span class="br0">)</span> <span class="br0">(</span>overclothes <span class="nu0">43</span> <span class="nu0">75</span><span class="br0">)</span> <span class="br0">(</span>notecase <span class="nu0">22</span> <span class="nu0">80</span><span class="br0">)</span><br>              <span class="br0">(</span>glasses <span class="nu0">7</span> <span class="nu0">20</span><span class="br0">)</span> <span class="br0">(</span>towel <span class="nu0">18</span> <span class="nu0">12</span><span class="br0">)</span> <span class="br0">(</span>socks <span class="nu0">4</span> <span class="nu0">50</span><span class="br0">)</span> <span class="br0">(</span>book <span class="nu0">30</span> <span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span> <span class="nu0">400</span><span class="br0">)</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div> with org-babel in Emacs
<pre>| map                 |   9 |  150 |
| socks               |   4 |   50 |
| cream               |  11 |   70 |
| glucose             |  15 |   60 |
| notecase            |  22 |   80 |
| sandwich            |  50 |  160 |
| glasses             |   7 |   20 |
| compass             |  13 |   35 |
| banana              |  27 |   60 |
| overclothes         |  43 |   75 |
| waterproof-trousers |  42 |   70 |
| water               | 153 |  200 |
|                     | 396 | 1030 |

</pre>
<h2><span class="mw-headline" id="Erlang"><a href="https://rosettacode.org/wiki/Category:Erlang" title="Category:Erlang">Erlang</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=26" title="Edit section: Erlang">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="erlang highlighted_source">&nbsp;<br>&nbsp;<br><span class="sy3">-</span><span class="re2">module</span><span class="br0">(</span>knapsack_0_1<span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="sy3">-</span><span class="re2">export</span><span class="br0">(</span><span class="br0">[</span>go<span class="sy3">/</span><span class="nu0">0</span><span class="sy1">,</span><br>         solve<span class="sy3">/</span><span class="nu0">5</span><span class="br0">]</span><span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="sy3">-</span><span class="re2">define</span><span class="br0">(</span><span class="re0">STUFF</span><span class="sy1">,</span><br>        <span class="br0">[</span><span class="br0">{</span><span class="st0">"map"</span><span class="sy1">,</span>                      <span class="nu0">9</span><span class="sy1">,</span>   <span class="nu0">150</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"compass"</span><span class="sy1">,</span>                 <span class="nu0">13</span><span class="sy1">,</span>    <span class="nu0">35</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"water"</span><span class="sy1">,</span>                  <span class="nu0">153</span><span class="sy1">,</span>   <span class="nu0">200</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"sandwich"</span><span class="sy1">,</span>                <span class="nu0">50</span><span class="sy1">,</span>   <span class="nu0">160</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"glucose"</span><span class="sy1">,</span>                 <span class="nu0">15</span><span class="sy1">,</span>    <span class="nu0">60</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"tin"</span><span class="sy1">,</span>                     <span class="nu0">68</span><span class="sy1">,</span>    <span class="nu0">45</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"banana"</span><span class="sy1">,</span>                  <span class="nu0">27</span><span class="sy1">,</span>    <span class="nu0">60</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"apple"</span><span class="sy1">,</span>                   <span class="nu0">39</span><span class="sy1">,</span>    <span class="nu0">40</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"cheese"</span><span class="sy1">,</span>                  <span class="nu0">23</span><span class="sy1">,</span>    <span class="nu0">30</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"beer"</span><span class="sy1">,</span>                    <span class="nu0">52</span><span class="sy1">,</span>    <span class="nu0">10</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"suntan cream"</span><span class="sy1">,</span>            <span class="nu0">11</span><span class="sy1">,</span>    <span class="nu0">70</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"camera"</span><span class="sy1">,</span>                  <span class="nu0">32</span><span class="sy1">,</span>    <span class="nu0">30</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"T-shirt"</span><span class="sy1">,</span>                 <span class="nu0">24</span><span class="sy1">,</span>    <span class="nu0">15</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"trousers"</span><span class="sy1">,</span>                <span class="nu0">48</span><span class="sy1">,</span>    <span class="nu0">10</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"umbrella"</span><span class="sy1">,</span>                <span class="nu0">73</span><span class="sy1">,</span>    <span class="nu0">40</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"waterproof trousers"</span><span class="sy1">,</span>     <span class="nu0">42</span><span class="sy1">,</span>    <span class="nu0">70</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"waterproof overclothes"</span><span class="sy1">,</span>  <span class="nu0">43</span><span class="sy1">,</span>    <span class="nu0">75</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"note-case"</span><span class="sy1">,</span>               <span class="nu0">22</span><span class="sy1">,</span>    <span class="nu0">80</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"sunglasses"</span><span class="sy1">,</span>               <span class="nu0">7</span><span class="sy1">,</span>    <span class="nu0">20</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"towel"</span><span class="sy1">,</span>                   <span class="nu0">18</span><span class="sy1">,</span>    <span class="nu0">12</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"socks"</span><span class="sy1">,</span>                    <span class="nu0">4</span><span class="sy1">,</span>    <span class="nu0">50</span><span class="br0">}</span><span class="sy1">,</span><br>         <span class="br0">{</span><span class="st0">"book"</span><span class="sy1">,</span>                    <span class="nu0">30</span><span class="sy1">,</span>    <span class="nu0">10</span><span class="br0">}</span><br>        <span class="br0">]</span><span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="sy3">-</span><span class="re2">define</span><span class="br0">(</span><span class="re0">MAX_WEIGHT</span><span class="sy1">,</span> <span class="nu0">400</span><span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="re3">go</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">-&gt;</span><br>    <span class="re5">StartTime</span> <span class="sy3">=</span> <a href="http://erlang.org/doc/man/os.html"><span class="kw5">os</span></a>:<span class="kw3">time</span><span class="re3">stamp</span><span class="br0">(</span><span class="br0">)</span><span class="sy1">,</span><br>    <span class="br0">{</span><span class="re5">ItemList</span><span class="sy1">,</span> <span class="re5">TotalValue</span><span class="sy1">,</span> <span class="re5">TotalWeight</span><span class="br0">}</span> <span class="sy3">=</span><br>        <span class="re3">solve</span><span class="br0">(</span>?<span class="re4">STUFF</span><span class="sy1">,</span>&nbsp;?<span class="re4">MAX_WEIGHT</span><span class="sy1">,</span> <span class="br0">[</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">,</span> <span class="nu0">0</span><span class="br0">)</span><span class="sy1">,</span><br>    <span class="re5">TimeElapsed</span> <span class="sy3">=</span> <span class="kw3">time</span>r:<span class="kw3">now</span>_<span class="re3">diff</span><span class="br0">(</span><a href="http://erlang.org/doc/man/os.html"><span class="kw5">os</span></a>:<span class="kw3">time</span><span class="re3">stamp</span><span class="br0">(</span><span class="br0">)</span><span class="sy1">,</span> <span class="re5">StartTime</span><span class="br0">)</span><span class="sy1">,</span><br>    <a href="http://erlang.org/doc/man/io.html"><span class="kw5">io</span></a>:<span class="re3">format</span><span class="br0">(</span><span class="st0">"Items: ~n"</span><span class="br0">)</span><span class="sy1">,</span><br>    <span class="br0">[</span><a href="http://erlang.org/doc/man/io.html"><span class="kw5">io</span></a>:<span class="re3">format</span><span class="br0">(</span><span class="st0">"~p~n"</span><span class="sy1">,</span> <span class="br0">[</span><span class="re5">Item</span><span class="br0">]</span><span class="br0">)</span> <span class="sy3">||</span> <span class="re5">Item</span> <span class="sy3">&lt;-</span> <span class="re5">ItemList</span><span class="br0">]</span><span class="sy1">,</span><br>    <a href="http://erlang.org/doc/man/io.html"><span class="kw5">io</span></a>:<span class="re3">format</span><span class="br0">(</span><br>      <span class="st0">"Total value: ~p~nTotal weight: ~p~nTime elapsed in milliseconds: ~p~n"</span><span class="sy1">,</span><br>      <span class="br0">[</span><span class="re5">TotalValue</span><span class="sy1">,</span> <span class="re5">TotalWeight</span><span class="sy1">,</span> <span class="re5">TimeElapsed</span><span class="sy3">/</span><span class="nu0">1000</span><span class="br0">]</span><span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="re3">solve</span><span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="sy1">,</span> <span class="re5">_TotalWeight</span><span class="sy1">,</span> <span class="re5">ItemAcc</span><span class="sy1">,</span> <span class="re5">ValueAcc</span><span class="sy1">,</span> <span class="re5">WeightAcc</span><span class="br0">)</span> <span class="sy1">-&gt;</span><br>    <span class="br0">{</span><span class="re5">ItemAcc</span><span class="sy1">,</span> <span class="re5">ValueAcc</span><span class="sy1">,</span> <span class="re5">WeightAcc</span><span class="br0">}</span><span class="sy1">;</span><br><span class="re3">solve</span><span class="br0">(</span><span class="br0">[</span><span class="br0">{</span><span class="re5">_Item</span><span class="sy1">,</span> <span class="re5">ItemWeight</span><span class="sy1">,</span> <span class="re5">_ItemValue</span><span class="br0">}</span> | <span class="re5">T</span><span class="br0">]</span><span class="sy1">,</span><br>      <span class="re5">TotalWeight</span><span class="sy1">,</span><br>      <span class="re5">ItemAcc</span><span class="sy1">,</span><br>      <span class="re5">ValueAcc</span><span class="sy1">,</span><br>      <span class="re5">WeightAcc</span><span class="br0">)</span> <span class="kw1">when</span> <span class="re5">ItemWeight</span> <span class="sy3">&gt;</span> <span class="re5">TotalWeight</span> <span class="sy1">-&gt;</span><br>    <span class="re3">solve</span><span class="br0">(</span><span class="re5">T</span><span class="sy1">,</span> <span class="re5">TotalWeight</span><span class="sy1">,</span> <span class="re5">ItemAcc</span><span class="sy1">,</span> <span class="re5">ValueAcc</span><span class="sy1">,</span> <span class="re5">WeightAcc</span><span class="br0">)</span><span class="sy1">;</span><br><span class="re3">solve</span><span class="br0">(</span><span class="br0">[</span><span class="br0">{</span><span class="re5">ItemName</span><span class="sy1">,</span> <span class="re5">ItemWeight</span><span class="sy1">,</span> <span class="re5">ItemValue</span><span class="br0">}</span> | <span class="re5">T</span><span class="br0">]</span><span class="sy1">,</span><br>      <span class="re5">TotalWeight</span><span class="sy1">,</span><br>      <span class="re5">ItemAcc</span><span class="sy1">,</span><br>      <span class="re5">ValueAcc</span><span class="sy1">,</span><br>      <span class="re5">WeightAcc</span><span class="br0">)</span> <span class="sy1">-&gt;</span><br>    <span class="br0">{</span><span class="re5">_TailItemAcc</span><span class="sy1">,</span> <span class="re5">TailValueAcc</span><span class="sy1">,</span> <span class="re5">_TailWeightAcc</span><span class="br0">}</span> <span class="sy3">=</span> <span class="re5">TailRes</span> <span class="sy3">=</span><br>        <span class="re3">solve</span><span class="br0">(</span><span class="re5">T</span><span class="sy1">,</span> <span class="re5">TotalWeight</span><span class="sy1">,</span> <span class="re5">ItemAcc</span><span class="sy1">,</span> <span class="re5">ValueAcc</span><span class="sy1">,</span> <span class="re5">WeightAcc</span><span class="br0">)</span><span class="sy1">,</span><br>    <span class="br0">{</span><span class="re5">_HeadItemAcc</span><span class="sy1">,</span> <span class="re5">HeadValueAcc</span><span class="sy1">,</span> <span class="re5">_HeadWeightAcc</span><span class="br0">}</span> <span class="sy3">=</span> <span class="re5">HeadRes</span> <span class="sy3">=</span><br>        <span class="re3">solve</span><span class="br0">(</span><span class="re5">T</span><span class="sy1">,</span><br>              <span class="re5">TotalWeight</span> <span class="sy3">-</span> <span class="re5">ItemWeight</span><span class="sy1">,</span><br>              <span class="br0">[</span><span class="re5">ItemName</span> | <span class="re5">ItemAcc</span><span class="br0">]</span><span class="sy1">,</span><br>              <span class="re5">ValueAcc</span> <span class="sy3">+</span> <span class="re5">ItemValue</span><span class="sy1">,</span><br>              <span class="re5">WeightAcc</span> <span class="sy3">+</span> <span class="re5">ItemWeight</span><span class="br0">)</span><span class="sy1">,</span><br>&nbsp;<br>    <span class="kw1">case</span> <span class="re5">TailValueAcc</span> <span class="sy3">&gt;</span> <span class="re5">HeadValueAcc</span> <span class="kw1">of</span><br>        true <span class="sy1">-&gt;</span><br>            <span class="re5">TailRes</span><span class="sy1">;</span><br>        false <span class="sy1">-&gt;</span><br>            <span class="re5">HeadRes</span><br>    <span class="kw1">end</span><span class="sy1">.</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>1&gt; knapsack_0_1:go().
Items: 
"socks"
"sunglasses"
"note-case"
"waterproof overclothes"
"waterproof trousers"
"suntan cream"
"banana"
"glucose"
"sandwich"
"water"
"compass"
"map"
Total value: 1030
Total weight: 396
Time elapsed in milliseconds: 133.445
ok
</pre>
<h2><span class="mw-headline" id="Euler_Math_Toolbox"><a href="https://rosettacode.org/wiki/Category:Euler_Math_Toolbox" title="Category:Euler Math Toolbox">Euler Math Toolbox</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=27" title="Edit section: Euler Math Toolbox">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">&nbsp;<br>&gt;items=["map","compass","water","sandwich","glucose", ...<br>&gt;  "tin","banana","apple","cheese","beer","suntan creame", ...<br>&gt;  "camera","t-shirt","trousers","umbrella","waterproof trousers", ...<br>&gt;  "waterproof overclothes","note-case","sunglasses", ...<br>&gt;  "towel","socks","book"];<br>&gt;ws = [9,13,153,50,15,68,27,39,23,52,11, ...<br>&gt;  32,24,48,73,42,43,22,7,18,4,30];<br>&gt;vs = [150,35,200,160,60,45,60,40,30,10,70, ...<br>&gt;  30,15,10,40,70,75,80,20,12,50,10];<br>&gt;A=ws_id(cols(ws));<br>&gt;c=vs;<br>&gt;b=[400]_ones(cols(vs),1);<br>&gt;sol = intsimplex(A,b,c,eq=-1,&gt;max,&gt;check);<br>&gt;items[nonzeros(sol)]<br> map<br> compass<br> water<br> sandwich<br> glucose<br> banana<br> suntan creame<br> waterproof trousers<br> waterproof overclothes<br> note-case<br> sunglasses<br> socks<br>&nbsp;</pre>
<h2><span class="mw-headline" id="F.23"><a href="https://rosettacode.org/wiki/Category:F_Sharp" title="Category:F Sharp">F#</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=28" title="Edit section: F#">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Using_A.2A_Algorithm">Using A* Algorithm</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=29" title="Edit section: Using A* Algorithm">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre class="fsharp highlighted_source">&nbsp;<br><span class="co1">//Solve Knapsack 0-1 using A* algorithm</span><br><span class="kw1">let</span> knapStar items maxW<span class="sy0">=</span><br>  <span class="kw1">let</span> l<span class="sy0">=</span><a href="http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html"><span class="kw2">List</span></a>.<span class="me1">length</span> items<br>  <span class="kw1">let</span> p<span class="sy0">=</span>System.<span class="me1">Collections</span>.<span class="me1">Generic</span>.<span class="me1">SortedSet</span><span class="sy0">&lt;</span><span class="kw4">float</span><span class="sy0">*</span><span class="kw4">int</span><span class="sy0">*</span><span class="kw4">float</span><span class="sy0">*</span><span class="kw4">float</span><span class="sy0">*</span>list<span class="sy0">&lt;</span><span class="kw4">int</span><span class="sy0">&gt;&gt;</span><span class="br0">(</span><span class="br0">)</span> <span class="co1">//H*; level; value of items taken so far; weight so far</span><br>  p.<span class="me1">Add</span> <span class="br0">(</span><span class="nu0">0.0</span>,<span class="nu0">0</span>,<span class="nu0">0.0</span>,<span class="nu0">0.0</span>,<span class="br0">[</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">|&gt;</span><span class="kw3">ignore</span><br>  <span class="kw1">let</span> H items maxW<span class="sy0">=</span><span class="kw1">let</span> <span class="kw1">rec</span> H n g a<span class="sy0">=</span><span class="kw1">match</span> g <span class="kw1">with</span> |<span class="br0">(</span>_,w,v<span class="br0">)</span>::e<span class="sy0">-&gt;</span><span class="kw1">let</span> t<span class="sy0">=</span>n<span class="sy0">+</span>w<br>                                                             <span class="kw1">if</span> t<span class="sy0">&lt;=</span>maxW <span class="kw1">then</span> H t e <span class="br0">(</span>a<span class="sy0">+</span>v<span class="br0">)</span> <span class="kw1">else</span> a<span class="sy0">+</span><span class="br0">(</span>v<span class="sy0">/</span>w<span class="br0">)</span><span class="sy0">*</span><span class="br0">(</span>maxW<span class="sy0">-</span>n<span class="br0">)</span><br>                                                |_<span class="sy0">-&gt;</span>a<br>                   H <span class="nu0">0.0</span> items <span class="nu0">0.0</span><br>  <span class="kw1">let</span> pAdd <span class="br0">(</span><span class="br0">(</span>h,_,_,_,_<span class="br0">)</span> <span class="kw1">as</span> n<span class="br0">)</span> bv<span class="sy0">=</span><span class="kw1">if</span> h<span class="sy0">&gt;</span>bv <span class="kw1">then</span> p.<span class="me1">Add</span> n <span class="sy0">|&gt;</span> <span class="kw3">ignore</span><br>  <span class="kw1">let</span> fH n <span class="br0">(</span>bv,t<span class="br0">)</span> w<span class="st0">' v'</span> t<span class="st0">'=let _,w,v=List.item n items<br>                           let e=max bv (if w&lt;=(maxW-w'</span><span class="br0">)</span> <span class="kw1">then</span> v<span class="st0">'+v else bv)<br>                           let rt=n::t'</span><br>                           <span class="kw1">if</span> n<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">&lt;</span>l <span class="kw1">then</span> pAdd <span class="br0">(</span><span class="br0">(</span>v<span class="st0">'+H (List.skip (n+1) items) maxW),n+1,v'</span>,w<span class="st0">',t'</span><span class="br0">)</span> bv<br>                                         <span class="kw1">if</span> w<span class="sy0">&lt;=</span><span class="br0">(</span>maxW<span class="sy0">-</span>w<span class="st0">') then pAdd ((v'</span><span class="sy0">+</span>v<span class="sy0">+</span>H <span class="br0">(</span><a href="http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html"><span class="kw2">List</span></a>.<span class="me1">skip</span> <span class="br0">(</span>n<span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span> items<span class="br0">)</span> <span class="br0">(</span>maxW<span class="sy0">-</span>w<span class="st0">')),n+1,v'</span><span class="sy0">+</span>v,w<span class="st0">'+w,rt) bv<br>                           if e&gt;bv then (e,rt) else (bv,t)<br>  let rec fN (bv,t)=<br>    let h,zl,zv,zw,zt as r=p.Max<br>    p.Remove r |&gt; ignore<br>    if bv&gt;=h then t else fN (fH zl (bv,t) zw zv zt)<br>  fN (fH 0 (0.0,[]) 0.0 0.0 [])<br></span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre class="fsharp highlighted_source">&nbsp;<br><span class="kw1">let</span> itemsf <span class="sy0">=</span> <span class="br0">[</span><br>  <span class="st0">"map"</span>,                     <span class="nu0">9.0</span>,  <span class="nu0">150.0</span><span class="sy0">;</span><br>  <span class="st0">"compass"</span>,                <span class="nu0">13.0</span>,   <span class="nu0">35.0</span><span class="sy0">;</span><br>  <span class="st0">"water"</span>,                 <span class="nu0">153.0</span>,  <span class="nu0">200.0</span><span class="sy0">;</span><br>  <span class="st0">"sandwich"</span>,               <span class="nu0">50.0</span>,  <span class="nu0">160.0</span><span class="sy0">;</span><br>  <span class="st0">"glucose"</span>,                <span class="nu0">15.0</span>,   <span class="nu0">60.0</span><span class="sy0">;</span><br>  <span class="st0">"tin"</span>,                    <span class="nu0">68.0</span>,   <span class="nu0">45.0</span><span class="sy0">;</span><br>  <span class="st0">"banana"</span>,                 <span class="nu0">27.0</span>,   <span class="nu0">60.0</span><span class="sy0">;</span><br>  <span class="st0">"apple"</span>,                  <span class="nu0">39.0</span>,   <span class="nu0">40.0</span><span class="sy0">;</span><br>  <span class="st0">"cheese"</span>,                 <span class="nu0">23.0</span>,   <span class="nu0">30.0</span><span class="sy0">;</span><br>  <span class="st0">"beer"</span>,                   <span class="nu0">52.0</span>,   <span class="nu0">10.0</span><span class="sy0">;</span><br>  <span class="st0">"suntan cream"</span>,           <span class="nu0">11.0</span>,   <span class="nu0">70.0</span><span class="sy0">;</span><br>  <span class="st0">"camera"</span>,                 <span class="nu0">32.0</span>,   <span class="nu0">30.0</span><span class="sy0">;</span><br>  <span class="st0">"t-shirt"</span>,                <span class="nu0">24.0</span>,   <span class="nu0">15.0</span><span class="sy0">;</span><br>  <span class="st0">"trousers"</span>,               <span class="nu0">48.0</span>,   <span class="nu0">10.0</span><span class="sy0">;</span><br>  <span class="st0">"umbrella"</span>,               <span class="nu0">73.0</span>,   <span class="nu0">40.0</span><span class="sy0">;</span><br>  <span class="st0">"waterproof trousers"</span>,    <span class="nu0">42.0</span>,   <span class="nu0">70.0</span><span class="sy0">;</span><br>  <span class="st0">"waterproof overclothes"</span>, <span class="nu0">43.0</span>,   <span class="nu0">75.0</span><span class="sy0">;</span><br>  <span class="st0">"note-case"</span>,              <span class="nu0">22.0</span>,   <span class="nu0">80.0</span><span class="sy0">;</span><br>  <span class="st0">"sunglasses"</span>,              <span class="nu0">7.0</span>,   <span class="nu0">20.0</span><span class="sy0">;</span><br>  <span class="st0">"towel"</span>,                  <span class="nu0">18.0</span>,   <span class="nu0">12.0</span><span class="sy0">;</span><br>  <span class="st0">"socks"</span>,                   <span class="nu0">4.0</span>,   <span class="nu0">50.0</span><span class="sy0">;</span><br>  <span class="st0">"book"</span>,                   <span class="nu0">30.0</span>,   <span class="nu0">10.0</span><span class="sy0">;</span><span class="br0">]</span><span class="sy0">|&gt;</span> <a href="http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html"><span class="kw2">List</span></a>.<span class="me1">sortBy</span><span class="br0">(</span><span class="kw1">fun</span><span class="br0">(</span>_,n,g<span class="br0">)</span><span class="sy0">-&gt;</span>n<span class="sy0">/</span>g<span class="br0">)</span><br>&nbsp;</pre>
<pre>&gt; let x=knapStar itemsf 400.0;;
&gt; x|&gt;Seq.map (fun n-&gt;Seq.item n itemsf)|&gt;Seq.sumBy(fun (_,_,n)-&gt;(+n));;                                                                 
val it&nbsp;: float = 1030.0
&gt; x|&gt;Seq.map (fun n-&gt;Seq.item n itemsf)|&gt;Seq.sumBy(fun (_,n,_)-&gt;(+n));;
val it&nbsp;: float = 396.0
&gt; x|&gt;Seq.iter(fun n-&gt;printfn "%A" (List.item n itemsf));; 
("map", 9.0, 150.0)
("socks", 4.0, 50.0)
("suntan cream", 11.0, 70.0)
("glucose", 15.0, 60.0)
("note-case", 22.0, 80.0)
("sandwich", 50.0, 160.0)
("sunglasses", 7.0, 20.0)
("compass", 13.0, 35.0)
("banana", 27.0, 60.0)
("waterproof overclothes", 43.0, 75.0)
("waterproof trousers", 42.0, 70.0)
("water", 153.0, 200.0)
</pre>
<h2><span class="mw-headline" id="Factor"><a href="https://rosettacode.org/wiki/Category:Factor" title="Category:Factor">Factor</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=30" title="Edit section: Factor">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Using dynamic programming:
</p>
<pre class="text highlighted_source">USING: accessors arrays fry io kernel locals make math<br>math.order math.parser math.ranges sequences sorting&nbsp;;<br>IN: rosetta.knappsack.0-1<br>&nbsp;<br>TUPLE: item<br>    name weight value&nbsp;;<br>&nbsp;<br>CONSTANT: items {<br>        T{ item f "map" 9 150 }<br>        T{ item f "compass" 13 35 }<br>        T{ item f "water" 153 200 }<br>        T{ item f "sandwich" 50 160 }<br>        T{ item f "glucose" 15 60 }<br>        T{ item f "tin" 68 45 }<br>        T{ item f "banana" 27 60 }<br>        T{ item f "apple" 39 40 }<br>        T{ item f "cheese" 23 30 }<br>        T{ item f "beer" 52 10 }<br>        T{ item f "suntan cream" 11 70 }<br>        T{ item f "camera" 32 30 }<br>        T{ item f "t-shirt" 24 15 }<br>        T{ item f "trousers" 48 10 }<br>        T{ item f "umbrella" 73 40 }<br>        T{ item f "waterproof trousers" 42 70 }<br>        T{ item f "waterproof overclothes" 43 75 }<br>        T{ item f "note-case" 22 80 }<br>        T{ item f "sunglasses" 7 20 }<br>        T{ item f "towel" 18 12 }<br>        T{ item f "socks" 4 50 }<br>        T{ item f "book" 30 10 }<br>    }<br>&nbsp;<br>CONSTANT: limit 400<br>&nbsp;<br>: make-table ( -- table )<br>    items length 1 + [ limit 1 + 0 &lt;array&gt; ] replicate&nbsp;;<br>&nbsp;<br>:: iterate ( item-no table -- )<br>    item-no table nth&nbsp;:&gt; prev<br>    item-no 1 + table nth&nbsp;:&gt; curr<br>    item-no items nth&nbsp;:&gt; item<br>    limit [1,b] [| weight |<br>        weight prev nth<br>        weight item weight&gt;&gt; - dup 0 &gt;=<br>        [ prev nth item value&gt;&gt; + max ]<br>        [ drop ] if<br>        weight curr set-nth<br>    ] each&nbsp;;<br>&nbsp;<br>: fill-table ( table -- )<br>    [ items length iota ] dip<br>    '[ _ iterate ] each&nbsp;;<br>&nbsp;<br>:: extract-packed-items ( table -- items )<br>    [<br>        limit&nbsp;:&gt; weight!<br>        items length iota &lt;reversed&gt; [| item-no |<br>            item-no table nth&nbsp;:&gt; prev<br>            item-no 1 + table nth&nbsp;:&gt; curr<br>            weight [ curr nth ] [ prev nth ] bi =<br>            [<br>                item-no items nth<br>                [ name&gt;&gt; , ] [ weight&gt;&gt; weight swap - weight! ] bi<br>            ] unless<br>        ] each<br>    ] { } make&nbsp;;<br>&nbsp;<br>: solve-knappsack ( -- items value )<br>    make-table [ fill-table ]<br>    [ extract-packed-items ] [ last last ] tri&nbsp;;<br>&nbsp;<br>: main ( -- )<br>    solve-knappsack<br>    "Total value: " write number&gt;string print<br>    "Items packed: " print<br>    natural-sort<br>    [ "   " write print ] each&nbsp;;</pre>
<pre> ( scratchpad ) main
 Total value: 1030
 Items packed: 
    banana
    compass
    glucose
    map
    note-case
    sandwich
    socks
    sunglasses
    suntan cream
    water
    waterproof overclothes
    waterproof trousers
</pre>
<h2><span class="mw-headline" id="Forth"><a href="https://rosettacode.org/wiki/Category:Forth" title="Category:Forth">Forth</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=31" title="Edit section: Forth">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">&nbsp;<br>\ Rosetta Code Knapp-sack 0-1 problem.  Tested under GForth 0.7.3.<br>\ 22 items. On current processors a set fits nicely in one CELL (32 or 64 bits).<br>\ Brute force approach: for every possible set of 22 items,<br>\ check for admissible solution then for optimal set.<br>&nbsp;<br>: offs HERE over -&nbsp;;<br>        400 VALUE WLIMIT<br>        0 VALUE ITEM<br>        0 VALUE VAL<br>        0 VALUE /ITEM<br>        0 VALUE ITEMS#<br>Create Sack<br>HERE<br>        9 ,                     offs TO VAL<br>        150 ,                   offs TO ITEM<br>        s" map            " s,  offs TO /ITEM<br>DROP<br> 13 ,  35 , s" compass        " s,<br>153 , 200 , s" water          " s,<br> 50 , 160 , s" sandwich       " s,<br> 15 ,  60 , s" glucose        " s,<br> 68 ,  45 , s" tin            " s,<br> 27 ,  60 , s" banana         " s,<br> 39 ,  40 , s" apple          " s,<br> 23 ,  30 , s" cheese         " s,<br> 52 ,  10 , s" beer           " s,<br> 11 ,  70 , s" suntan cream   " s,<br> 32 ,  30 , s" camera         " s,<br> 24 ,  15 , s" T-shirt        " s,<br> 48 ,  10 , s" trousers       " s,<br> 73 ,  40 , s" umbrella       " s,<br> 42 ,  70 , s" wp trousers    " s,<br> 43 ,  75 , s" wp overclothes " s,<br> 22 ,  80 , s" note-case      " s,<br>  7 ,  20 , s" sunglasses     " s,<br> 18 ,  12 , s" towel          " s,<br>  4 ,  50 , s" socks          " s,<br> 30 ,  10 , s" book           " s,<br>        HERE VALUE END-SACK<br>        VARIABLE Sol            \ Solution  Set<br>        VARIABLE Vmax           \ Temporary Maximum Value<br>        VARIABLE Sum            \ Temporary Sum (for speed-up)<br>: ]sum          ( Rtime: set -- sum &nbsp;;Ctime: hilimit.a start.a -- )<br>\ Loop unwinding &amp; precomputing addresses<br>        ]<br>        ]] Sum OFF [[<br>        DO              ]] dup [[  1  ]] LITERAL AND IF [[  I  ]] LITERAL @ Sum +! THEN 2/ [[<br>        /ITEM +LOOP     ]] drop Sum @ [[<br>; IMMEDIATE<br>: solve         ( -- )<br>        Vmax OFF<br>        [ 1 END-SACK Sack - /ITEM / lshift 1- ]L 0<br>        DO<br>                I [ END-SACK Sack ]sum ( by weight ) WLIMIT &lt;<br>                IF<br>                        I [ END-SACK VAL + Sack VAL + ]sum ( by value )<br>                        dup Vmax @ &gt;<br>                        IF  Vmax&nbsp;! I Sol&nbsp;!  ELSE  drop  THEN<br>                THEN<br>        LOOP<br>;<br>: .solution     ( -- )<br>        Sol @ END-SACK ITEM + Sack ITEM +<br>        DO<br>                dup 1 AND  IF  I count type cr  THEN<br>                2/<br>        /ITEM +LOOP<br>        drop<br>        ." Weight: " Sol @ [ END-SACK Sack ]sum .  ."  Value: " Sol @ [ END-SACK VAL + Sack VAL + ]sum .<br>;<br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>map            
compass        
water          
sandwich       
glucose        
banana         
suntan cream   
wp trousers    
wp overclothes 
note-case      
sunglasses     
socks          
Weight: 396  Value: 1030 
</pre>
<h2><span class="mw-headline" id="FutureBasic"><a href="https://rosettacode.org/wiki/Category:FutureBasic" title="Category:FutureBasic">FutureBasic</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=32" title="Edit section: FutureBasic">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">&nbsp;<br>output file "Knapsack Problem Solution"<br>&nbsp;<br>include "ConsoleWindow"<br>&nbsp;<br>def tab 20<br>&nbsp;<br>_numberOfObjects = 21<br>_weightOfKnapsack = 400<br>&nbsp;<br>dim as short n&nbsp;: n = _numberOfObjects     /* The number of objects available to pack */<br>dim as Str31 s(_numberOfObjects)     /* The names of available objects */<br>dim as short c(_numberOfObjects)     /* The *COST* of the ith object i.e. how much weight you must carry to pack the object */<br>dim as short v(_numberOfObjects)     /* The *VALUE* of the ith object i.e. on a scale of 1 to 200, how important is it that the object included */<br>dim as short W&nbsp;: W = _weightOfKnapsack    /* The maximum weight your knapsack will carry in ounces*/<br>&nbsp;<br>s(0) = "map"<br>s(1) = "compass"<br>s(2) = "water"<br>s(3) = "sandwich"<br>s(4) = "glucose"<br>s(5) = "tin"<br>s(6) = "banana"<br>s(7) = "apple"<br>s(8) = "cheese"<br>s(9) = "beer"<br>s(10) = "suntan cream"<br>s(11) = "camera"<br>s(12) = "T-shirt"<br>s(13) = "trousers"<br>s(14) = "umbrella"<br>s(15) = "waterproof pants"<br>s(16) = "raincoat"<br>s(17) = "note-case"<br>s(18) = "sunglasses"<br>s(19) = "towel"<br>s(20) = "socks"<br>s(21) = "socks"<br>&nbsp;<br>c(0) = 9<br>c(1) = 13<br>c(2) = 153<br>c(3) = 50<br>c(4) = 15<br>c(5) = 68<br>c(6) = 27<br>c(7) = 39<br>c(8) = 23<br>c(9) = 52<br>c(10) = 11<br>c(11) = 32<br>c(12) = 24<br>c(13) = 48<br>c(14) = 73<br>c(15) = 42<br>c(16) = 43<br>c(17) = 22<br>c(18) = 7<br>c(19) = 18<br>c(20) = 4<br>c(21) = 30<br>&nbsp;<br>v(0) = 150<br>v(1) = 35<br>v(2) = 200<br>v(3) = 160<br>v(4) = 60<br>v(5) = 45<br>v(6) = 60<br>v(7) = 40<br>v(8) = 30<br>v(9) = 10<br>v(10) = 70<br>v(11) = 30<br>v(12) = 15<br>v(13) = 10<br>v(14) = 40<br>v(15) = 70<br>v(16) = 75<br>v(17) = 80<br>v(18) = 20<br>v(19) = 12<br>v(20) = 50<br>v(21) = 10<br>&nbsp;<br>&nbsp;<br>local fn FillKnapsack<br>dim as short  cur_w<br>dim as double tot_v&nbsp;: tot_v = 0<br>dim as short  i, maxi, finalWeight&nbsp;: finalWeight = 0<br>dim as short  finalValue&nbsp;: finalValue = 0<br>dim as short  used(_numberOfObjects)<br>&nbsp;<br>for i = 0 to n<br>   used(i) = 0<br>next<br>&nbsp;<br>cur_w = W<br>while cur_w &gt; -1<br>&nbsp;<br>   maxi = -1<br>&nbsp;<br>   BeginCCode<br>   for ( i = 0; i &lt; n; ++i)<br>      if ((used[i] == 0) &amp;&amp; ((maxi == -1) || ((float)v[i]/c[i] &gt; (float)v[maxi]/c[maxi])))<br>   maxi = i;<br>   EndC<br>&nbsp;<br>   used(maxi) = 1<br>   cur_w -= c(maxi)<br>   tot_v += v(maxi)<br>&nbsp;<br>   if (cur_w &gt;= 0)<br>      print s(maxi), c(maxi), v(maxi)<br>&nbsp;<br>      finalWeight = finalWeight + c(maxi)<br>      finalValue = finalValue + v(maxi)<br>&nbsp;<br>   else<br>      print <br>      print "Add"; int( ( (double)cur_w/c(maxi) * 100 ) +100 ); "% more of "; s(maxi); " into the knapsack to fill remaining space."<br>&nbsp;<br>      tot_v -= v(maxi)<br>      tot_v += (1 + (double )cur_w/c(maxi)) * v(maxi)<br>   end if<br>wend<br>&nbsp;<br>print<br>print "Filled the bag with objects whose total value is"; finalValue; "."<br>print "Total weight of packed objects is"; finalWeight; " ounces."<br>&nbsp;<br>end fn<br>&nbsp;<br>dim as short i, totalValue, totalWeight<br>&nbsp;<br>print<br>print "Available Items", "Weight in ounces", "Value (Scale of 1 to 200)"<br>for i = 0 to _numberOfObjects<br>   print s(i), c(i), v(i)<br>   totalValue += v(i)<br>   totalWeight += c(i)<br>next<br>&nbsp;<br>print<br>print "Total capacity of knapsack:"; W; " ounces"; "."<br>print "Total value of all"; _numberOfObjects; " objects:"; totalValue; "."<br>print "Total weight of all"; _numberOfObjects; " objects:"; totalWeight; " ounces."<br>print<br>print<br>print "Most optimal packing considering weight and value:"<br>print<br>print "Item", "Weight", "Value"<br>&nbsp;<br>fn FillKnapsack<br>&nbsp;</pre>
<p>Output:
</p>
<pre>Available Items     Weight in ounces    Value (Scale of 1 to 200)
map                  9                   150
compass              13                  35
water                153                 200
sandwich             50                  160
glucose              15                  60
tin                  68                  45
banana               27                  60
apple                39                  40
cheese               23                  30
beer                 52                  10
suntan cream         11                  70
camera               32                  30
T-shirt              24                  15
trousers             48                  10
umbrella             73                  40
waterproof pants     42                  70
raincoat             43                  75
note-case            22                  80
sunglasses           7                   20
towel                18                  12
socks                4                   50
socks                30                  10

Total capacity of knapsack: 400 ounces.
Total value of all 21 objects: 1272.
Total weight of all 21 objects: 803 ounces.


Most optimal packing considering weight and value:

Item                Weight              Value
map                  9                   150
socks                4                   50
suntan cream         11                  70
glucose              15                  60
note-case            22                  80
sandwich             50                  160
sunglasses           7                   20
compass              13                  35
banana               27                  60
raincoat             43                  75
waterproof pants     42                  70
water                153                 200

Add 17% more of cheese into the knapsack to fill remaining space.

Filled the bag with objects whose total value is 1030.
Total weight of packed objects is 396 ounces.
</pre>
<h2><span class="mw-headline" id="Go"><a href="https://rosettacode.org/wiki/Category:Go" title="Category:Go">Go</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=33" title="Edit section: Go">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>From WP, "0-1 knapsack problem" under <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Knapsack_problem#Dynamic_Programming_Algorithm%7CSolving">The Knapsack Problem</a>, although the solution here simply follows the recursive defintion and doesn't even use the array optimization.
</p>
<pre class="go highlighted_source"><span class="kw1">package</span> main<br>&nbsp;<br><span class="kw1">import</span> <span class="st0">"fmt"</span><br>&nbsp;<br><span class="kw1">type</span> item <span class="kw4">struct</span> <span class="sy1">{</span><br>    <span class="kw4">string</span><br>    w<span class="sy1">,</span> v <span class="kw4">int</span><br><span class="sy1">}</span><br>&nbsp;<br><span class="kw1">var</span> wants <span class="sy2">=</span> <span class="sy1">[]</span>item<span class="sy1">{</span><br>    <span class="sy1">{</span><span class="st0">"map"</span><span class="sy1">,</span> <span class="nu0">9</span><span class="sy1">,</span> <span class="nu0">150</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"compass"</span><span class="sy1">,</span> <span class="nu0">13</span><span class="sy1">,</span> <span class="nu0">35</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"water"</span><span class="sy1">,</span> <span class="nu0">153</span><span class="sy1">,</span> <span class="nu0">200</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"sandwich"</span><span class="sy1">,</span> <span class="nu0">50</span><span class="sy1">,</span> <span class="nu0">160</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"glucose"</span><span class="sy1">,</span> <span class="nu0">15</span><span class="sy1">,</span> <span class="nu0">60</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"tin"</span><span class="sy1">,</span> <span class="nu0">68</span><span class="sy1">,</span> <span class="nu0">45</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"banana"</span><span class="sy1">,</span> <span class="nu0">27</span><span class="sy1">,</span> <span class="nu0">60</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"apple"</span><span class="sy1">,</span> <span class="nu0">39</span><span class="sy1">,</span> <span class="nu0">40</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"cheese"</span><span class="sy1">,</span> <span class="nu0">23</span><span class="sy1">,</span> <span class="nu0">30</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"beer"</span><span class="sy1">,</span> <span class="nu0">52</span><span class="sy1">,</span> <span class="nu0">10</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"suntan cream"</span><span class="sy1">,</span> <span class="nu0">11</span><span class="sy1">,</span> <span class="nu0">70</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"camera"</span><span class="sy1">,</span> <span class="nu0">32</span><span class="sy1">,</span> <span class="nu0">30</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"T-shirt"</span><span class="sy1">,</span> <span class="nu0">24</span><span class="sy1">,</span> <span class="nu0">15</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"trousers"</span><span class="sy1">,</span> <span class="nu0">48</span><span class="sy1">,</span> <span class="nu0">10</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"umbrella"</span><span class="sy1">,</span> <span class="nu0">73</span><span class="sy1">,</span> <span class="nu0">40</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"waterproof trousers"</span><span class="sy1">,</span> <span class="nu0">42</span><span class="sy1">,</span> <span class="nu0">70</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"waterproof overclothes"</span><span class="sy1">,</span> <span class="nu0">43</span><span class="sy1">,</span> <span class="nu0">75</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"note-case"</span><span class="sy1">,</span> <span class="nu0">22</span><span class="sy1">,</span> <span class="nu0">80</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"sunglasses"</span><span class="sy1">,</span> <span class="nu0">7</span><span class="sy1">,</span> <span class="nu0">20</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"towel"</span><span class="sy1">,</span> <span class="nu0">18</span><span class="sy1">,</span> <span class="nu0">12</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"socks"</span><span class="sy1">,</span> <span class="nu0">4</span><span class="sy1">,</span> <span class="nu0">50</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"book"</span><span class="sy1">,</span> <span class="nu0">30</span><span class="sy1">,</span> <span class="nu0">10</span><span class="sy1">},</span><br><span class="sy1">}</span><br>&nbsp;<br><span class="kw1">const</span> maxWt <span class="sy2">=</span> <span class="nu0">400</span><br>&nbsp;<br><span class="kw4">func</span> main<span class="sy1">()</span> <span class="sy1">{</span><br>    items<span class="sy1">,</span> w<span class="sy1">,</span> v <span class="sy2">:=</span> m<span class="sy1">(</span><span class="kw3">len</span><span class="sy1">(</span>wants<span class="sy1">)</span><span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> maxWt<span class="sy1">)</span><br>    fmt<span class="sy3">.</span>Println<span class="sy1">(</span>items<span class="sy1">)</span><br>    fmt<span class="sy3">.</span>Println<span class="sy1">(</span><span class="st0">"weight:"</span><span class="sy1">,</span> w<span class="sy1">)</span><br>    fmt<span class="sy3">.</span><span class="me1">Println</span><span class="sy1">(</span><span class="st0">"value:"</span><span class="sy1">,</span> v<span class="sy1">)</span><br><span class="sy1">}</span><br>&nbsp;<br><span class="kw4">func</span> m<span class="sy1">(</span><span class="nu2">i</span><span class="sy1">,</span> w <span class="kw4">int</span><span class="sy1">)</span> <span class="sy1">([]</span><span class="kw4">string</span><span class="sy1">,</span> <span class="kw4">int</span><span class="sy1">,</span> <span class="kw4">int</span><span class="sy1">)</span> <span class="sy1">{</span><br>    <span class="kw1">if</span> <span class="nu2">i</span> &lt; <span class="nu0">0</span> <span class="sy3">||</span> w <span class="sy3">==</span> <span class="nu0">0</span> <span class="sy1">{</span><br>        <span class="kw1">return</span> <span class="kw2">nil</span><span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">,</span> <span class="nu0">0</span><br>    <span class="sy1">}</span> <span class="kw1">else</span> <span class="kw1">if</span> wants<span class="sy1">[</span><span class="nu2">i</span><span class="sy1">]</span><span class="sy3">.</span>w &gt; w <span class="sy1">{</span><br>        <span class="kw1">return</span> m<span class="sy1">(</span><span class="nu2">i</span><span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> w<span class="sy1">)</span><br>    <span class="sy1">}</span><br>    i0<span class="sy1">,</span> w0<span class="sy1">,</span> v0 <span class="sy2">:=</span> m<span class="sy1">(</span><span class="nu2">i</span><span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> w<span class="sy1">)</span><br>    i1<span class="sy1">,</span> w1<span class="sy1">,</span> v1 <span class="sy2">:=</span> m<span class="sy1">(</span><span class="nu2">i</span><span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> w<span class="sy3">-</span>wants<span class="sy1">[</span><span class="nu2">i</span><span class="sy1">]</span><span class="sy3">.</span>w<span class="sy1">)</span><br>    v1 <span class="sy2">+=</span> wants<span class="sy1">[</span><span class="nu2">i</span><span class="sy1">]</span><span class="sy3">.</span>v<br>    <span class="kw1">if</span> v1 &gt; v0 <span class="sy1">{</span><br>        <span class="kw1">return</span> append<span class="sy1">(</span>i1<span class="sy1">,</span> wants<span class="sy1">[</span><span class="nu2">i</span><span class="sy1">]</span><span class="sy3">.</span><span class="kw4">string</span><span class="sy1">),</span> w1 <span class="sy3">+</span> wants<span class="sy1">[</span><span class="nu2">i</span><span class="sy1">]</span><span class="sy3">.</span>w<span class="sy1">,</span> v1<br>    <span class="sy1">}</span><br>    <span class="kw1">return</span> i0<span class="sy1">,</span> w0<span class="sy1">,</span> v0<br><span class="sy1">}</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>[map compass water sandwich glucose banana suntan cream waterproof trousers waterproof overclothes note-case sunglasses socks]
weight: 396
value: 1030
</pre>
<p><b>Alternative test case</b>
</p><p>Data for which a greedy algorithm might give an incorrect result:
</p>
<pre class="go highlighted_source">&nbsp;<br><span class="kw1">var</span> wants <span class="sy2">=</span> <span class="sy1">[]</span>item<span class="sy1">{</span><br>    <span class="sy1">{</span><span class="st0">"sunscreen"</span><span class="sy1">,</span> <span class="nu0">15</span><span class="sy1">,</span> <span class="nu0">2</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"GPS"</span><span class="sy1">,</span> <span class="nu0">25</span><span class="sy1">,</span> <span class="nu0">2</span><span class="sy1">},</span><br>    <span class="sy1">{</span><span class="st0">"beer"</span><span class="sy1">,</span> <span class="nu0">35</span><span class="sy1">,</span> <span class="nu0">3</span><span class="sy1">},</span><br><span class="sy1">}</span><br>&nbsp;<br><span class="kw1">const</span> maxWt <span class="sy2">=</span> <span class="nu0">40</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>[sunscreen GPS]
weight: 40
value: 4
</pre>
<h2><span class="mw-headline" id="Groovy"><a href="https://rosettacode.org/wiki/Category:Groovy" title="Category:Groovy">Groovy</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=34" title="Edit section: Groovy">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Solution #1: brute force
</p>
<pre class="groovy highlighted_source"><a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> totalWeight <span class="sy0">=</span> <span class="br0">{</span> list <span class="sy0">-&gt;</span> list<span class="sy0">*</span>.<span class="me1">weight</span>.<span class="me1">sum</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">}</span><br><a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> totalValue <span class="sy0">=</span> <span class="br0">{</span> list <span class="sy0">-&gt;</span> list<span class="sy0">*</span>.<span class="me1">value</span>.<span class="me1">sum</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">}</span><br>&nbsp;<br><a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> knapsack01bf <span class="sy0">=</span> <span class="br0">{</span> possibleItems <span class="sy0">-&gt;</span><br>    possibleItems.<span class="me1">subsequences</span><span class="br0">(</span><span class="br0">)</span>.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20findAll"><span class="kw5">findAll</span></a><span class="br0">{</span> ss <span class="sy0">-&gt;</span><br>        <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> w <span class="sy0">=</span> totalWeight<span class="br0">(</span>ss<span class="br0">)</span><br>        <span class="nu0">350</span> <span class="sy0">&lt;</span> w <span class="sy0">&amp;&amp;</span> w <span class="sy0">&lt;</span> <span class="nu0">401</span><br>    <span class="br0">}</span>.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20max"><span class="kw5">max</span></a><span class="br0">(</span>totalValue<span class="br0">)</span><br><span class="br0">}</span></pre>
<p>Solution #2: dynamic programming
</p>
<pre class="groovy highlighted_source"><a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> knapsack01dp <span class="sy0">=</span> <span class="br0">{</span> possibleItems <span class="sy0">-&gt;</span><br>    <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> n <span class="sy0">=</span> possibleItems.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20size"><span class="kw5">size</span></a><span class="br0">(</span><span class="br0">)</span><br>    <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> m <span class="sy0">=</span> <span class="br0">(</span><span class="nu0">0</span>..<span class="me1">n</span><span class="br0">)</span>.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20collect"><span class="kw5">collect</span></a><span class="br0">{</span> i <span class="sy0">-&gt;</span> <span class="br0">(</span><span class="nu0">0</span>..<span class="nu0">400</span><span class="br0">)</span>.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20collect"><span class="kw5">collect</span></a><span class="br0">{</span> w <span class="sy0">-&gt;</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">}</span> <span class="br0">}</span><br>    <span class="br0">(</span><span class="nu0">1</span>..<span class="nu0">400</span><span class="br0">)</span>.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20each"><span class="kw5">each</span></a> <span class="br0">{</span> w <span class="sy0">-&gt;</span><br>        <span class="br0">(</span><span class="nu0">1</span>..<span class="me1">n</span><span class="br0">)</span>.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20each"><span class="kw5">each</span></a> <span class="br0">{</span> i <span class="sy0">-&gt;</span><br>            <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> wi <span class="sy0">=</span> possibleItems<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span>.<span class="me1">weight</span><br>            m<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> <span class="sy0">=</span> wi <span class="sy0">&gt;</span> w <span class="sy0">?</span> m<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span>&nbsp;: <span class="br0">(</span><span class="br0">[</span>m<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span>, m<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w<span class="sy0">-</span>wi<span class="br0">]</span> <span class="sy0">+</span> <span class="br0">[</span>possibleItems<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">]</span><span class="br0">]</span>.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20max"><span class="kw5">max</span></a><span class="br0">(</span>totalValue<span class="br0">)</span><span class="br0">)</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br>    m<span class="br0">[</span>n<span class="br0">]</span><span class="br0">[</span><span class="nu0">400</span><span class="br0">]</span><br><span class="br0">}</span></pre>
<p>Test:
</p>
<pre class="groovy highlighted_source"><a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> items <span class="sy0">=</span> <span class="br0">[</span> <br>        <span class="br0">[</span>name:<span class="st0">"map"</span>, weight:<span class="nu0">9</span>, value:<span class="nu0">150</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"compass"</span>, weight:<span class="nu0">13</span>, value:<span class="nu0">35</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"water"</span>, weight:<span class="nu0">153</span>, value:<span class="nu0">200</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"sandwich"</span>, weight:<span class="nu0">50</span>, value:<span class="nu0">160</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"glucose"</span>, weight:<span class="nu0">15</span>, value:<span class="nu0">60</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"tin"</span>, weight:<span class="nu0">68</span>, value:<span class="nu0">45</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"banana"</span>, weight:<span class="nu0">27</span>, value:<span class="nu0">60</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"apple"</span>, weight:<span class="nu0">39</span>, value:<span class="nu0">40</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"cheese"</span>, weight:<span class="nu0">23</span>, value:<span class="nu0">30</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"beer"</span>, weight:<span class="nu0">52</span>, value:<span class="nu0">10</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"suntan cream"</span>, weight:<span class="nu0">11</span>, value:<span class="nu0">70</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"camera"</span>, weight:<span class="nu0">32</span>, value:<span class="nu0">30</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"t-shirt"</span>, weight:<span class="nu0">24</span>, value:<span class="nu0">15</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"trousers"</span>, weight:<span class="nu0">48</span>, value:<span class="nu0">10</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"umbrella"</span>, weight:<span class="nu0">73</span>, value:<span class="nu0">40</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"waterproof trousers"</span>, weight:<span class="nu0">42</span>, value:<span class="nu0">70</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"waterproof overclothes"</span>, weight:<span class="nu0">43</span>, value:<span class="nu0">75</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"note-case"</span>, weight:<span class="nu0">22</span>, value:<span class="nu0">80</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"sunglasses"</span>, weight:<span class="nu0">7</span>, value:<span class="nu0">20</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"towel"</span>, weight:<span class="nu0">18</span>, value:<span class="nu0">12</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"socks"</span>, weight:<span class="nu0">4</span>, value:<span class="nu0">50</span><span class="br0">]</span>,<br>        <span class="br0">[</span>name:<span class="st0">"book"</span>, weight:<span class="nu0">30</span>, value:<span class="nu0">10</span><span class="br0">]</span>,<br><span class="br0">]</span><br>&nbsp;<br><span class="br0">[</span>knapsack01bf, knapsack01dp<span class="br0">]</span>.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20each"><span class="kw5">each</span></a> <span class="br0">{</span> knapsack01 <span class="sy0">-&gt;</span><br>    <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20start"><span class="kw8">start</span></a> <span class="sy0">=</span> <a href="http://www.google.de/search?as_q=System&amp;num=100&amp;hl=en&amp;as_occt=url&amp;as_sitesearch=java.sun.com%2Fj2se%2F1%2E5%2E0%2Fdocs%2Fapi%2F"><span class="kw3">System</span></a>.<span class="me1">currentTimeMillis</span><span class="br0">(</span><span class="br0">)</span><br>    <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> packingList <span class="sy0">=</span> knapsack01<span class="br0">(</span>items<span class="br0">)</span><br>    <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def"><span class="kw2">def</span></a> elapsed <span class="sy0">=</span> <a href="http://www.google.de/search?as_q=System&amp;num=100&amp;hl=en&amp;as_occt=url&amp;as_sitesearch=java.sun.com%2Fj2se%2F1%2E5%2E0%2Fdocs%2Fapi%2F"><span class="kw3">System</span></a>.<span class="me1">currentTimeMillis</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">-</span> <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20start"><span class="kw8">start</span></a><br>&nbsp;<br>    <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20println"><span class="kw8">println</span></a> <span class="st0">"<span class="es0">\n</span><span class="es0">\n</span><span class="es0">\n</span>Elapsed Time: ${elapsed/1000.0} s"</span><br>    <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20println"><span class="kw8">println</span></a> <span class="st0">"Total Weight: ${totalWeight(packingList)}"</span><br>    <a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20println"><span class="kw8">println</span></a> <span class="st0">" Total Value: ${totalValue(packingList)}"</span><br>    packingList.<a href="http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20each"><span class="kw5">each</span></a> <span class="br0">{</span><br>        printf <span class="br0">(</span><span class="st0">"  item:&nbsp;%-25s  weight:%4d  value:%4d<span class="es0">\n</span>"</span>, it.<span class="me1">name</span>, it.<span class="me1">weight</span>, it.<span class="me1">value</span><span class="br0">)</span><br>    <span class="br0">}</span><br><span class="br0">}</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Elapsed Time: 132.267 s
Total Weight: 396
 Total Value: 1030
  item: map                        weight:   9  value: 150
  item: compass                    weight:  13  value:  35
  item: water                      weight: 153  value: 200
  item: sandwich                   weight:  50  value: 160
  item: glucose                    weight:  15  value:  60
  item: banana                     weight:  27  value:  60
  item: suntan cream               weight:  11  value:  70
  item: waterproof trousers        weight:  42  value:  70
  item: waterproof overclothes     weight:  43  value:  75
  item: note-case                  weight:  22  value:  80
  item: sunglasses                 weight:   7  value:  20
  item: socks                      weight:   4  value:  50



Elapsed Time: 0.27 s
Total Weight: 396
 Total Value: 1030
  item: map                        weight:   9  value: 150
  item: compass                    weight:  13  value:  35
  item: water                      weight: 153  value: 200
  item: sandwich                   weight:  50  value: 160
  item: glucose                    weight:  15  value:  60
  item: banana                     weight:  27  value:  60
  item: suntan cream               weight:  11  value:  70
  item: waterproof trousers        weight:  42  value:  70
  item: waterproof overclothes     weight:  43  value:  75
  item: note-case                  weight:  22  value:  80
  item: sunglasses                 weight:   7  value:  20
  item: socks                      weight:   4  value:  50</pre>
<h2><span class="mw-headline" id="Haskell"><a href="https://rosettacode.org/wiki/Category:Haskell" title="Category:Haskell">Haskell</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=35" title="Edit section: Haskell">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Brute force:
</p>
<pre class="haskell highlighted_source">inv <span class="sy0">=</span> <span class="br0">[</span><span class="br0">(</span><span class="st0">"map"</span><span class="sy0">,</span><span class="nu0">9</span><span class="sy0">,</span><span class="nu0">150</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"compass"</span><span class="sy0">,</span><span class="nu0">13</span><span class="sy0">,</span><span class="nu0">35</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"water"</span><span class="sy0">,</span><span class="nu0">153</span><span class="sy0">,</span><span class="nu0">200</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sandwich"</span><span class="sy0">,</span><span class="nu0">50</span><span class="sy0">,</span><span class="nu0">160</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"glucose"</span><span class="sy0">,</span><span class="nu0">15</span><span class="sy0">,</span><span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"tin"</span><span class="sy0">,</span><span class="nu0">68</span><span class="sy0">,</span><span class="nu0">45</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"banana"</span><span class="sy0">,</span><span class="nu0">27</span><span class="sy0">,</span><span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"apple"</span><span class="sy0">,</span><span class="nu0">39</span><span class="sy0">,</span><span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"cheese"</span><span class="sy0">,</span><span class="nu0">23</span><span class="sy0">,</span><span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"beer"</span><span class="sy0">,</span><span class="nu0">52</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"cream"</span><span class="sy0">,</span><span class="nu0">11</span><span class="sy0">,</span><span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"camera"</span><span class="sy0">,</span><span class="nu0">32</span><span class="sy0">,</span><span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"tshirt"</span><span class="sy0">,</span><span class="nu0">24</span><span class="sy0">,</span><span class="nu0">15</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="sy0">,</span><span class="nu0">48</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"umbrella"</span><span class="sy0">,</span><span class="nu0">73</span><span class="sy0">,</span><span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="sy0">,</span><span class="nu0">42</span><span class="sy0">,</span><span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"overclothes"</span><span class="sy0">,</span><span class="nu0">43</span><span class="sy0">,</span><span class="nu0">75</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"notecase"</span><span class="sy0">,</span><span class="nu0">22</span><span class="sy0">,</span><span class="nu0">80</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sunglasses"</span><span class="sy0">,</span><span class="nu0">7</span><span class="sy0">,</span><span class="nu0">20</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"towel"</span><span class="sy0">,</span><span class="nu0">18</span><span class="sy0">,</span><span class="nu0">12</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"socks"</span><span class="sy0">,</span><span class="nu0">4</span><span class="sy0">,</span><span class="nu0">50</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"book"</span><span class="sy0">,</span><span class="nu0">30</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><br>&nbsp;<br><span class="co1">-- get all combos of items under total weight sum; returns value sum and list</span><br>combs <span class="br0">[</span><span class="br0">]</span> <span class="sy0">_</span> <span class="sy0">=</span> <span class="br0">[</span> <span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> <span class="br0">]</span><br>combs <span class="br0">(</span><span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span>:rest<span class="br0">)</span> cap <span class="sy0">=</span> combs rest cap <span class="sy0">++</span> <br>		      <span class="kw1">if</span> w <span class="sy0">&gt;</span> cap <span class="kw1">then</span> <span class="br0">[</span><span class="br0">]</span> <span class="kw1">else</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:map"><span class="kw3">map</span></a> <span class="br0">(</span>prepend <span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span>combs rest <span class="br0">(</span>cap <span class="sy0">-</span> w<span class="br0">)</span><span class="br0">)</span><br>		      	<span class="kw1">where</span> prepend <span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span> <span class="br0">(</span>v2<span class="sy0">,</span> lst<span class="br0">)</span> <span class="sy0">=</span> <span class="br0">(</span>v2 <span class="sy0">+</span> v<span class="sy0">,</span> <span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span>:lst<span class="br0">)</span><br>&nbsp;<br>main <span class="sy0">=</span> <span class="kw1">do</span><br>	<a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStr"><span class="kw3">putStr</span></a> <span class="st0">"Total value: "</span>; <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:print"><span class="kw3">print</span></a> value<br>	<a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:mapM_"><span class="kw3">mapM_</span></a> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:print"><span class="kw3">print</span></a> items<br>		<span class="kw1">where</span> <span class="br0">(</span>value<span class="sy0">,</span> items<span class="br0">)</span> <span class="sy0">=</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:maximum"><span class="kw3">maximum</span></a> <span class="sy0">$</span> combs inv <span class="nu0">400</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Total value: 1030
("map",9,150)
("compass",13,35)
("water",153,200)
("sandwich",50,160)
("glucose",15,60)
("banana",27,60)
("cream",11,70)
("trousers",42,70)
("overclothes",43,75)
("notecase",22,80)
("sunglasses",7,20)
("socks",4,50)
</pre>
<p>Much faster brute force solution that computes the maximum before prepending, saving most of the prepends:
</p>
<pre class="haskell highlighted_source">inv <span class="sy0">=</span> <span class="br0">[</span><span class="br0">(</span><span class="st0">"map"</span><span class="sy0">,</span><span class="nu0">9</span><span class="sy0">,</span><span class="nu0">150</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"compass"</span><span class="sy0">,</span><span class="nu0">13</span><span class="sy0">,</span><span class="nu0">35</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"water"</span><span class="sy0">,</span><span class="nu0">153</span><span class="sy0">,</span><span class="nu0">200</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sandwich"</span><span class="sy0">,</span><span class="nu0">50</span><span class="sy0">,</span><span class="nu0">160</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"glucose"</span><span class="sy0">,</span><span class="nu0">15</span><span class="sy0">,</span><span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"tin"</span><span class="sy0">,</span><span class="nu0">68</span><span class="sy0">,</span><span class="nu0">45</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"banana"</span><span class="sy0">,</span><span class="nu0">27</span><span class="sy0">,</span><span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"apple"</span><span class="sy0">,</span><span class="nu0">39</span><span class="sy0">,</span><span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"cheese"</span><span class="sy0">,</span><span class="nu0">23</span><span class="sy0">,</span><span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"beer"</span><span class="sy0">,</span><span class="nu0">52</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"cream"</span><span class="sy0">,</span><span class="nu0">11</span><span class="sy0">,</span><span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"camera"</span><span class="sy0">,</span><span class="nu0">32</span><span class="sy0">,</span><span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"tshirt"</span><span class="sy0">,</span><span class="nu0">24</span><span class="sy0">,</span><span class="nu0">15</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="sy0">,</span><span class="nu0">48</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"umbrella"</span><span class="sy0">,</span><span class="nu0">73</span><span class="sy0">,</span><span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="sy0">,</span><span class="nu0">42</span><span class="sy0">,</span><span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"overclothes"</span><span class="sy0">,</span><span class="nu0">43</span><span class="sy0">,</span><span class="nu0">75</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"notecase"</span><span class="sy0">,</span><span class="nu0">22</span><span class="sy0">,</span><span class="nu0">80</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sunglasses"</span><span class="sy0">,</span><span class="nu0">7</span><span class="sy0">,</span><span class="nu0">20</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"towel"</span><span class="sy0">,</span><span class="nu0">18</span><span class="sy0">,</span><span class="nu0">12</span><span class="br0">)</span><span class="sy0">,</span><br>	<span class="br0">(</span><span class="st0">"socks"</span><span class="sy0">,</span><span class="nu0">4</span><span class="sy0">,</span><span class="nu0">50</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"book"</span><span class="sy0">,</span><span class="nu0">30</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><br>&nbsp;<br>combs <span class="br0">[</span><span class="br0">]</span> <span class="sy0">_</span> <span class="sy0">=</span> <span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">)</span><br>combs <span class="br0">(</span><span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span>:rest<span class="br0">)</span> cap<br>	<span class="sy0">|</span> w <span class="sy0">&lt;=</span> cap  <span class="sy0">=</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:max"><span class="kw3">max</span></a> skipthis <span class="sy0">$</span> prepend <span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span> <span class="br0">(</span>combs rest <span class="br0">(</span>cap <span class="sy0">-</span> w<span class="br0">)</span><span class="br0">)</span><br>	<span class="sy0">|</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:otherwise"><span class="kw3">otherwise</span></a> <span class="sy0">=</span> skipthis<br>	<span class="kw1">where</span>	prepend <span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span> <span class="br0">(</span>v2<span class="sy0">,</span> lst<span class="br0">)</span> <span class="sy0">=</span> <span class="br0">(</span>v2 <span class="sy0">+</span> v<span class="sy0">,</span> <span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span>:lst<span class="br0">)</span><br>		skipthis <span class="sy0">=</span> combs rest cap<br>&nbsp;<br>main <span class="sy0">=</span> <span class="kw1">do</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:print"><span class="kw3">print</span></a> <span class="sy0">$</span> combs inv <span class="nu0">400</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>(1030,[("map",9,150),("compass",13,35),("water",153,200),("sandwich",50,160),("glucose",15,60),("banana",27,60),("cream",11,70),("trousers",42,70),("overclothes",43,75),("notecase",22,80),("sunglasses",7,20),("socks",4,50)])</pre>
<p>Dynamic programming with a list for caching (this can be adapted to bounded problem easily):
</p>
<pre class="haskell highlighted_source">inv <span class="sy0">=</span> <span class="br0">[</span><span class="br0">(</span><span class="st0">"map"</span><span class="sy0">,</span><span class="nu0">9</span><span class="sy0">,</span><span class="nu0">150</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"compass"</span><span class="sy0">,</span><span class="nu0">13</span><span class="sy0">,</span><span class="nu0">35</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"water"</span><span class="sy0">,</span><span class="nu0">153</span><span class="sy0">,</span><span class="nu0">200</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sandwich"</span><span class="sy0">,</span><span class="nu0">50</span><span class="sy0">,</span><span class="nu0">160</span><span class="br0">)</span><span class="sy0">,</span><br>       <span class="br0">(</span><span class="st0">"glucose"</span><span class="sy0">,</span><span class="nu0">15</span><span class="sy0">,</span><span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"tin"</span><span class="sy0">,</span><span class="nu0">68</span><span class="sy0">,</span><span class="nu0">45</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"banana"</span><span class="sy0">,</span><span class="nu0">27</span><span class="sy0">,</span><span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"apple"</span><span class="sy0">,</span><span class="nu0">39</span><span class="sy0">,</span><span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>       <span class="br0">(</span><span class="st0">"cheese"</span><span class="sy0">,</span><span class="nu0">23</span><span class="sy0">,</span><span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"beer"</span><span class="sy0">,</span><span class="nu0">52</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"cream"</span><span class="sy0">,</span><span class="nu0">11</span><span class="sy0">,</span><span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"camera"</span><span class="sy0">,</span><span class="nu0">32</span><span class="sy0">,</span><span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span><br>       <span class="br0">(</span><span class="st0">"tshirt"</span><span class="sy0">,</span><span class="nu0">24</span><span class="sy0">,</span><span class="nu0">15</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="sy0">,</span><span class="nu0">48</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"umbrella"</span><span class="sy0">,</span><span class="nu0">73</span><span class="sy0">,</span><span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>       <span class="br0">(</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span><span class="nu0">42</span><span class="sy0">,</span><span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"overclothes"</span><span class="sy0">,</span><span class="nu0">43</span><span class="sy0">,</span><span class="nu0">75</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"notecase"</span><span class="sy0">,</span><span class="nu0">22</span><span class="sy0">,</span><span class="nu0">80</span><span class="br0">)</span><span class="sy0">,</span><br>       <span class="br0">(</span><span class="st0">"sunglasses"</span><span class="sy0">,</span><span class="nu0">7</span><span class="sy0">,</span><span class="nu0">20</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"towel"</span><span class="sy0">,</span><span class="nu0">18</span><span class="sy0">,</span><span class="nu0">12</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"socks"</span><span class="sy0">,</span><span class="nu0">4</span><span class="sy0">,</span><span class="nu0">50</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"book"</span><span class="sy0">,</span><span class="nu0">30</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><br>&nbsp;<br>knapsack <span class="sy0">=</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:foldr"><span class="kw3">foldr</span></a> addItem <span class="br0">(</span><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:repeat"><span class="kw3">repeat</span></a> <span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span><span class="br0">[</span><span class="br0">]</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">where</span><br>	addItem <span class="br0">(</span>name<span class="sy0">,</span>w<span class="sy0">,</span>v<span class="br0">)</span> list <span class="sy0">=</span> left <span class="sy0">++</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:zipWith"><span class="kw3">zipWith</span></a> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:max"><span class="kw3">max</span></a> right newlist <span class="kw1">where</span><br>		newlist <span class="sy0">=</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:map"><span class="kw3">map</span></a> <span class="br0">(</span>\<span class="br0">(</span>val<span class="sy0">,</span> names<span class="br0">)</span><span class="sy0">-&gt;</span><span class="br0">(</span>val <span class="sy0">+</span> v<span class="sy0">,</span> name:names<span class="br0">)</span><span class="br0">)</span> list<br>		<span class="br0">(</span>left<span class="sy0">,</span>right<span class="br0">)</span> <span class="sy0">=</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:splitAt"><span class="kw3">splitAt</span></a> w list<br>&nbsp;<br>main <span class="sy0">=</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:print"><span class="kw3">print</span></a> <span class="sy0">$</span> <span class="br0">(</span>knapsack inv<span class="br0">)</span> <span class="sy0">!!</span> <span class="nu0">400</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>(1030,["map","compass","water","sandwich","glucose","banana","cream","waterproof trousers","overclothes","notecase","sunglasses","socks"])
</pre>
<h2><span class="mw-headline" id="Icon_and_Unicon"><a href="https://rosettacode.org/wiki/Category:Icon" title="Category:Icon">Icon</a> and <a href="https://rosettacode.org/wiki/Category:Unicon" title="Category:Unicon">Unicon</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=36" title="Edit section: Icon and Unicon">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Translation from Wikipedia pseudo-code. Memoization can be enabled 
with a command line argument that causes the procedure definitions to be
 swapped which effectively hooks the procedure.
</p>
<pre class="icon highlighted_source"><span class="kw1">link</span> printf<br>&nbsp;<br><span class="kw2">global</span> wants                    <span class="co1"># items wanted for knapsack</span><br>&nbsp;<br><span class="kw1">procedure</span> main<span class="br0">(</span>A<span class="br0">)</span> <span class="co1"># kanpsack 0-1</span><br>   <span class="kw1">if</span> <span class="sy1">!</span>A <span class="sy1">==</span> <span class="br0">(</span><span class="st0">"--trace"</span><span class="sy1">|</span><span class="st0">"-t"</span><span class="br0">)</span> <span class="kw1">then</span> <span class="sy1">&amp;</span><span class="kw3">trace</span> <span class="sy1">:=</span> <span class="sy1">-</span><span class="nu0">1</span>     <span class="co1"># trace everything (debug)</span><br>   <span class="kw1">if</span> <span class="sy1">!</span>A <span class="sy1">==</span> <span class="br0">(</span><span class="st0">"--memoize"</span><span class="sy1">|</span><span class="st0">"-m"</span><span class="br0">)</span> <span class="kw1">then</span> m <span class="sy1">:=:</span> Memo_m   <span class="co1"># hook (swap) procedure</span><br>&nbsp;<br>   printf<span class="br0">(</span><span class="st0">"Knapsack-0-1: with maximum weight allowed=%d.<span class="es0">\n</span>"</span><span class="sy1">,</span>maxw  <span class="sy1">:=</span> <span class="nu0">400</span><span class="br0">)</span><br>   showwanted<span class="br0">(</span>wants <span class="sy1">:=</span> get_wants<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>   showcontents<span class="br0">(</span>bag <span class="sy1">:=</span> m<span class="br0">(</span><span class="sy1">*</span>wants<span class="sy1">,</span>maxw<span class="br0">)</span><span class="br0">)</span><br>   printf<span class="br0">(</span><span class="st0">"Performance: time=%d ms collections=%d<span class="es0">\n</span>"</span><span class="sy1">,&amp;</span><span class="kw3">time</span><span class="sy1">,&amp;</span><span class="kw3">collections</span><span class="br0">)</span><br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">record</span> packing<span class="br0">(</span>items<span class="sy1">,</span>weight<span class="sy1">,</span>value<span class="br0">)</span><br>&nbsp;<br><span class="kw1">procedure</span> Memo_m<span class="br0">(</span>i<span class="sy1">,</span>w<span class="br0">)</span>           <span class="co1">#: Hook procedure to memoize the knapsack </span><br><span class="kw2">static</span> memoT<br><span class="kw1">initial</span> memoT <span class="sy1">:=</span> <span class="kw4">table</span><span class="br0">(</span><span class="br0">)</span><br>   <span class="kw1">return</span> <span class="sy1">\</span>memoT<span class="br0">[</span>k <span class="sy1">:=</span> i<span class="sy1">||</span><span class="st0">","</span><span class="sy1">||</span>w<span class="br0">]</span> <span class="sy1">|</span> <span class="br0">(</span> memoT<span class="br0">[</span>k<span class="br0">]</span> <span class="sy1">:=</span> Memo_m<span class="br0">(</span>i<span class="sy1">,</span>w<span class="br0">)</span> <span class="br0">)</span><br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">procedure</span> m<span class="br0">(</span>i<span class="sy1">,</span>w<span class="br0">)</span>                <span class="co1">#: Solve the Knapsack 0-1 as per Wikipedia</span><br><span class="kw2">static</span> nil<br><span class="kw1">initial</span> nil <span class="sy1">:=</span> packing<span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="sy1">,</span><span class="nu0">0</span><span class="sy1">,</span><span class="nu0">0</span><span class="br0">)</span> <br>   <span class="kw1">if</span> <span class="nu0">0</span> <span class="sy1">=</span> <span class="br0">(</span>i <span class="sy1">|</span> w<span class="br0">)</span> <span class="kw1">then</span> <br>      <span class="kw1">return</span> nil          <br>   <span class="kw1">else</span> <span class="kw1">if</span> wants<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">weight</span> <span class="sy1">&gt;</span> w <span class="kw1">then</span><br>           <span class="kw1">return</span> m<span class="br0">(</span>i<span class="sy1">-</span><span class="nu0">1</span><span class="sy1">,</span> w<span class="br0">)</span><br>        <span class="kw1">else</span> <span class="br0">{</span><br>            x0 <span class="sy1">:=</span> m<span class="br0">(</span>i<span class="sy1">-</span><span class="nu0">1</span><span class="sy1">,</span>w<span class="br0">)</span><br>            x1 <span class="sy1">:=</span> m<span class="br0">(</span>i<span class="sy1">-</span><span class="nu0">1</span><span class="sy1">,</span>w<span class="sy1">-</span>wants<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">weight</span><span class="br0">)</span>  <br>            <span class="kw1">if</span> <span class="br0">(</span> x1<span class="sy1">.</span><span class="me1">value</span> <span class="sy1">+</span> wants<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">value</span><span class="br0">)</span> <span class="sy1">&gt;</span> x0<span class="sy1">.</span><span class="me1">value</span> <span class="kw1">then</span> <br>               <span class="kw1">return</span> packing<span class="br0">(</span>x1<span class="sy1">.</span><span class="me1">items</span> <span class="sy1">|||</span> wants<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">items</span><span class="sy1">,</span>    <br>                              x1<span class="sy1">.</span><span class="me1">weight</span> <span class="sy1">+</span> wants<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">weight</span><span class="sy1">,</span> <br>                              x1<span class="sy1">.</span><span class="me1">value</span> <span class="sy1">+</span> wants<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">value</span><span class="br0">)</span><br>            <span class="kw1">else</span><br>               <span class="kw1">return</span> x0<br>        <span class="br0">}</span><br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">procedure</span> showwanted<span class="br0">(</span>wants<span class="br0">)</span>     <span class="co1">#: show the list of wanted items</span><br>   <span class="kw1">every</span> <span class="br0">(</span>tw <span class="sy1">:=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="sy1">+:=</span> <span class="br0">(</span><span class="sy1">!</span>wants<span class="br0">)</span><span class="sy1">.</span><span class="me1">weight</span><br>   printf<span class="br0">(</span><span class="st0">"Packing list has total weight=%d and includes&nbsp;%d items ["</span><span class="sy1">,</span>tw<span class="sy1">,*</span>wants<span class="br0">)</span><br>   <span class="kw1">every</span> printf<span class="br0">(</span><span class="st0">"&nbsp;%s"</span><span class="sy1">,!</span><span class="br0">(</span><span class="sy1">!</span>wants<span class="br0">)</span><span class="sy1">.</span><span class="me1">items</span><span class="sy1">|</span><span class="st0">"]<span class="es0">\n</span>"</span><span class="br0">)</span>   <br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">procedure</span> showcontents<span class="br0">(</span>bag<span class="br0">)</span>     <span class="co1">#: show the list of the packed bag</span><br>   printf<span class="br0">(</span><span class="st0">"The bag weighs=%d holding&nbsp;%d items ["</span><span class="sy1">,</span>bag<span class="sy1">.</span><span class="me1">weight</span><span class="sy1">,*</span>bag<span class="sy1">.</span><span class="me1">items</span><span class="br0">)</span><br>   <span class="kw1">every</span> printf<span class="br0">(</span><span class="st0">"&nbsp;%s"</span><span class="sy1">,!</span>bag<span class="sy1">.</span><span class="me1">items</span><span class="sy1">|</span><span class="st0">"]<span class="es0">\n</span>"</span><span class="br0">)</span>   <br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">procedure</span> get_wants<span class="br0">(</span><span class="br0">)</span>           <span class="co1">#: setup list of wanted items</span><br>   <span class="kw1">return</span>  <span class="br0">[</span> packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"map"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">9</span><span class="sy1">,</span> <span class="nu0">150</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"compass"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">13</span><span class="sy1">,</span> <span class="nu0">35</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"water"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">153</span><span class="sy1">,</span> <span class="nu0">200</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"sandwich"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">50</span><span class="sy1">,</span> <span class="nu0">160</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"glucose"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">15</span><span class="sy1">,</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"tin"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">68</span><span class="sy1">,</span> <span class="nu0">45</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"banana"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">27</span><span class="sy1">,</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"apple"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">39</span><span class="sy1">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"cheese"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">23</span><span class="sy1">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"beer"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">52</span><span class="sy1">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"suntan cream"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">11</span><span class="sy1">,</span> <span class="nu0">70</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"camera"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">32</span><span class="sy1">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"T-shirt"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">24</span><span class="sy1">,</span> <span class="nu0">15</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"trousers"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">48</span><span class="sy1">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"umbrella"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">73</span><span class="sy1">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"waterproof trousers"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">42</span><span class="sy1">,</span> <span class="nu0">70</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"waterproof overclothes"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">43</span><span class="sy1">,</span> <span class="nu0">75</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"note-case"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">22</span><span class="sy1">,</span> <span class="nu0">80</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"sunglasses"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">7</span><span class="sy1">,</span> <span class="nu0">20</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"towel"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">18</span><span class="sy1">,</span> <span class="nu0">12</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"socks"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">4</span><span class="sy1">,</span> <span class="nu0">50</span><span class="br0">)</span><span class="sy1">,</span><br>             packing<span class="br0">(</span><span class="br0">[</span><span class="st0">"book"</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">30</span><span class="sy1">,</span> <span class="nu0">10</span><span class="br0">)</span> <span class="br0">]</span><br><span class="kw1">end</span></pre>
<div class="examplemeta libheader"><b>Library:</b> <a href="https://rosettacode.org/wiki/Category:Icon_Programming_Library" title="Category:Icon Programming Library">Icon Programming Library</a></div>
<p><a rel="nofollow" class="external text" href="http://www.cs.arizona.edu/icon/library/src/procs/printf.icn">printf.icn provides printf</a>
</p>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Knapsack-0-1: with maximum weight allowed=400.
Packing list has total weight=803 and includes 22 items [ map compass water sandwich glucose tin banana apple cheese beer suntan cream camera T-shirt trousers umbrella waterproof trousers waterproof overclothes note-case sunglasses towel socks book ]
The bag weighs=396 holding 12 items [ map compass water sandwich glucose banana suntan cream waterproof trousers waterproof overclothes note-case sunglasses socks ]
Performance: time=37 ms collections=0
</pre>
<p>The above shows memoized performance. Un-memoized results on the same PC took time=9728 ms collections=4.
</p>
<h2><span class="mw-headline" id="J"><a href="https://rosettacode.org/wiki/Category:J" title="Category:J">J</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=37" title="Edit section: J">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Static solution:
</p>
<pre class="j highlighted_source"><span class="st_h">'names values'</span>=:|:".;.<span class="nu0">_2</span>]<span class="nu0">0</span>&nbsp;:<span class="nu0">0</span><br>  <span class="st_h">'map'</span>;                       <span class="nu0">9</span>         <span class="nu0">150</span><br>  <span class="st_h">'compass'</span>;                  <span class="nu0">13</span>          <span class="nu0">35</span><br>  <span class="st_h">'water'</span>;                   <span class="nu0">153</span>         <span class="nu0">200</span><br>  <span class="st_h">'sandwich'</span>;                 <span class="nu0">50</span>         <span class="nu0">160</span><br>  <span class="st_h">'glucose'</span>;                  <span class="nu0">15</span>          <span class="nu0">60</span><br>  <span class="st_h">'tin'</span>;                      <span class="nu0">68</span>          <span class="nu0">45</span><br>  <span class="st_h">'banana'</span>;                   <span class="nu0">27</span>          <span class="nu0">60</span><br>  <span class="st_h">'apple'</span>;                    <span class="nu0">39</span>          <span class="nu0">40</span><br>  <span class="st_h">'cheese'</span>;                   <span class="nu0">23</span>          <span class="nu0">30</span><br>  <span class="st_h">'beer'</span>;                     <span class="nu0">52</span>          <span class="nu0">10</span><br>  <span class="st_h">'suntan cream'</span>;             <span class="nu0">11</span>          <span class="nu0">70</span><br>  <span class="st_h">'camera'</span>;                   <span class="nu0">32</span>          <span class="nu0">30</span><br>  <span class="st_h">'tshirt'</span>;                   <span class="nu0">24</span>          <span class="nu0">15</span><br>  <span class="st_h">'trousers'</span>;                 <span class="nu0">48</span>          <span class="nu0">10</span><br>  <span class="st_h">'umbrella'</span>;                 <span class="nu0">73</span>          <span class="nu0">40</span><br>  <span class="st_h">'waterproof trousers'</span>;      <span class="nu0">42</span>          <span class="nu0">70</span><br>  <span class="st_h">'waterproof overclothes'</span>;   <span class="nu0">43</span>          <span class="nu0">75</span><br>  <span class="st_h">'notecase'</span>;                 <span class="nu0">22</span>          <span class="nu0">80</span><br>  <span class="st_h">'sunglasses'</span>;                <span class="nu0">7</span>          <span class="nu0">20</span><br>  <span class="st_h">'towel'</span>;                    <span class="nu0">18</span>          <span class="nu0">12</span><br>  <span class="st_h">'socks'</span>;                     <span class="nu0">4</span>          <span class="nu0">50</span><br>  <span class="st_h">'book'</span>;                     <span class="nu0">30</span>          <span class="nu0">10</span><br><span class="sy0">)</span><br>&nbsp;<br>X=: +/ .*"<span class="nu0">1</span><br>plausible=: <span class="sy0">(</span>] <span class="sy0">(</span>] #~ <span class="nu0">400</span> &gt;: X<span class="sy0">)</span> #:@i.@<span class="sy0">(</span><span class="nu0">2</span>&amp;^<span class="sy0">)</span>@#<span class="sy0">)</span>@:<span class="sy0">(</span>{."<span class="nu0">1</span><span class="sy0">)</span><br>best=: <span class="sy0">(</span>plausible <span class="sy0">(</span>[ {~  [ <span class="sy0">(</span>i. &gt;./<span class="sy0">)</span>@:X {:"<span class="nu0">1</span>@]<span class="sy0">)</span> ]<span class="sy0">)</span> values</pre>
<p>Illustration of answer:
</p>
<pre class="j highlighted_source">   +/best#values  <span class="co1">NB. total weight and value</span><br><span class="nu0">396</span> <span class="nu0">1030</span><br>   best#names<br>map                   <br>compass               <br>water                 <br>sandwich              <br>glucose               <br>banana                <br>suntan cream          <br>waterproof trousers   <br>waterproof overclothes<br>notecase              <br>sunglasses            <br>socks   </pre>
<p><b>Alternative test case</b>
</p>
<pre class="j highlighted_source"><span class="st_h">'names values'</span>=:|:".;.<span class="nu0">_2</span>]<span class="nu0">0</span>&nbsp;:<span class="nu0">0</span><br>    <span class="st_h">'sunscreen'</span>; <span class="nu0">15</span> <span class="nu0">2</span><br>    <span class="st_h">'GPS'</span>; <span class="nu0">25</span> <span class="nu0">2</span><br>    <span class="st_h">'beer'</span>; <span class="nu0">35</span> <span class="nu0">3</span><br><span class="sy0">)</span><br>&nbsp;<br>X=: +/ .*"<span class="nu0">1</span><br>plausible=: <span class="sy0">(</span>] <span class="sy0">(</span>] #~ <span class="nu0">40</span> &gt;: X<span class="sy0">)</span> #:@i.@<span class="sy0">(</span><span class="nu0">2</span>&amp;^<span class="sy0">)</span>@#<span class="sy0">)</span>@:<span class="sy0">(</span>{."<span class="nu0">1</span><span class="sy0">)</span><br>best=: <span class="sy0">(</span>plausible <span class="sy0">(</span>[ {~  [ <span class="sy0">(</span>i. &gt;./<span class="sy0">)</span>@:X {:"<span class="nu0">1</span>@]<span class="sy0">)</span> ]<span class="sy0">)</span> values</pre>
<p>Illustration:
</p>
<pre class="j highlighted_source">   +/best#values<br><span class="nu0">40</span> <span class="nu0">4</span><br>   best#names<br>sunscreen<br>GPS   </pre>
<h2><span class="mw-headline" id="Java"><a href="https://rosettacode.org/wiki/Category:Java" title="Category:Java">Java</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=38" title="Edit section: Java">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>General dynamic solution after <a href="http://en.wikipedia.org/wiki/Knapsack_problem#0-1_knapsack_problem" class="extiw" title="wp:Knapsack problem">wikipedia</a>.
</p>
<pre class="java highlighted_source"><span class="kw1">package</span> <span class="co2">hu.pj.alg.test</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">import</span> <span class="co2">hu.pj.alg.ZeroOneKnapsack</span><span class="sy0">;</span><br><span class="kw1">import</span> <span class="co2">hu.pj.obj.Item</span><span class="sy0">;</span><br><span class="kw1">import</span> <span class="co2">java.util.*</span><span class="sy0">;</span><br><span class="kw1">import</span> <span class="co2">java.text.*</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">public</span> <span class="kw1">class</span> ZeroOneKnapsackForTourists <span class="br0">{</span><br>&nbsp;<br>    <span class="kw1">public</span> ZeroOneKnapsackForTourists<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>        ZeroOneKnapsack zok <span class="sy0">=</span> <span class="kw1">new</span> ZeroOneKnapsack<span class="br0">(</span><span class="nu0">400</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// 400 dkg = 400 dag = 4 kg</span><br>&nbsp;<br>        <span class="co1">// making the list of items that you want to bring</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"map"</span>, <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"compass"</span>, <span class="nu0">13</span>, <span class="nu0">35</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"water"</span>, <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"sandwich"</span>, <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"glucose"</span>, <span class="nu0">15</span>, <span class="nu0">60</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"tin"</span>, <span class="nu0">68</span>, <span class="nu0">45</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"banana"</span>, <span class="nu0">27</span>, <span class="nu0">60</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"apple"</span>, <span class="nu0">39</span>, <span class="nu0">40</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"cheese"</span>, <span class="nu0">23</span>, <span class="nu0">30</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"beer"</span>, <span class="nu0">52</span>, <span class="nu0">10</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"suntan cream"</span>, <span class="nu0">11</span>, <span class="nu0">70</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"camera"</span>, <span class="nu0">32</span>, <span class="nu0">30</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"t-shirt"</span>, <span class="nu0">24</span>, <span class="nu0">15</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"trousers"</span>, <span class="nu0">48</span>, <span class="nu0">10</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"umbrella"</span>, <span class="nu0">73</span>, <span class="nu0">40</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"waterproof trousers"</span>, <span class="nu0">42</span>, <span class="nu0">70</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"waterproof overclothes"</span>, <span class="nu0">43</span>, <span class="nu0">75</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"note-case"</span>, <span class="nu0">22</span>, <span class="nu0">80</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"sunglasses"</span>, <span class="nu0">7</span>, <span class="nu0">20</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"towel"</span>, <span class="nu0">18</span>, <span class="nu0">12</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"socks"</span>, <span class="nu0">4</span>, <span class="nu0">50</span><span class="br0">)</span><span class="sy0">;</span><br>        zok.<span class="me1">add</span><span class="br0">(</span><span class="st0">"book"</span>, <span class="nu0">30</span>, <span class="nu0">10</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        <span class="co1">// calculate the solution:</span><br>        List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> itemList <span class="sy0">=</span> zok.<span class="me1">calcSolution</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        <span class="co1">// write out the solution in the standard output</span><br>        <span class="kw1">if</span> <span class="br0">(</span>zok.<span class="me1">isCalculated</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Anumberformat+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">NumberFormat</span></a> nf  <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Anumberformat+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">NumberFormat</span></a>.<span class="me1">getInstance</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><br>                <span class="st0">"Maximal weight           = "</span> <span class="sy0">+</span><br>                nf.<span class="me1">format</span><span class="br0">(</span>zok.<span class="me1">getMaxWeight</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">100.0</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">" kg"</span><br>            <span class="br0">)</span><span class="sy0">;</span><br>            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><br>                <span class="st0">"Total weight of solution = "</span> <span class="sy0">+</span><br>                nf.<span class="me1">format</span><span class="br0">(</span>zok.<span class="me1">getSolutionWeight</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">100.0</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">" kg"</span><br>            <span class="br0">)</span><span class="sy0">;</span><br>            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><br>                <span class="st0">"Total value              = "</span> <span class="sy0">+</span><br>                zok.<span class="me1">getProfit</span><span class="br0">(</span><span class="br0">)</span><br>            <span class="br0">)</span><span class="sy0">;</span><br>            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><br>                <span class="st0">"You can carry the following materials "</span> <span class="sy0">+</span><br>                <span class="st0">"in the knapsack:"</span><br>            <span class="br0">)</span><span class="sy0">;</span><br>            <span class="kw1">for</span> <span class="br0">(</span>Item item <span class="sy0">:</span> itemList<span class="br0">)</span> <span class="br0">{</span><br>                <span class="kw1">if</span> <span class="br0">(</span>item.<span class="me1">getInKnapsack</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">1</span><span class="br0">)</span> <span class="br0">{</span><br>                    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">format</span><span class="br0">(</span><br>                        <span class="st0">"%1$-23s&nbsp;%2$-3s&nbsp;%3$-5s&nbsp;%4$-15s <span class="es0">\n</span>"</span>,<br>                        item.<span class="me1">getName</span><span class="br0">(</span><span class="br0">)</span>,<br>                        item.<span class="me1">getWeight</span><span class="br0">(</span><span class="br0">)</span>, <span class="st0">"dag  "</span>,<br>                        <span class="st0">"(value = "</span> <span class="sy0">+</span> item.<span class="me1">getValue</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">")"</span><br>                    <span class="br0">)</span><span class="sy0">;</span><br>                <span class="br0">}</span><br>            <span class="br0">}</span><br>        <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><br>                <span class="st0">"The problem is not solved. "</span> <span class="sy0">+</span><br>                <span class="st0">"Maybe you gave wrong data."</span><br>            <span class="br0">)</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>&nbsp;<br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">[</span><span class="br0">]</span> args<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">new</span> ZeroOneKnapsackForTourists<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br><span class="br0">}</span> <span class="co1">// class</span></pre>
<pre class="java highlighted_source"><span class="kw1">package</span> <span class="co2">hu.pj.alg</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">import</span> <span class="co2">hu.pj.obj.Item</span><span class="sy0">;</span><br><span class="kw1">import</span> <span class="co2">java.util.*</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">public</span> <span class="kw1">class</span> ZeroOneKnapsack <span class="br0">{</span><br>&nbsp;<br>    <span class="kw1">protected</span> List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> itemList  <span class="sy0">=</span> <span class="kw1">new</span> ArrayList<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">protected</span> <span class="kw4">int</span> maxWeight        <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="kw1">protected</span> <span class="kw4">int</span> solutionWeight   <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="kw1">protected</span> <span class="kw4">int</span> profit           <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="kw1">protected</span> <span class="kw4">boolean</span> calculated   <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">public</span> ZeroOneKnapsack<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> ZeroOneKnapsack<span class="br0">(</span><span class="kw4">int</span> _maxWeight<span class="br0">)</span> <span class="br0">{</span><br>        setMaxWeight<span class="br0">(</span>_maxWeight<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> ZeroOneKnapsack<span class="br0">(</span>List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> _itemList<span class="br0">)</span> <span class="br0">{</span><br>        setItemList<span class="br0">(</span>_itemList<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> ZeroOneKnapsack<span class="br0">(</span>List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> _itemList, <span class="kw4">int</span> _maxWeight<span class="br0">)</span> <span class="br0">{</span><br>        setItemList<span class="br0">(</span>_itemList<span class="br0">)</span><span class="sy0">;</span><br>        setMaxWeight<span class="br0">(</span>_maxWeight<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="co1">// calculte the solution of 0-1 knapsack problem with dynamic method:</span><br>    <span class="kw1">public</span> List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> calcSolution<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw4">int</span> n <span class="sy0">=</span> itemList.<span class="me1">size</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        setInitialStateForCalculation<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">if</span> <span class="br0">(</span>n <span class="sy0">&gt;</span> <span class="nu0">0</span>  <span class="sy0">&amp;&amp;</span>  maxWeight <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>            List<span class="sy0">&lt;</span> List<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span> <span class="sy0">&gt;</span> c <span class="sy0">=</span> <span class="kw1">new</span> ArrayList<span class="sy0">&lt;</span> List<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span> <span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>            List<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span> curr <span class="sy0">=</span> <span class="kw1">new</span> ArrayList<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>            c.<span class="me1">add</span><span class="br0">(</span>curr<span class="br0">)</span><span class="sy0">;</span><br>            <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&lt;=</span> maxWeight<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">)</span><br>                curr.<span class="me1">add</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><br>            <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;=</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>                List<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span> prev <span class="sy0">=</span> curr<span class="sy0">;</span><br>                c.<span class="me1">add</span><span class="br0">(</span>curr <span class="sy0">=</span> <span class="kw1">new</span> ArrayList<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>                <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&lt;=</span> maxWeight<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>                    <span class="kw1">if</span> <span class="br0">(</span>j <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>                        <span class="kw4">int</span> wH <span class="sy0">=</span> itemList.<span class="me1">get</span><span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>.<span class="me1">getWeight</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>                        curr.<span class="me1">add</span><span class="br0">(</span><br>                            <span class="br0">(</span>wH <span class="sy0">&gt;</span> j<span class="br0">)</span><br>                            <span class="sy0">?</span><br>                            prev.<span class="me1">get</span><span class="br0">(</span>j<span class="br0">)</span><br>                            <span class="sy0">:</span><br>                            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Math</span></a>.<span class="me1">max</span><span class="br0">(</span><br>                                prev.<span class="me1">get</span><span class="br0">(</span>j<span class="br0">)</span>,<br>                                itemList.<span class="me1">get</span><span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>.<span class="me1">getValue</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">+</span> prev.<span class="me1">get</span><span class="br0">(</span>j<span class="sy0">-</span>wH<span class="br0">)</span><br>                            <span class="br0">)</span><br>                        <span class="br0">)</span><span class="sy0">;</span><br>                    <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>                        curr.<span class="me1">add</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><br>                    <span class="br0">}</span><br>                <span class="br0">}</span> <span class="co1">// for (j...)</span><br>            <span class="br0">}</span> <span class="co1">// for (i...)</span><br>            profit <span class="sy0">=</span> curr.<span class="me1">get</span><span class="br0">(</span>maxWeight<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>            <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> n, j <span class="sy0">=</span> maxWeight<span class="sy0">;</span> i <span class="sy0">&gt;</span> <span class="nu0">0</span>  <span class="sy0">&amp;&amp;</span>  j <span class="sy0">&gt;=</span> <span class="nu0">0</span><span class="sy0">;</span> i<span class="sy0">--</span><span class="br0">)</span> <span class="br0">{</span><br>                <span class="kw4">int</span> tempI   <span class="sy0">=</span> c.<span class="me1">get</span><span class="br0">(</span>i<span class="br0">)</span>.<span class="me1">get</span><span class="br0">(</span>j<span class="br0">)</span><span class="sy0">;</span><br>                <span class="kw4">int</span> tempI_1 <span class="sy0">=</span> c.<span class="me1">get</span><span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>.<span class="me1">get</span><span class="br0">(</span>j<span class="br0">)</span><span class="sy0">;</span><br>                <span class="kw1">if</span> <span class="br0">(</span><br>                    <span class="br0">(</span>i <span class="sy0">==</span> <span class="nu0">0</span>  <span class="sy0">&amp;&amp;</span>  tempI <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span><br>                    <span class="sy0">||</span><br>                    <span class="br0">(</span>i <span class="sy0">&gt;</span> <span class="nu0">0</span>  <span class="sy0">&amp;&amp;</span>  tempI <span class="sy0">!=</span> tempI_1<span class="br0">)</span><br>                <span class="br0">)</span><br>                <span class="br0">{</span><br>                    Item iH <span class="sy0">=</span> itemList.<span class="me1">get</span><span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>                    <span class="kw4">int</span>  wH <span class="sy0">=</span> iH.<span class="me1">getWeight</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>                    iH.<span class="me1">setInKnapsack</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>                    j <span class="sy0">-=</span> wH<span class="sy0">;</span><br>                    solutionWeight <span class="sy0">+=</span> wH<span class="sy0">;</span><br>                <span class="br0">}</span><br>            <span class="br0">}</span> <span class="co1">// for()</span><br>            calculated <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span><br>        <span class="br0">}</span> <span class="co1">// if()</span><br>        <span class="kw1">return</span> itemList<span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="co1">// add an item to the item list</span><br>    <span class="kw1">public</span> <span class="kw4">void</span> add<span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> name, <span class="kw4">int</span> weight, <span class="kw4">int</span> value<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span>name.<span class="me1">equals</span><span class="br0">(</span><span class="st0">""</span><span class="br0">)</span><span class="br0">)</span><br>            name <span class="sy0">=</span> <span class="st0">""</span> <span class="sy0">+</span> <span class="br0">(</span>itemList.<span class="me1">size</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>        itemList.<span class="me1">add</span><span class="br0">(</span><span class="kw1">new</span> Item<span class="br0">(</span>name, weight, value<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>        setInitialStateForCalculation<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="co1">// add an item to the item list</span><br>    <span class="kw1">public</span> <span class="kw4">void</span> add<span class="br0">(</span><span class="kw4">int</span> weight, <span class="kw4">int</span> value<span class="br0">)</span> <span class="br0">{</span><br>        add<span class="br0">(</span><span class="st0">""</span>, weight, value<span class="br0">)</span><span class="sy0">;</span> <span class="co1">// the name will be "itemList.size() + 1"!</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="co1">// remove an item from the item list</span><br>    <span class="kw1">public</span> <span class="kw4">void</span> remove<span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> name<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">for</span> <span class="br0">(</span>Iterator<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> it <span class="sy0">=</span> itemList.<span class="me1">iterator</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> it.<span class="me1">hasNext</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> <span class="br0">)</span> <span class="br0">{</span><br>            <span class="kw1">if</span> <span class="br0">(</span>name.<span class="me1">equals</span><span class="br0">(</span>it.<span class="me1">next</span><span class="br0">(</span><span class="br0">)</span>.<span class="me1">getName</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>                it.<span class="me1">remove</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>        <span class="br0">}</span><br>        setInitialStateForCalculation<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="co1">// remove all items from the item list</span><br>    <span class="kw1">public</span> <span class="kw4">void</span> removeAllItems<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>        itemList.<span class="me1">clear</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>        setInitialStateForCalculation<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">int</span> getProfit<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span>calculated<span class="br0">)</span><br>            calcSolution<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">return</span> profit<span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">int</span> getSolutionWeight<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="kw1">return</span> solutionWeight<span class="sy0">;</span><span class="br0">}</span><br>    <span class="kw1">public</span> <span class="kw4">boolean</span> isCalculated<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="kw1">return</span> calculated<span class="sy0">;</span><span class="br0">}</span><br>    <span class="kw1">public</span> <span class="kw4">int</span> getMaxWeight<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="kw1">return</span> maxWeight<span class="sy0">;</span><span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">void</span> setMaxWeight<span class="br0">(</span><span class="kw4">int</span> _maxWeight<span class="br0">)</span> <span class="br0">{</span><br>        maxWeight <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Math</span></a>.<span class="me1">max</span><span class="br0">(</span>_maxWeight, <span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">void</span> setItemList<span class="br0">(</span>List<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span> _itemList<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span>_itemList <span class="sy0">!=</span> <span class="kw2">null</span><span class="br0">)</span> <span class="br0">{</span><br>            itemList <span class="sy0">=</span> _itemList<span class="sy0">;</span><br>            <span class="kw1">for</span> <span class="br0">(</span>Item item <span class="sy0">:</span> _itemList<span class="br0">)</span> <span class="br0">{</span><br>                item.<span class="me1">checkMembers</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="co1">// set the member with name "inKnapsack" by all items:</span><br>    <span class="kw1">private</span> <span class="kw4">void</span> setInKnapsackByAll<span class="br0">(</span><span class="kw4">int</span> inKnapsack<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">for</span> <span class="br0">(</span>Item item <span class="sy0">:</span> itemList<span class="br0">)</span><br>            <span class="kw1">if</span> <span class="br0">(</span>inKnapsack <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span><br>                item.<span class="me1">setInKnapsack</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>            <span class="kw1">else</span><br>                item.<span class="me1">setInKnapsack</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="co1">// set the data members of class in the state of starting the calculation:</span><br>    <span class="kw1">protected</span> <span class="kw4">void</span> setInitialStateForCalculation<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>        setInKnapsackByAll<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><br>        calculated     <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span><br>        profit         <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>        solutionWeight <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br><span class="br0">}</span> <span class="co1">// class</span></pre>
<pre class="java highlighted_source"><span class="kw1">package</span> <span class="co2">hu.pj.obj</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">public</span> <span class="kw1">class</span> Item <span class="br0">{</span><br>&nbsp;<br>    <span class="kw1">protected</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> name    <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span><br>    <span class="kw1">protected</span> <span class="kw4">int</span> weight     <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="kw1">protected</span> <span class="kw4">int</span> value      <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="kw1">protected</span> <span class="kw4">int</span> bounding   <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> <span class="co1">// the maximal limit of item's pieces</span><br>    <span class="kw1">protected</span> <span class="kw4">int</span> inKnapsack <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> <span class="co1">// the pieces of item in solution</span><br>&nbsp;<br>    <span class="kw1">public</span> Item<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> Item<span class="br0">(</span>Item item<span class="br0">)</span> <span class="br0">{</span><br>        setName<span class="br0">(</span>item.<span class="me1">name</span><span class="br0">)</span><span class="sy0">;</span><br>        setWeight<span class="br0">(</span>item.<span class="me1">weight</span><span class="br0">)</span><span class="sy0">;</span><br>        setValue<span class="br0">(</span>item.<span class="me1">value</span><span class="br0">)</span><span class="sy0">;</span><br>        setBounding<span class="br0">(</span>item.<span class="me1">bounding</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> Item<span class="br0">(</span><span class="kw4">int</span> _weight, <span class="kw4">int</span> _value<span class="br0">)</span> <span class="br0">{</span><br>        setWeight<span class="br0">(</span>_weight<span class="br0">)</span><span class="sy0">;</span><br>        setValue<span class="br0">(</span>_value<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> Item<span class="br0">(</span><span class="kw4">int</span> _weight, <span class="kw4">int</span> _value, <span class="kw4">int</span> _bounding<span class="br0">)</span> <span class="br0">{</span><br>        setWeight<span class="br0">(</span>_weight<span class="br0">)</span><span class="sy0">;</span><br>        setValue<span class="br0">(</span>_value<span class="br0">)</span><span class="sy0">;</span><br>        setBounding<span class="br0">(</span>_bounding<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> Item<span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> _name, <span class="kw4">int</span> _weight, <span class="kw4">int</span> _value<span class="br0">)</span> <span class="br0">{</span><br>        setName<span class="br0">(</span>_name<span class="br0">)</span><span class="sy0">;</span><br>        setWeight<span class="br0">(</span>_weight<span class="br0">)</span><span class="sy0">;</span><br>        setValue<span class="br0">(</span>_value<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> Item<span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> _name, <span class="kw4">int</span> _weight, <span class="kw4">int</span> _value, <span class="kw4">int</span> _bounding<span class="br0">)</span> <span class="br0">{</span><br>        setName<span class="br0">(</span>_name<span class="br0">)</span><span class="sy0">;</span><br>        setWeight<span class="br0">(</span>_weight<span class="br0">)</span><span class="sy0">;</span><br>        setValue<span class="br0">(</span>_value<span class="br0">)</span><span class="sy0">;</span><br>        setBounding<span class="br0">(</span>_bounding<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">void</span> setName<span class="br0">(</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> _name<span class="br0">)</span> <span class="br0">{</span>name <span class="sy0">=</span> _name<span class="sy0">;</span><span class="br0">}</span><br>    <span class="kw1">public</span> <span class="kw4">void</span> setWeight<span class="br0">(</span><span class="kw4">int</span> _weight<span class="br0">)</span> <span class="br0">{</span>weight <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Math</span></a>.<span class="me1">max</span><span class="br0">(</span>_weight, <span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><span class="br0">}</span><br>    <span class="kw1">public</span> <span class="kw4">void</span> setValue<span class="br0">(</span><span class="kw4">int</span> _value<span class="br0">)</span> <span class="br0">{</span>value <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Math</span></a>.<span class="me1">max</span><span class="br0">(</span>_value, <span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">void</span> setInKnapsack<span class="br0">(</span><span class="kw4">int</span> _inKnapsack<span class="br0">)</span> <span class="br0">{</span><br>        inKnapsack <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Math</span></a>.<span class="me1">min</span><span class="br0">(</span>getBounding<span class="br0">(</span><span class="br0">)</span>, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Math</span></a>.<span class="me1">max</span><span class="br0">(</span>_inKnapsack, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">void</span> setBounding<span class="br0">(</span><span class="kw4">int</span> _bounding<span class="br0">)</span> <span class="br0">{</span><br>        bounding <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Math</span></a>.<span class="me1">max</span><span class="br0">(</span>_bounding, <span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">if</span> <span class="br0">(</span>bounding <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span><br>            inKnapsack <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">void</span> checkMembers<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>        setWeight<span class="br0">(</span>weight<span class="br0">)</span><span class="sy0">;</span><br>        setValue<span class="br0">(</span>value<span class="br0">)</span><span class="sy0">;</span><br>        setBounding<span class="br0">(</span>bounding<span class="br0">)</span><span class="sy0">;</span><br>        setInKnapsack<span class="br0">(</span>inKnapsack<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> getName<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="kw1">return</span> name<span class="sy0">;</span><span class="br0">}</span><br>    <span class="kw1">public</span> <span class="kw4">int</span> getWeight<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="kw1">return</span> weight<span class="sy0">;</span><span class="br0">}</span><br>    <span class="kw1">public</span> <span class="kw4">int</span> getValue<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="kw1">return</span> value<span class="sy0">;</span><span class="br0">}</span><br>    <span class="kw1">public</span> <span class="kw4">int</span> getInKnapsack<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="kw1">return</span> inKnapsack<span class="sy0">;</span><span class="br0">}</span><br>    <span class="kw1">public</span> <span class="kw4">int</span> getBounding<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="kw1">return</span> bounding<span class="sy0">;</span><span class="br0">}</span><br>&nbsp;<br><span class="br0">}</span> <span class="co1">// class</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Maximal weight           = 4 kg
Total weight of solution = 3,96 kg
Total value              = 1030

You can carry te following materials in the knapsack:
map                     9   dag   (value = 150)   
compass                 13  dag   (value = 35)    
water                   153 dag   (value = 200)   
sandwich                50  dag   (value = 160)   
glucose                 15  dag   (value = 60)    
banana                  27  dag   (value = 60)    
suntan cream            11  dag   (value = 70)    
waterproof trousers     42  dag   (value = 70)    
waterproof overclothes  43  dag   (value = 75)    
note-case               22  dag   (value = 80)    
sunglasses              7   dag   (value = 20)    
socks                   4   dag   (value = 50)    
</pre>
<h2><span class="mw-headline" id="JavaScript"><a href="https://rosettacode.org/wiki/Category:JavaScript" title="Category:JavaScript">JavaScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=39" title="Edit section: JavaScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Also available at <a rel="nofollow" class="external text" href="https://gist.github.com/truher/4715551%7Cthis">gist</a>.
</p>
<pre class="javascript highlighted_source"><span class="coMULTI">/*global portviz:false, _:false */</span><br><span class="coMULTI">/*<br> * 0-1 knapsack solution, recursive, memoized, approximate.<br> *<br> * credits:<br> *<br> * the Go implementation here:<br> *   http://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1<br> *<br> * approximation details here:<br> *   http://math.mit.edu/~goemans/18434S06/knapsack-katherine.pdf<br> */</span><br>portviz.<span class="me1">knapsack</span> <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><span class="sy0">;</span><br><span class="br0">(</span><span class="kw1">function</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw1">this</span>.<span class="me1">combiner</span> <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span>items<span class="sy0">,</span> weightfn<span class="sy0">,</span> valuefn<span class="br0">)</span> <span class="br0">{</span><br>    <span class="co1">// approximation guarantees result &gt;= (1-e) * optimal</span><br>    <span class="kw1">var</span> _epsilon <span class="sy0">=</span> <span class="nu0">0.01</span><span class="sy0">;</span><br>    <span class="kw1">var</span> _p <span class="sy0">=</span> _.<span class="me1">max</span><span class="br0">(</span>_.<span class="me1">map</span><span class="br0">(</span>items<span class="sy0">,</span>valuefn<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">var</span> _k <span class="sy0">=</span> _epsilon <span class="sy0">*</span> _p <span class="sy0">/</span> items.<span class="me1">length</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">var</span> _memo <span class="sy0">=</span> <span class="br0">(</span><span class="kw1">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span><br>      <span class="kw1">var</span> _mem <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><span class="sy0">;</span><br>      <span class="kw1">var</span> _key <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span>i<span class="sy0">,</span> w<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">return</span> i <span class="sy0">+</span> <span class="st0">'::'</span> <span class="sy0">+</span> w<span class="sy0">;</span><br>      <span class="br0">}</span><span class="sy0">;</span><br>      <span class="kw1">return</span> <span class="br0">{</span><br>        <span class="kw1">get</span><span class="sy0">:</span> <span class="kw1">function</span><span class="br0">(</span>i<span class="sy0">,</span> w<span class="br0">)</span> <span class="br0">{</span><br>          <span class="kw1">return</span> _mem<span class="br0">[</span>_key<span class="br0">(</span>i<span class="sy0">,</span>w<span class="br0">)</span><span class="br0">]</span><span class="sy0">;</span><br>        <span class="br0">}</span><span class="sy0">,</span><br>        put<span class="sy0">:</span> <span class="kw1">function</span><span class="br0">(</span>i<span class="sy0">,</span> w<span class="sy0">,</span> r<span class="br0">)</span> <span class="br0">{</span><br>          _mem<span class="br0">[</span>_key<span class="br0">(</span>i<span class="sy0">,</span>w<span class="br0">)</span><span class="br0">]</span><span class="sy0">=</span>r<span class="sy0">;</span><br>          <span class="kw1">return</span> r<span class="sy0">;</span><br>        <span class="br0">}</span><br>      <span class="br0">}</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="br0">)</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">var</span> _m <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span>i<span class="sy0">,</span> w<span class="br0">)</span> <span class="br0">{</span><br>&nbsp;<br>      i <span class="sy0">=</span> <span class="kw4">Math</span>.<span class="me1">round</span><span class="br0">(</span>i<span class="br0">)</span><span class="sy0">;</span><br>      w <span class="sy0">=</span> <span class="kw4">Math</span>.<span class="me1">round</span><span class="br0">(</span>w<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>&nbsp;<br>      <span class="kw1">if</span> <span class="br0">(</span>i <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> w <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="co1">// empty base case</span><br>        <span class="kw1">return</span> <span class="br0">{</span>items<span class="sy0">:</span> <span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> totalWeight<span class="sy0">:</span> <span class="nu0">0</span><span class="sy0">,</span> totalValue<span class="sy0">:</span> <span class="nu0">0</span><span class="br0">}</span><span class="sy0">;</span><br>      <span class="br0">}</span><br>&nbsp;<br>      <span class="kw1">var</span> mm <span class="sy0">=</span> _memo.<span class="kw1">get</span><span class="br0">(</span>i<span class="sy0">,</span>w<span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span>_.<span class="me1">isUndefined</span><span class="br0">(</span>mm<span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">return</span> mm<span class="sy0">;</span><br>      <span class="br0">}</span><br>&nbsp;<br>      <span class="kw1">var</span> item <span class="sy0">=</span> items<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">;</span><br>      <span class="kw1">if</span> <span class="br0">(</span>weightfn<span class="br0">(</span>item<span class="br0">)</span> <span class="sy0">&gt;</span> w<span class="br0">)</span> <span class="br0">{</span><br>        <span class="co1">//item does not fit, try the next item</span><br>        <span class="kw1">return</span> _memo.<span class="me1">put</span><span class="br0">(</span>i<span class="sy0">,</span> w<span class="sy0">,</span> _m<span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> w<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>      <span class="br0">}</span><br>      <span class="co1">// this item could fit.</span><br>      <span class="co1">// are we better off excluding it?</span><br>      <span class="kw1">var</span> excluded <span class="sy0">=</span> _m<span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> w<span class="br0">)</span><span class="sy0">;</span><br>      <span class="co1">// or including it?</span><br>      <span class="kw1">var</span> included <span class="sy0">=</span> _m<span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> w <span class="sy0">-</span> weightfn<span class="br0">(</span>item<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">if</span> <span class="br0">(</span>included.<span class="me1">totalValue</span> <span class="sy0">+</span> <span class="kw4">Math</span>.<span class="me1">floor</span><span class="br0">(</span>valuefn<span class="br0">(</span>item<span class="br0">)</span><span class="sy0">/</span>_k<span class="br0">)</span> <span class="sy0">&gt;</span> excluded.<span class="me1">totalValue</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="co1">// better off including it</span><br>        <span class="co1">// make a copy of the list</span><br>        <span class="kw1">var</span> i1 <span class="sy0">=</span> included.<span class="me1">items</span>.<span class="me1">slice</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>        i1.<span class="me1">push</span><span class="br0">(</span>item<span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">return</span> _memo.<span class="me1">put</span><span class="br0">(</span>i<span class="sy0">,</span> w<span class="sy0">,</span><br>          <span class="br0">{</span>items<span class="sy0">:</span> i1<span class="sy0">,</span><br>           totalWeight<span class="sy0">:</span> included.<span class="me1">totalWeight</span> <span class="sy0">+</span> weightfn<span class="br0">(</span>item<span class="br0">)</span><span class="sy0">,</span><br>           totalValue<span class="sy0">:</span> included.<span class="me1">totalValue</span> <span class="sy0">+</span> <span class="kw4">Math</span>.<span class="me1">floor</span><span class="br0">(</span>valuefn<span class="br0">(</span>item<span class="br0">)</span><span class="sy0">/</span>_k<span class="br0">)</span><span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>      <span class="br0">}</span><br>      <span class="co1">//better off excluding it</span><br>      <span class="kw1">return</span> _memo.<span class="me1">put</span><span class="br0">(</span>i<span class="sy0">,</span>w<span class="sy0">,</span> excluded<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="sy0">;</span><br>    <span class="kw1">return</span> <span class="br0">{</span><br>      <span class="coMULTI">/* one point */</span><br>      one<span class="sy0">:</span> <span class="kw1">function</span><span class="br0">(</span>maxweight<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">var</span> scaled <span class="sy0">=</span> _m<span class="br0">(</span>items.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> maxweight<span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">return</span> <span class="br0">{</span><br>          items<span class="sy0">:</span> scaled.<span class="me1">items</span><span class="sy0">,</span><br>          totalWeight<span class="sy0">:</span> scaled.<span class="me1">totalWeight</span><span class="sy0">,</span><br>          totalValue<span class="sy0">:</span> scaled.<span class="me1">totalValue</span> <span class="sy0">*</span> _k<br>        <span class="br0">}</span><span class="sy0">;</span><br>      <span class="br0">}</span><span class="sy0">,</span><br>      <span class="coMULTI">/* the entire EF */</span><br>      ef<span class="sy0">:</span> <span class="kw1">function</span><span class="br0">(</span>maxweight<span class="sy0">,</span> step<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">return</span> _.<span class="me1">map</span><span class="br0">(</span>_.<span class="me1">range</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> maxweight<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">,</span> step<span class="br0">)</span><span class="sy0">,</span> <span class="kw1">function</span><span class="br0">(</span>weight<span class="br0">)</span> <span class="br0">{</span><br>          <span class="kw1">var</span> scaled <span class="sy0">=</span> _m<span class="br0">(</span>items.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> weight<span class="br0">)</span><span class="sy0">;</span><br>          <span class="kw1">return</span> <span class="br0">{</span><br>            items<span class="sy0">:</span> scaled.<span class="me1">items</span><span class="sy0">,</span><br>            totalWeight<span class="sy0">:</span> scaled.<span class="me1">totalWeight</span><span class="sy0">,</span><br>            totalValue<span class="sy0">:</span> scaled.<span class="me1">totalValue</span> <span class="sy0">*</span> _k<br>          <span class="br0">}</span><span class="sy0">;</span><br>        <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><span class="sy0">;</span><br>  <span class="br0">}</span><span class="sy0">;</span><br><span class="br0">}</span><span class="br0">)</span>.<span class="me1">apply</span><span class="br0">(</span>portviz.<span class="me1">knapsack</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="coMULTI">/*global portviz:false, _:false */</span><br><span class="coMULTI">/*<br> * after rosettacode.org/mw/index.php?title=Knapsack_problem/0-1<br> */</span><br><span class="kw1">var</span> allwants <span class="sy0">=</span> <span class="br0">[</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"map"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">9</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">150</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"compass"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">13</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">35</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"water"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">153</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">200</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"sandwich"</span><span class="sy0">,</span> weight<span class="sy0">:</span> <span class="nu0">50</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">160</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"glucose"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">15</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"tin"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">68</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">45</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"banana"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">27</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">60</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"apple"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">39</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"cheese"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">23</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"beer"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">52</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"suntan cream"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">11</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">70</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"camera"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">32</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">30</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"T-shirt"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">24</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">15</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"trousers"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">48</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">10</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"umbrella"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">73</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">40</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">42</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">70</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"waterproof overclothes"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">43</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">75</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"note-case"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">22</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">80</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"sunglasses"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">7</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">20</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"towel"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">18</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">12</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"socks"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">4</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">50</span><span class="br0">}</span><span class="sy0">,</span><br>  <span class="br0">{</span>name<span class="sy0">:</span><span class="st0">"book"</span><span class="sy0">,</span> weight<span class="sy0">:</span><span class="nu0">30</span><span class="sy0">,</span> value<span class="sy0">:</span> <span class="nu0">10</span><span class="br0">}</span><br><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">var</span> near <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span>actual<span class="sy0">,</span> expected<span class="sy0">,</span> tolerance<span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw1">if</span> <span class="br0">(</span>expected <span class="sy0">===</span> <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> actual <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">)</span> <span class="kw1">return</span> <span class="kw2">true</span><span class="sy0">;</span><br>  <span class="kw1">if</span> <span class="br0">(</span>expected <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">return</span> <span class="kw4">Math</span>.<span class="me1">abs</span><span class="br0">(</span>expected <span class="sy0">-</span> actual<span class="br0">)</span> <span class="sy0">/</span> actual <span class="sy0">&lt;</span> tolerance<span class="sy0">;</span><br>  <span class="br0">}</span><br>  <span class="kw1">return</span> <span class="kw4">Math</span>.<span class="me1">abs</span><span class="br0">(</span>expected <span class="sy0">-</span> actual<span class="br0">)</span> <span class="sy0">/</span> expected <span class="sy0">&lt;</span> tolerance<span class="sy0">;</span><br><span class="br0">}</span><span class="sy0">;</span><br>&nbsp;<br>test<span class="br0">(</span><span class="st0">"one knapsack"</span><span class="sy0">,</span> <span class="kw1">function</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw1">var</span> combiner <span class="sy0">=</span><br>    portviz.<span class="me1">knapsack</span>.<span class="me1">combiner</span><span class="br0">(</span>allwants<span class="sy0">,</span><br>      <span class="kw1">function</span><span class="br0">(</span>x<span class="br0">)</span><span class="br0">{</span><span class="kw1">return</span> x.<span class="me1">weight</span><span class="sy0">;</span><span class="br0">}</span><span class="sy0">,</span><br>      <span class="kw1">function</span><span class="br0">(</span>x<span class="br0">)</span><span class="br0">{</span><span class="kw1">return</span> x.<span class="me1">value</span><span class="sy0">;</span><span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>  <span class="kw1">var</span> oneport <span class="sy0">=</span> combiner.<span class="me1">one</span><span class="br0">(</span><span class="nu0">400</span><span class="br0">)</span><span class="sy0">;</span><br>  ok<span class="br0">(</span>near<span class="br0">(</span>oneport.<span class="me1">totalValue</span><span class="sy0">,</span> <span class="nu0">1030</span><span class="sy0">,</span> <span class="nu0">0.01</span><span class="br0">)</span><span class="sy0">,</span> <span class="st0">"correct total value"</span><span class="br0">)</span><span class="sy0">;</span><br>  ok<span class="br0">(</span>near<span class="br0">(</span>oneport.<span class="me1">totalValue</span><span class="sy0">,</span> <span class="nu0">1030</span><span class="sy0">,</span> <span class="nu0">0.01</span><span class="br0">)</span><span class="sy0">,</span> <span class="st0">"correct total value"</span><span class="br0">)</span><span class="sy0">;</span><br>  equal<span class="br0">(</span>oneport.<span class="me1">totalWeight</span><span class="sy0">,</span> <span class="nu0">396</span><span class="sy0">,</span> <span class="st0">"correct total weight"</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>test<span class="br0">(</span><span class="st0">"frontier"</span><span class="sy0">,</span> <span class="kw1">function</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw1">var</span> combiner <span class="sy0">=</span><br>    portviz.<span class="me1">knapsack</span>.<span class="me1">combiner</span><span class="br0">(</span>allwants<span class="sy0">,</span><br>      <span class="kw1">function</span><span class="br0">(</span>x<span class="br0">)</span><span class="br0">{</span><span class="kw1">return</span> x.<span class="me1">weight</span><span class="sy0">;</span><span class="br0">}</span><span class="sy0">,</span><br>      <span class="kw1">function</span><span class="br0">(</span>x<span class="br0">)</span><span class="br0">{</span><span class="kw1">return</span> x.<span class="me1">value</span><span class="sy0">;</span><span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>  <span class="kw1">var</span> ef <span class="sy0">=</span> combiner.<span class="me1">ef</span><span class="br0">(</span><span class="nu0">400</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>  equal<span class="br0">(</span>ef.<span class="me1">length</span><span class="sy0">,</span> <span class="nu0">401</span><span class="sy0">,</span> <span class="st0">"401 because it includes the endpoints"</span><span class="br0">)</span><span class="sy0">;</span><br>  ef <span class="sy0">=</span> combiner.<span class="me1">ef</span><span class="br0">(</span><span class="nu0">400</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy0">;</span><br>  equal<span class="br0">(</span>ef.<span class="me1">length</span><span class="sy0">,</span> <span class="nu0">11</span><span class="sy0">,</span> <span class="st0">"11 because it includes the endpoints"</span><span class="br0">)</span><span class="sy0">;</span><br>  <span class="kw1">var</span> expectedTotalValue <span class="sy0">=</span> <span class="br0">[</span><br>    <span class="nu0">0</span><span class="sy0">,</span><br>    <span class="nu0">330</span><span class="sy0">,</span><br>    <span class="nu0">445</span><span class="sy0">,</span><br>    <span class="nu0">590</span><span class="sy0">,</span><br>    <span class="nu0">685</span><span class="sy0">,</span><br>    <span class="nu0">755</span><span class="sy0">,</span><br>    <span class="nu0">810</span><span class="sy0">,</span><br>    <span class="nu0">860</span><span class="sy0">,</span><br>    <span class="nu0">902</span><span class="sy0">,</span><br>    <span class="nu0">960</span><span class="sy0">,</span><br>    <span class="nu0">1030</span><br>  <span class="br0">]</span> <span class="sy0">;</span><br>  _.<span class="me1">each</span><span class="br0">(</span>ef<span class="sy0">,</span> <span class="kw1">function</span><span class="br0">(</span>element<span class="sy0">,</span> index<span class="br0">)</span> <span class="br0">{</span><br>    <span class="co1">// 15% error!  bleah!</span><br>    ok<span class="br0">(</span>near<span class="br0">(</span>element.<span class="me1">totalValue</span><span class="sy0">,</span> expectedTotalValue<span class="br0">[</span>index<span class="br0">]</span><span class="sy0">,</span> <span class="nu0">0.15</span><span class="br0">)</span><span class="sy0">,</span><br>      <span class="st0">'actual '</span> <span class="sy0">+</span> element.<span class="me1">totalValue</span> <span class="sy0">+</span> <span class="st0">' expected '</span> <span class="sy0">+</span> expectedTotalValue<span class="br0">[</span>index<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>  <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>  deepEqual<span class="br0">(</span>_.<span class="me1">pluck</span><span class="br0">(</span>ef<span class="sy0">,</span> <span class="st0">'totalWeight'</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">[</span><br>    <span class="nu0">0</span><span class="sy0">,</span><br>    <span class="nu0">39</span><span class="sy0">,</span><br>    <span class="nu0">74</span><span class="sy0">,</span><br>    <span class="nu0">118</span><span class="sy0">,</span><br>    <span class="nu0">158</span><span class="sy0">,</span><br>    <span class="nu0">200</span><span class="sy0">,</span><br>    <span class="nu0">236</span><span class="sy0">,</span><br>    <span class="nu0">266</span><span class="sy0">,</span><br>    <span class="nu0">316</span><span class="sy0">,</span><br>    <span class="nu0">354</span><span class="sy0">,</span><br>    <span class="nu0">396</span><br>  <span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>  deepEqual<span class="br0">(</span>_.<span class="me1">map</span><span class="br0">(</span>ef<span class="sy0">,</span> <span class="kw1">function</span><span class="br0">(</span>x<span class="br0">)</span><span class="br0">{</span><span class="kw1">return</span> x.<span class="me1">items</span>.<span class="me1">length</span><span class="sy0">;</span><span class="br0">}</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">[</span><br>    <span class="nu0">0</span><span class="sy0">,</span><br>    <span class="nu0">4</span><span class="sy0">,</span><br>    <span class="nu0">6</span><span class="sy0">,</span><br>    <span class="nu0">7</span><span class="sy0">,</span><br>    <span class="nu0">9</span><span class="sy0">,</span><br>    <span class="nu0">10</span><span class="sy0">,</span><br>    <span class="nu0">10</span><span class="sy0">,</span><br>    <span class="nu0">12</span><span class="sy0">,</span><br>    <span class="nu0">14</span><span class="sy0">,</span><br>    <span class="nu0">11</span><span class="sy0">,</span><br>    <span class="nu0">12</span><br>   <span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span></pre>
<h2><span class="mw-headline" id="jq"><a href="https://rosettacode.org/wiki/Category:Jq" title="Category:Jq">jq</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=40" title="Edit section: jq">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta workswith"><b>Works with</b>: <a href="https://rosettacode.org/wiki/Jq" title="Jq" class="mw-redirect">jq</a> version 1.4</div>
<p>"dynamic_knapsack(W)" implements a dynamic programming algorithm based
on computing m[i,W] as the maximum value that can be attained with
weight no greater than W using the first i items (with i = 0
corresponding to no items). Here, m[i,W] is set to [V, ary]
where ary is an array of the names of the accepted items.
</p>
<pre class="text highlighted_source"># Input should be the array of objects giving name, weight and value.<br># Because of the way addition is defined on null and because of the<br># way setpath works, there is no need to initialize the matrix m in<br># detail.<br>def dynamic_knapsack(W):<br>  . as $objects<br>  | length as $n<br>  | reduce range(1; $n+1) as $i                           # i is the number of items<br>      # state: m[i][j] is an array of [value, array_of_object_names]<br>      (null;                           # see above remark about initialization of m<br>       $objects[$i-1] as $o<br>       | reduce range(0; W+1) as $j<br>           ( .; <br>             if $o.weight &lt;= $j then<br>               .[$i-1][$j][0] as $v1                               # option 1: do not add this object<br>               | (.[$i-1][$j - $o.weight][0] + $o.value) as $v2    # option 2: add it<br>               | (if $v1 &gt; $v2 then<br>                       [$v1, .[$i-1][$j][1]]                       # do not add this object<br>                  else [$v2, .[$i-1][$j - $o.weight][1]+[$o.name]] # add it<br>                  end) as $mx<br>               | .[$i][$j] = $mx<br>             else<br>                 .[$i][$j] = .[$i-1][$j]<br>             end))<br>  | .[$n][W];</pre>
<p><b>Example</b>:
</p>
<pre class="text highlighted_source">def objects: [<br> {name: "map",                    "weight": 9,   "value": 150},<br> {name: "compass",                "weight": 13,  "value": 35},<br> {name: "water",                  "weight": 153, "value": 200},<br> {name: "sandwich",               "weight": 50,  "value": 160},<br> {name: "glucose",                "weight": 15,  "value": 60},<br> {name: "tin",                    "weight": 68,  "value": 45},<br> {name: "banana",                 "weight": 27,  "value": 60},<br> {name: "apple",                  "weight": 39,  "value": 40},<br> {name: "cheese",                 "weight": 23,  "value": 30},<br> {name: "beer",                   "weight": 52,  "value": 10},<br> {name: "suntancream",            "weight": 11,  "value": 70},<br> {name: "camera",                 "weight": 32,  "value": 30},<br> {name: "T-shirt",                "weight": 24,  "value": 15},<br> {name: "trousers",               "weight": 48,  "value": 10},<br> {name: "umbrella",               "weight": 73,  "value": 40},<br> {name: "waterproof trousers",    "weight": 42,  "value": 70},<br> {name: "waterproof overclothes", "weight": 43,  "value": 75},<br> {name: "note-case",              "weight": 22,  "value": 80},<br> {name: "sunglasses",             "weight": 7,   "value": 20},<br> {name: "towel",                  "weight": 18,  "value": 12},<br> {name: "socks",                  "weight": 4,   "value": 50},<br> {name: "book",                   "weight": 30,  "value": 10}<br>];<br>&nbsp;<br>objects | dynamic_knapsack(400)[]</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre class="text highlighted_source">$jq -M -c -n -f knapsack.jq<br>1030<br>["map","compass","water","sandwich","glucose","banana","suntancream","waterproof trousers","waterproof overclothes","note-case","sunglasses","socks"]</pre>
<h2><span class="mw-headline" id="Julia"><a href="https://rosettacode.org/wiki/Category:Julia" title="Category:Julia">Julia</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=41" title="Edit section: Julia">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This solution uses the <a rel="nofollow" class="external text" href="https://github.com/JuliaOpt/MathProgBase.jl">MathProgBase</a> package (with the <a rel="nofollow" class="external text" href="https://github.com/JuliaOpt/Cbc.jl">Cbc</a> solver package installed). It is the <code>mixintprog</code> function from this package that does the heavy lifting of this solution.
</p><p><code>KPDSupply</code> has one more field than is needed, <code>quant</code>. This field is may be useful in a solution to the bounded version of this task.
</p><p><b>Type and Functions</b>:
</p>
<pre class="text highlighted_source">struct KPDSupply{T&lt;:Integer}<br>    item::String<br>    weight::T<br>    value::T<br>    quant::T<br>end<br>&nbsp;<br>KPDSupply{T&lt;:Integer}(itm::AbstractString, w::T, v::T, q::T=one(T)) = KPDSupply(itm, w, v, q)<br>Base.show(io::IO, kdps::KPDSupply) = print(io, kdps.quant, " ", kdps.item, " ($(kdps.weight) kg, $(kdps.value) €)")<br>&nbsp;<br>using MathProgBase, Cbc<br>function solve(gear::Vector{&lt;:KPDSupply}, capacity::Integer)<br>    w = getfield.(gear,&nbsp;:weight)<br>    v = getfield.(gear,&nbsp;:value)<br>    sol = mixintprog(-v, w', '&lt;', capacity,&nbsp;:Bin, 0, 1, CbcSolver())<br>    gear[sol.sol .≈ 1]<br>end</pre>
<p><b>Main</b>:
</p>
<pre class="text highlighted_source">gear = [KPDSupply("map", 9, 150),<br>        KPDSupply("compass", 13, 35),<br>        KPDSupply("water", 153, 200),<br>        KPDSupply("sandwich", 50, 160),<br>        KPDSupply("glucose", 15, 60),<br>        KPDSupply("tin", 68, 45),<br>        KPDSupply("banana", 27, 60),<br>        KPDSupply("apple", 39, 40),<br>        KPDSupply("cheese", 23, 30),<br>        KPDSupply("beer", 52, 10),<br>        KPDSupply("suntan cream", 11, 70),<br>        KPDSupply("camera", 32, 30),<br>        KPDSupply("T-shirt", 24, 15),<br>        KPDSupply("trousers", 48, 10),<br>        KPDSupply("umbrella", 73, 40),<br>        KPDSupply("waterproof trousers", 42, 70),<br>        KPDSupply("waterproof overclothes", 43, 75),<br>        KPDSupply("note-case", 22, 80),<br>        KPDSupply("sunglasses", 7, 20),<br>        KPDSupply("towel", 18, 12),<br>        KPDSupply("socks", 4, 50),<br>        KPDSupply("book", 30, 10)]<br>&nbsp;<br>pack = solve(gear, 400)<br>println("The hicker should pack: \n - ", join(pack, "\n - "))<br>println("\nPacked weight: ", mapreduce(x -&gt; x.weight, +, pack), " kg")<br>println("Packed value: ", mapreduce(x -&gt; x.value, +, pack), " €")</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>The hicker should pack: 
 - 1 map (9 kg, 150 €)
 - 1 compass (13 kg, 35 €)
 - 1 water (153 kg, 200 €)
 - 1 sandwich (50 kg, 160 €)
 - 1 glucose (15 kg, 60 €)
 - 1 banana (27 kg, 60 €)
 - 1 suntan cream (11 kg, 70 €)
 - 1 waterproof trousers (42 kg, 70 €)
 - 1 waterproof overclothes (43 kg, 75 €)
 - 1 note-case (22 kg, 80 €)
 - 1 sunglasses (7 kg, 20 €)
 - 1 socks (4 kg, 50 €)

Packed weight: 396 kg
Packed value: 1030 €</pre>
<h2><span class="mw-headline" id="Kotlin"><a href="https://rosettacode.org/wiki/Category:Kotlin" title="Category:Kotlin">Kotlin</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=42" title="Edit section: Kotlin">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Go">Go</a></div>
<pre class="scala highlighted_source"><span class="co1">// version 1.1.2</span><br>&nbsp;<br>data <a href="http://scala-lang.org/"><span class="kw1">class</span></a> Item<span class="br0">(</span><a href="http://scala-lang.org/"><span class="kw1">val</span></a> name<span class="sy0">:</span> String, <a href="http://scala-lang.org/"><span class="kw1">val</span></a> weight<span class="sy0">:</span> Int, <a href="http://scala-lang.org/"><span class="kw1">val</span></a> value<span class="sy0">:</span> Int<span class="br0">)</span><br>&nbsp;<br><a href="http://scala-lang.org/"><span class="kw1">val</span></a> wants <span class="sy0">=</span> listOf<span class="br0">(</span><br>    Item<span class="br0">(</span><span class="st0">"map"</span>, <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"compass"</span>, <span class="nu0">13</span>, <span class="nu0">35</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"water"</span>, <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"sandwich"</span>, <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"glucose"</span>, <span class="nu0">15</span>, <span class="nu0">60</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"tin"</span>, <span class="nu0">68</span>, <span class="nu0">45</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"banana"</span>, <span class="nu0">27</span>, <span class="nu0">60</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"apple"</span>, <span class="nu0">39</span>, <span class="nu0">40</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"cheese"</span>, <span class="nu0">23</span>, <span class="nu0">30</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"beer"</span>, <span class="nu0">52</span>, <span class="nu0">10</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"suntan cream"</span>, <span class="nu0">11</span>, <span class="nu0">70</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"camera"</span>, <span class="nu0">32</span>, <span class="nu0">30</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"T-shirt"</span>, <span class="nu0">24</span>, <span class="nu0">15</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"trousers"</span>, <span class="nu0">48</span>, <span class="nu0">10</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"umbrella"</span>, <span class="nu0">73</span>, <span class="nu0">40</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"waterproof trousers"</span>, <span class="nu0">42</span>, <span class="nu0">70</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"waterproof overclothes"</span>, <span class="nu0">43</span>, <span class="nu0">75</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"note-case"</span>, <span class="nu0">22</span>, <span class="nu0">80</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"sunglasses"</span>, <span class="nu0">7</span>, <span class="nu0">20</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"towel"</span>, <span class="nu0">18</span>, <span class="nu0">12</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"socks"</span>, <span class="nu0">4</span>, <span class="nu0">50</span><span class="br0">)</span>,<br>    Item<span class="br0">(</span><span class="st0">"book"</span>, <span class="nu0">30</span>, <span class="nu0">10</span><span class="br0">)</span><br><span class="br0">)</span><br>&nbsp;<br>const <a href="http://scala-lang.org/"><span class="kw1">val</span></a> MAX<span class="sy0">_</span>WEIGHT <span class="sy0">=</span> <span class="nu0">400</span><br>&nbsp;<br>fun m<span class="br0">(</span>i<span class="sy0">:</span> Int, w<span class="sy0">:</span> Int<span class="br0">)</span><span class="sy0">:</span> Triple<span class="sy0">&lt;</span>MutableList<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span>, Int, Int<span class="sy0">&gt;</span> <span class="br0">{</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> chosen <span class="sy0">=</span> mutableListOf<span class="sy0">&lt;</span>Item<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><br>    <a href="http://scala-lang.org/"><span class="kw1">if</span></a> <span class="br0">(</span>i <span class="sy0">&lt;</span> <span class="nu0">0</span> || w <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> <a href="http://scala-lang.org/"><span class="kw1">return</span></a> Triple<span class="br0">(</span>chosen, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span><br>    <a href="http://scala-lang.org/"><span class="kw1">else</span></a> <a href="http://scala-lang.org/"><span class="kw1">if</span></a> <span class="br0">(</span>wants<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">weight</span> <span class="sy0">&gt;</span> w<span class="br0">)</span> <a href="http://scala-lang.org/"><span class="kw1">return</span></a> m<span class="br0">(</span>i - <span class="nu0">1</span>, w<span class="br0">)</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> <span class="br0">(</span>l0, w0, v0<span class="br0">)</span> <span class="sy0">=</span> m<span class="br0">(</span>i - <span class="nu0">1</span>, w<span class="br0">)</span><br>    <a href="http://scala-lang.org/"><span class="kw1">var</span></a> <span class="br0">(</span>l1, w1, v1<span class="br0">)</span> <span class="sy0">=</span> m<span class="br0">(</span>i - <span class="nu0">1</span>, w - wants<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">weight</span><span class="br0">)</span><br>    v1 +<span class="sy0">=</span> wants<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">value</span><br>    <a href="http://scala-lang.org/"><span class="kw1">if</span></a> <span class="br0">(</span>v1 <span class="sy0">&gt;</span> v0<span class="br0">)</span> <span class="br0">{</span><br>        l1.<span class="me1">add</span><span class="br0">(</span>wants<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><br>        <a href="http://scala-lang.org/"><span class="kw1">return</span></a> Triple<span class="br0">(</span>l1, w1 + wants<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">weight</span>, v1<span class="br0">)</span><br>    <span class="br0">}</span><br>    <a href="http://scala-lang.org/"><span class="kw1">return</span></a> Triple<span class="br0">(</span>l0, w0, v0<span class="br0">)</span><br><span class="br0">}</span><br>&nbsp;<br>fun main<span class="br0">(</span>args<span class="sy0">:</span> Array<span class="sy0">&lt;</span>String<span class="sy0">&gt;</span><span class="br0">)</span> <span class="br0">{</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> <span class="br0">(</span>chosenItems, totalWeight, totalValue<span class="br0">)</span> <span class="sy0">=</span> m<span class="br0">(</span>wants.<span class="me1">size</span> - <span class="nu0">1</span>, MAX<span class="sy0">_</span>WEIGHT<span class="br0">)</span><br>    println<span class="br0">(</span><span class="st0">"Knapsack Item Chosen    Weight Value"</span><span class="br0">)</span><br>    println<span class="br0">(</span><span class="st0">"----------------------  ------ -----"</span><span class="br0">)</span><br>    <a href="http://scala-lang.org/"><span class="kw1">for</span></a> <span class="br0">(</span>item in chosenItems.<span class="me1">sortedByDescending</span> <span class="br0">{</span> it.<span class="me1">value</span><span class="br0">}</span> <span class="br0">)</span><br>        println<span class="br0">(</span><span class="st0">"${item.name.padEnd(24)}  ${"</span><span class="sy0">%</span>3d<span class="st0">".format(item.weight)}    ${"</span><span class="sy0">%</span>3d<span class="st0">".format(item.value)}"</span><span class="br0">)</span><br>    println<span class="br0">(</span><span class="st0">"----------------------  ------ -----"</span><span class="br0">)</span><br>    println<span class="br0">(</span><span class="st0">"Total ${chosenItems.size} Items Chosen     $totalWeight   $totalValue"</span><span class="br0">)</span><br><span class="br0">}</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Knapsack Item Chosen    Weight Value
----------------------  ------ -----
water                     153    200
sandwich                   50    160
map                         9    150
note-case                  22     80
waterproof overclothes     43     75
suntan cream               11     70
waterproof trousers        42     70
glucose                    15     60
banana                     27     60
socks                       4     50
compass                    13     35
sunglasses                  7     20
----------------------  ------ -----
Total 12 Items Chosen     396   1030
</pre>
<h2><span class="mw-headline" id="LSL"><a href="https://rosettacode.org/wiki/Category:LSL" title="Category:LSL">LSL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=43" title="Edit section: LSL">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To test it yourself, rez a box on the ground, add the following as a 
New Script, create a notecard named "Knapsack_Problem_0_1_Data.txt" with
 the data shown below.
</p>
<pre class="text highlighted_source">string sNOTECARD = "Knapsack_Problem_0_1_Data.txt";<br>integer iMAX_WEIGHT = 400;<br>integer iSTRIDE = 4;<br>list lList = [];<br>default {<br>	integer iNotecardLine = 0;<br>	state_entry() {<br>		llOwnerSay("Reading '"+sNOTECARD+"'");<br>		llGetNotecardLine(sNOTECARD, iNotecardLine);<br>	}<br>	dataserver(key kRequestId, string sData) {<br>		if(sData==EOF) {<br>			//llOwnerSay("EOF");<br>			lList = llListSort(lList, iSTRIDE, FALSE);<br>			integer iTotalWeight = 0;<br>			integer iTotalValue = 0;<br>			list lKnapsack = [];<br>			integer x = 0;<br>			while(x*iSTRIDE&lt;llGetListLength(lList)) {<br>				float fValueWeight = (float)llList2String(lList, x*iSTRIDE);<br>				string sItem = (string)llList2String(lList, x*iSTRIDE+1);<br>				integer iWeight = (integer)llList2String(lList, x*iSTRIDE+2);<br>				integer iValue = (integer)llList2String(lList, x*iSTRIDE+3);<br>				if(iTotalWeight+iWeight&lt;iMAX_WEIGHT) {<br>					iTotalWeight += iWeight;<br>					iTotalValue += iValue;<br>					lKnapsack += [sItem, iWeight, iValue, fValueWeight];<br>				}<br>				x++;<br>			}<br>			for(x=0&nbsp;; x*iSTRIDE&lt;llGetListLength(lKnapsack)&nbsp;; x++) {<br>				llOwnerSay((string)x+": "+llList2String(lList, x*iSTRIDE+1)+", "+llList2String(lList, x*iSTRIDE+2)+", "+llList2String(lList, x*iSTRIDE+3));<br>&nbsp;<br>			}<br>			llOwnerSay("iTotalWeight="+(string)iTotalWeight);<br>			llOwnerSay("iTotalValue="+(string)iTotalValue);<br>		} else {<br>			//llOwnerSay((string)iNotecardLine+": "+sData);<br>			if(llStringTrim(sData, STRING_TRIM)!="") {<br>				list lParsed = llParseString2List(sData, [","], []);<br>				string sItem = llStringTrim(llList2String(lParsed, 0), STRING_TRIM);<br>				integer iWeight = (integer)llStringTrim(llList2String(lParsed, 1), STRING_TRIM);<br>				integer iValue = (integer)llStringTrim(llList2String(lParsed, 2), STRING_TRIM);<br>				float fValueWeight = (1.0*iValue)/iWeight;<br>				lList += [fValueWeight, sItem, iWeight, iValue];<br>			}<br>			llGetNotecardLine(sNOTECARD, ++iNotecardLine);<br>		}<br>	}<br>}</pre>
<p>Notecard:
</p>
<pre>map, 9, 150
compass, 13, 35
water, 153, 200
sandwich, 50, 160
glucose, 15, 60
tin, 68, 45
banana, 27, 60
apple, 39, 40
cheese, 23, 30
beer, 52, 10
suntan cream, 11, 70
camera, 32, 30
T-shirt, 24, 15
trousers, 48, 10
umbrella, 73, 40
waterproof trousers, 42, 70
waterproof overclothes, 43, 75
note-case, 22, 80
sunglasses, 7, 20
towel, 18, 12
socks, 4, 50
book, 30, 10</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Reading 'Knapsack_Problem_0_1_Data.txt'
0: map, 9, 150
1: socks, 4, 50
2: suntan cream, 11, 70
3: glucose, 15, 60
4: note-case, 22, 80
5: sandwich, 50, 160
6: sunglasses, 7, 20
7: compass, 13, 35
8: banana, 27, 60
9: waterproof overclothes, 43, 75
10: waterproof trousers, 42, 70
11: water, 153, 200
iTotalWeight=396
iTotalValue=1030</pre>
<h2><span class="mw-headline" id="Maple"><a href="https://rosettacode.org/wiki/Category:Maple" title="Category:Maple">Maple</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=44" title="Edit section: Maple">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">weights&nbsp;:= [9,13,153,50,15,68,27,39,23,52,11,32,24,48,73,42,43,22,7,18,4,30]:<br>vals&nbsp;:= [150,35,200,160,60,45,60,40,30,10,70,30,15,10,40,70,75,80,20,12,50,10]:<br>items&nbsp;:= ["map","compass","water","sandwich","glucose","tin","banana","apple","cheese","beer","suntan cream","camera","T-shirt","trousers","umbrella","waterproof trousers","waterproof overclothes","note-case","sunglasses","towel","socks","book"]:<br>acc&nbsp;:= Array(1..numelems(vals)+1,1..400+1,1,fill=0):<br>len&nbsp;:= numelems(weights):<br>for i from 2 to len+1 do #number of items picked + 1<br>	for j from 2 to 401 do #weight capacity left + 1<br>		if weights[i-1] &gt; j-1 then<br>			acc[i,j]&nbsp;:= acc[i-1, j]:<br>		else<br>			acc[i,j]&nbsp;:= max(acc[i-1,j], acc[i-1, j-weights[i-1]]+vals[i-1]):<br>		end if:<br>	end do:<br>end do:<br>printf("Total Value is&nbsp;%d\n", acc[len+1, 401]):<br>count&nbsp;:= 0:<br>i&nbsp;:= len+1:<br>j&nbsp;:= 401:<br>while (i&gt;1 and j&gt;1) do<br>	if acc[i,j] &lt;&gt; acc[i-1,j] then<br>		printf("Item:&nbsp;%s\n", items[i-1]):<br>		count&nbsp;:= count+weights[i-1]:<br>		j&nbsp;:= j-weights[i-1]:<br>		i&nbsp;:= i-1:<br>	else<br>		i&nbsp;:= i-1:<br>	end if:<br>end do:<br>printf("Total Weight is&nbsp;%d\n", count):</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Total Value is 1030
Item: socks
Item: sunglasses
Item: note-case
Item: waterproof overclothes
Item: waterproof trousers
Item: suntan cream
Item: banana
Item: glucose
Item: sandwich
Item: water
Item: compass
Item: map
Total Weight is 396</pre>
<h2><span class="mw-headline" id="Mathematica"><a href="https://rosettacode.org/wiki/Category:Mathematica" title="Category:Mathematica">Mathematica</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=45" title="Edit section: Mathematica">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Used the
</p>
<pre class="text highlighted_source">#[[Flatten@<br>     Position[LinearProgramming[-#[[;; , 3]], -{#[[;; , 2]]}, -{400},<br>       {0, 1} &amp; /@ #, Integers], 1], 1]] &amp;@<br> {{"map", 9, 150},<br>  {"compass", 13, 35},<br>  {"water", 153, 200},<br>  {"sandwich", 50, 160},<br>  {"glucose", 15, 60},<br>  {"tin", 68, 45},<br>  {"banana", 27, 60},<br>  {"apple", 39, 40},<br>  {"cheese", 23, 30},<br>  {"beer", 52, 10},<br>  {"suntan cream", 11, 70},<br>  {"camera", 32, 30},<br>  {"T-shirt", 24, 15},<br>  {"trousers", 48, 10},<br>  {"umbrella", 73, 40},<br>  {"waterproof trousers", 42, 70},<br>  {"waterproof overclothes", 43, 75},<br>  {"note-case", 22, 80},<br>  {"sunglasses", 7, 20},<br>  {"towel", 18, 12},<br>  {"socks", 4, 50},<br>  {"book", 30, 10}}</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>{"map", "compass", "water", "sandwich", "glucose", "banana", "suntan cream", "waterproof trousers", "waterproof overclothes", "note-case", "sunglasses", "socks"}</pre>
<h2><span class="mw-headline" id="Mathprog"><a href="https://rosettacode.org/wiki/Category:Mathprog" title="Category:Mathprog">Mathprog</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=46" title="Edit section: Mathprog">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">/*Knapsack<br>&nbsp;<br>  This model finds the integer optimal packing of a knapsack<br>&nbsp;<br>  Nigel_Galloway<br>  January 9th., 2012<br>*/<br>&nbsp;<br>set Items;<br>param weight{t in Items};<br>param value{t in Items};<br>&nbsp;<br>var take{t in Items}, binary;<br>&nbsp;<br>knap_weight&nbsp;: sum{t in Items} take[t] * weight[t] &lt;= 400;<br>&nbsp;<br>maximize knap_value: sum{t in Items} take[t] * value[t];<br>&nbsp;<br>data;<br>&nbsp;<br>param&nbsp;: Items         &nbsp;: weight   value&nbsp;:=<br>         map		  9	   150 <br>         compass          13	   35	<br>         water		  153	   200 <br>         sandwich	  50	   160	<br>         glucose	  15	   60	<br>         tin		  68	   45	<br>         banana		  27	   60	<br>         apple		  39	   40	<br>         cheese		  23	   30	<br>         beer		  52	   10	<br>         suntancream	  11	   70	<br>         camera		  32	   30	<br>         T-shirt	  24	   15	<br>         trousers	  48	   10	<br>         umbrella	  73	   40	<br>         w-trousers	  42	   70	<br>         w-overclothes	  43	   75	<br>         note-case	  22	   80	<br>         sunglasses	  7        20	<br>         towel		  18	   12	<br>         socks		  4        50	<br>         book		  30	   10	<br>;<br>&nbsp;<br>end;</pre>
<p>The solution may be found at <a href="https://rosettacode.org/wiki/Knapsack_problem/0-1/Mathprog" title="Knapsack problem/0-1/Mathprog">Knapsack problem/0-1/Mathprog</a>.
Activity=1 means take, Activity=0 means don't take.
</p>
<h2><span class="mw-headline" id="MAXScript"><a href="https://rosettacode.org/wiki/Category:MAXScript" title="Category:MAXScript">MAXScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=47" title="Edit section: MAXScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">&nbsp;<br>global globalItems = #()<br>global usedMass = 0<br>global neededItems = #()<br>global totalValue = 0<br>struct kn_item <br>(<br>	item, weight, value<br>)<br>&nbsp;<br>itemStrings = #("map#9#150","compass#13#35","water#153#200", \<br>		"sandwich#50#160","glucose#15#60","tin#68#45", \<br>		"banana#27#60","apple#39#40","cheese#23#30", \<br>		"beer#52#10","suntan cream#11#70","camera#32#30", \<br>		"T-shirt#24#15","trousers#48#10","umbrella#73#40", \<br>		"waterproof trousers#42#70","waterproof overclothes#43#75", \<br>		"note-case#22#80","sunglasses#7#20", "towel#18#12", \<br>		"socks#4#50","book#30#10")<br>&nbsp;<br>fn sortByValue a b =<br>(<br>	if a[1].value &gt; b[1].value then return -1<br>	else<br>	(<br>		if a[1].value == b[1].value then return 0<br>			else return 1<br>	)<br>)<br>fn chooseBestItem maximumWeight: items: =<br>(<br>	local itemsCopy = deepcopy items<br>	local possibleItems = #()<br>	for i = 1 to itemsCopy.count do<br>	(<br>		if itemsCopy[i].weight &lt;= maximumWeight do append possibleItems (#(itemsCopy[i],i))<br>	)<br>	qsort possibleItems sortByValue<br>	if possibleItems.count &gt; 0 then return possibleItems[1] else return 0<br>)<br>&nbsp;<br>for i = 1 to itemStrings.count do<br>(<br>	local split = filterstring itemStrings[i] "#"<br>	local itemStruct = kn_item item:split[1] weight:(split[2] as integer) \<br>				value:(split[3] as integer)<br>	appendifunique globalItems itemstruct<br>)<br>&nbsp;<br>while usedMass &lt; 400 do<br>(<br>	local item = chooseBestItem maximumweight:(400-usedMass) items:(globalItems)<br>	if item&nbsp;!= 0 then<br>	(<br>		deleteitem globalItems (item[2])<br>		appendifunique neededItems item[1]<br>		usedMass += item[1].weight<br>	) else exit<br>)<br>for i in neededitems do <br>(<br>	format "Item name:&nbsp;%, weight:&nbsp;%, value:%\n" i.item i.weight i.value<br>	totalValue += i.value<br>)<br>format "Total mass:&nbsp;%, Total Value:&nbsp;%\n" usedMass totalValue<br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre class="text highlighted_source">&nbsp;<br>Item name: water, weight: 153, value:200<br>Item name: sandwich, weight: 50, value:160<br>Item name: map, weight: 9, value:150<br>Item name: note-case, weight: 22, value:80<br>Item name: waterproof overclothes, weight: 43, value:75<br>Item name: suntan cream, weight: 11, value:70<br>Item name: waterproof trousers, weight: 42, value:70<br>Item name: glucose, weight: 15, value:60<br>Item name: banana, weight: 27, value:60<br>Item name: socks, weight: 4, value:50<br>Item name: compass, weight: 13, value:35<br>Item name: sunglasses, weight: 7, value:20<br>OK<br>Total mass: 396, Total Value: 1030<br>OK<br>&nbsp;</pre>
<h2><span class="mw-headline" id="OCaml"><a href="https://rosettacode.org/wiki/Category:OCaml" title="Category:OCaml">OCaml</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=48" title="Edit section: OCaml">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A brute force solution:
</p>
<pre class="ocaml highlighted_source"><span class="kw1">let</span> items <span class="sy0">=</span> <span class="br0">[</span><br>  <span class="st0">"map"</span>,                     <span class="nu0">9</span>,  <span class="nu0">150</span><span class="sy0">;</span><br>  <span class="st0">"compass"</span>,                <span class="nu0">13</span>,   <span class="nu0">35</span><span class="sy0">;</span><br>  <span class="st0">"water"</span>,                 <span class="nu0">153</span>,  <span class="nu0">200</span><span class="sy0">;</span><br>  <span class="st0">"sandwich"</span>,               <span class="nu0">50</span>,  <span class="nu0">160</span><span class="sy0">;</span><br>  <span class="st0">"glucose"</span>,                <span class="nu0">15</span>,   <span class="nu0">60</span><span class="sy0">;</span><br>  <span class="st0">"tin"</span>,                    <span class="nu0">68</span>,   <span class="nu0">45</span><span class="sy0">;</span><br>  <span class="st0">"banana"</span>,                 <span class="nu0">27</span>,   <span class="nu0">60</span><span class="sy0">;</span><br>  <span class="st0">"apple"</span>,                  <span class="nu0">39</span>,   <span class="nu0">40</span><span class="sy0">;</span><br>  <span class="st0">"cheese"</span>,                 <span class="nu0">23</span>,   <span class="nu0">30</span><span class="sy0">;</span><br>  <span class="st0">"beer"</span>,                   <span class="nu0">52</span>,   <span class="nu0">10</span><span class="sy0">;</span><br>  <span class="st0">"suntan cream"</span>,           <span class="nu0">11</span>,   <span class="nu0">70</span><span class="sy0">;</span><br>  <span class="st0">"camera"</span>,                 <span class="nu0">32</span>,   <span class="nu0">30</span><span class="sy0">;</span><br>  <span class="st0">"t-shirt"</span>,                <span class="nu0">24</span>,   <span class="nu0">15</span><span class="sy0">;</span><br>  <span class="st0">"trousers"</span>,               <span class="nu0">48</span>,   <span class="nu0">10</span><span class="sy0">;</span><br>  <span class="st0">"umbrella"</span>,               <span class="nu0">73</span>,   <span class="nu0">40</span><span class="sy0">;</span><br>  <span class="st0">"waterproof trousers"</span>,    <span class="nu0">42</span>,   <span class="nu0">70</span><span class="sy0">;</span><br>  <span class="st0">"waterproof overclothes"</span>, <span class="nu0">43</span>,   <span class="nu0">75</span><span class="sy0">;</span><br>  <span class="st0">"note-case"</span>,              <span class="nu0">22</span>,   <span class="nu0">80</span><span class="sy0">;</span><br>  <span class="st0">"sunglasses"</span>,              <span class="nu0">7</span>,   <span class="nu0">20</span><span class="sy0">;</span><br>  <span class="st0">"towel"</span>,                  <span class="nu0">18</span>,   <span class="nu0">12</span><span class="sy0">;</span><br>  <span class="st0">"socks"</span>,                   <span class="nu0">4</span>,   <span class="nu0">50</span><span class="sy0">;</span><br>  <span class="st0">"book"</span>,                   <span class="nu0">30</span>,   <span class="nu0">10</span><span class="sy0">;</span><br><span class="br0">]</span><br>&nbsp;<br><span class="kw1">let</span> comb <span class="sy0">=</span> <br>  <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>fold_left <span class="br0">(</span><span class="kw1">fun</span> acc x <span class="sy0">-&gt;</span> <span class="kw1">let</span> acc2 <span class="sy0">=</span> <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>rev_map <span class="br0">(</span><span class="kw1">fun</span> li <span class="sy0">-&gt;</span> x<span class="sy0">::</span>li<span class="br0">)</span> acc <span class="kw1">in</span><br>                                 <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>rev_append acc acc2<span class="br0">)</span> <span class="br0">[</span><span class="br0">[</span><span class="br0">]</span><span class="br0">]</span><br>&nbsp;<br><span class="kw1">let</span> score <span class="sy0">=</span><br>  <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>fold_left <span class="br0">(</span><span class="kw1">fun</span> <span class="br0">(</span>w_tot,v_tot<span class="br0">)</span> <span class="br0">(</span>_,w,v<span class="br0">)</span> <span class="sy0">-&gt;</span> <span class="br0">(</span>w <span class="sy0">+</span> w_tot, v <span class="sy0">+</span> v_tot<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span><span class="br0">)</span><br>&nbsp;<br><span class="kw1">let</span> <span class="br0">(</span><span class="br0">)</span> <span class="sy0">=</span><br>  <span class="kw1">let</span> combs <span class="sy0">=</span> comb items <span class="kw1">in</span><br>  <span class="kw1">let</span> vals <span class="sy0">=</span> <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>rev_map <span class="br0">(</span><span class="kw1">fun</span> this <span class="sy0">-&gt;</span> <span class="br0">(</span>score this, this<span class="br0">)</span><span class="br0">)</span> combs <span class="kw1">in</span><br>  <span class="kw1">let</span> poss <span class="sy0">=</span> <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>filter <span class="br0">(</span><span class="kw1">fun</span> <span class="br0">(</span><span class="br0">(</span>w,_<span class="br0">)</span>, _<span class="br0">)</span> <span class="sy0">-&gt;</span> w <span class="sy0">&lt;=</span> <span class="nu0">400</span><span class="br0">)</span> vals <span class="kw1">in</span><br>  <span class="kw1">let</span> _, res <span class="sy0">=</span> <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>fold_left <span class="br0">(</span><span class="kw1">fun</span> <span class="br0">(</span><span class="br0">(</span><span class="br0">(</span>_,s1<span class="br0">)</span>,_<span class="br0">)</span> <span class="kw1">as</span> v1<span class="br0">)</span> <span class="br0">(</span><span class="br0">(</span><span class="br0">(</span>_,s2<span class="br0">)</span>,_<span class="br0">)</span> <span class="kw1">as</span> v2<span class="br0">)</span> <span class="sy0">-&gt;</span><br>                 <span class="kw1">if</span> s2 <span class="sy0">&gt;</span> s1 <span class="kw1">then</span> v2 <span class="kw1">else</span> v1<span class="br0">)</span><br>                 <span class="br0">(</span><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>hd poss<span class="br0">)</span> <span class="br0">(</span><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>tl poss<span class="br0">)</span> <span class="kw1">in</span><br>  <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>iter <span class="br0">(</span><span class="kw1">fun</span> <span class="br0">(</span>name,_,_<span class="br0">)</span> <span class="sy0">-&gt;</span> <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALprint_endline"><span class="kw3">print_endline</span></a> name<span class="br0">)</span> res<span class="sy0">;</span><br><span class="sy0">;;</span></pre>
<h2><span class="mw-headline" id="Oz"><a href="https://rosettacode.org/wiki/Category:Oz" title="Category:Oz">Oz</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=49" title="Edit section: Oz">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Using constraint programming.
</p>
<pre class="oz highlighted_source"><span class="kw1">declare</span><br>  <span class="co1">%% maps items to pairs of Weight(hectogram) and Value</span><br>  Problem = knapsack<span class="br0">(</span><span class="st0">'map'</span>:9<span class="sy0">#</span>150<br>                     <span class="st0">'compass'</span>:13<span class="sy0">#</span>35<br>                     <span class="st0">'water'</span>:153<span class="sy0">#</span>200<br>                     <span class="st0">'sandwich'</span>:50<span class="sy0">#</span>160<br>                     <span class="st0">'glucose'</span>:15<span class="sy0">#</span>60<br>                     <span class="st0">'tin'</span>:68<span class="sy0">#</span>45 <br>                     <span class="st0">'banana'</span>:27<span class="sy0">#</span>60 <br>                     <span class="st0">'apple'</span>:39<span class="sy0">#</span>40 <br>                     <span class="st0">'cheese'</span>:23<span class="sy0">#</span>30 <br>                     <span class="st0">'beer'</span>:52<span class="sy0">#</span>10 <br>                     <span class="st0">'suntan cream'</span>:11<span class="sy0">#</span>70 <br>                     <span class="st0">'camera'</span>:32<span class="sy0">#</span>30 <br>                     <span class="st0">'t-shirt'</span>:24<span class="sy0">#</span>15 <br>                     <span class="st0">'trousers'</span>:48<span class="sy0">#</span>10 <br>                     <span class="st0">'umbrella'</span>:73<span class="sy0">#</span>40 <br>                     <span class="st0">'waterproof trousers'</span>:42<span class="sy0">#</span>70 <br>                     <span class="st0">'waterproof overclothes'</span>:43<span class="sy0">#</span>75 <br>                     <span class="st0">'note-case'</span>:22<span class="sy0">#</span>80 <br>                     <span class="st0">'sunglasses'</span>:7<span class="sy0">#</span>20 <br>                     <span class="st0">'towel'</span>:18<span class="sy0">#</span>12 <br>                     <span class="st0">'socks'</span>:4<span class="sy0">#</span>50 <br>                     <span class="st0">'book'</span>:30<span class="sy0">#</span>10<br>                    <span class="br0">)</span><br>&nbsp;<br>  <span class="co1">%% item -&gt; Weight</span><br>  Weights = <span class="br0">{</span>Record<span class="sy0">.</span>map Problem <span class="kw1">fun</span> <span class="br0">{</span><span class="re1">$</span> X<span class="br0">}</span> X<span class="sy0">.</span>1 <span class="kw1">end</span><span class="br0">}</span><br>  <span class="co1">%% item -&gt; Value</span><br>  Values =  <span class="br0">{</span>Record<span class="sy0">.</span>map Problem <span class="kw1">fun</span> <span class="br0">{</span><span class="re1">$</span> X<span class="br0">}</span> X<span class="sy0">.</span>2 <span class="kw1">end</span><span class="br0">}</span><br>&nbsp;<br>  <span class="kw1">proc</span> <span class="br0">{</span><span class="re1">Knapsack</span> Solution<span class="br0">}</span><br>     <span class="co1">%% a solution maps items to finite domain variables</span><br>     <span class="co1">%% with the domain {0,1}</span><br>     Solution = <span class="br0">{</span>Record<span class="sy0">.</span>map Problem <span class="kw1">fun</span> <span class="br0">{</span><span class="re1">$</span> _<span class="br0">}</span> <span class="br0">{</span>FD<span class="sy0">.</span>int 0<span class="sy0">#</span>1<span class="br0">}</span> <span class="kw1">end</span><span class="br0">}</span><br>     <span class="co1">%% no more than 400 hectograms</span><br>     <span class="br0">{</span>FD<span class="sy0">.</span>sumC Weights Solution <span class="st0">'=&lt;:'</span> 400<span class="br0">}</span> <br>     <span class="co1">%% search through valid solutions</span><br>     <span class="br0">{</span>FD<span class="sy0">.</span>distribute naive Solution<span class="br0">}</span><br>  <span class="kw1">end</span><br>&nbsp;<br>  <span class="kw1">proc</span> <span class="br0">{</span><span class="re1">PropagateLargerValue</span> Old New<span class="br0">}</span><br>     <span class="co1">%% propagate that new solutions must yield a higher value</span><br>     <span class="co1">%% than previously found solutions (essential for performance)</span><br>     <span class="br0">{</span>FD<span class="sy0">.</span>sumC Values New <span class="st0">'&gt;:'</span> <span class="br0">{</span>Value Old<span class="br0">}</span><span class="br0">}</span> <br>  <span class="kw1">end</span><br>&nbsp;<br>  <span class="kw1">fun</span> <span class="br0">{</span><span class="re1">Value</span> Candidate<span class="br0">}</span><br>     <span class="br0">{</span>Record<span class="sy0">.</span>foldL <span class="br0">{</span>Record<span class="sy0">.</span>zip Candidate Values Number<span class="sy0">.</span><span class="st0">'*'</span><span class="br0">}</span> Number<span class="sy0">.</span><span class="st0">'+'</span> 0<span class="br0">}</span><br>  <span class="kw1">end</span><br>&nbsp;<br>  <span class="kw1">fun</span> <span class="br0">{</span><span class="re1">Weight</span> Candidate<span class="br0">}</span><br>     <span class="br0">{</span>Record<span class="sy0">.</span>foldL <span class="br0">{</span>Record<span class="sy0">.</span>zip Candidate Weights Number<span class="sy0">.</span><span class="st0">'*'</span><span class="br0">}</span> Number<span class="sy0">.</span><span class="st0">'+'</span> 0<span class="br0">}</span><br>  <span class="kw1">end</span><br>&nbsp;<br>  <span class="br0">[</span>Best<span class="br0">]</span> = <span class="br0">{</span>SearchBest Knapsack PropagateLargerValue<span class="br0">}</span><br><span class="kw1">in</span><br>  <span class="br0">{</span>System<span class="sy0">.</span>showInfo <span class="st0">"Items: "</span><span class="br0">}</span><br>  <span class="br0">{</span>ForAll<br>     <span class="br0">{</span>Record<span class="sy0">.</span>arity <span class="br0">{</span>Record<span class="sy0">.</span>filter Best <span class="kw1">fun</span> <span class="br0">{</span><span class="re1">$</span> T<span class="br0">}</span> T <span class="sy0">==</span> 1 <span class="kw1">end</span><span class="br0">}</span><span class="br0">}</span><br>     System<span class="sy0">.</span>showInfo<span class="br0">}</span><br>  <span class="br0">{</span>System<span class="sy0">.</span>printInfo <span class="st0">"<span class="es0">\n</span>"</span><span class="br0">}</span><br>  <span class="br0">{</span>System<span class="sy0">.</span>showInfo <span class="st0">"total value: "</span><span class="sy0">#</span><span class="br0">{</span>Value Best<span class="br0">}</span><span class="br0">}</span><br>  <span class="br0">{</span>System<span class="sy0">.</span>showInfo <span class="st0">"total weight: "</span><span class="sy0">#</span><span class="br0">{</span>Weight Best<span class="br0">}</span><span class="br0">}</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Items: 
banana
compass
glucose
map
note-case
sandwich
socks
sunglasses
suntan cream
water
waterproof overclothes
waterproof trousers

total value: 1030
total weight: 396
</pre>
<p>Typically runs in less than 150 milliseconds.
</p><p><br>
</p>
<h2><span class="mw-headline" id="Pascal"><a href="https://rosettacode.org/wiki/Category:Pascal" title="Category:Pascal">Pascal</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=50" title="Edit section: Pascal">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Uses a stringlist to store the items. I used the algorithm given on 
Wikipedia (Knapsack problem) to find the maximum value. It is written in
 pseudocode that translates very easily to Pascal.
</p>
<pre class="pascal highlighted_source">&nbsp;<br><span class="kw1">program</span> project1<span class="sy1">;</span><br><span class="kw1">uses</span><br>  sysutils<span class="sy1">,</span> classes<span class="sy1">,</span> math<span class="sy1">;</span><br>&nbsp;<br><span class="kw1">const</span><br>  MaxWeight <span class="sy3">=</span> <span class="nu0">400</span><span class="sy1">;</span><br>  N <span class="sy3">=</span> <span class="nu0">21</span><span class="sy1">;</span><br>&nbsp;<br><span class="kw1">type</span><br>  TMaxArray <span class="sy3">=</span> <span class="kw4">array</span><span class="br0">[</span><span class="nu0">0</span><span class="sy1">..</span><span class="me1">N</span><span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">..</span><span class="me1">MaxWeight</span><span class="br0">]</span> <span class="kw1">of</span> <span class="kw4">integer</span><span class="sy1">;</span><br>&nbsp;<br>  TEquipment <span class="sy3">=</span> <span class="kw4">record</span><br>    Description <span class="sy1">:</span> <span class="kw4">string</span><span class="sy1">;</span><br>    Weight <span class="sy1">:</span> <span class="kw4">integer</span><span class="sy1">;</span><br>    Value <span class="sy1">:</span> <span class="kw4">integer</span><span class="sy1">;</span><br>  <span class="kw1">end</span><span class="sy1">;</span><br>&nbsp;<br>  TEquipmentList <span class="sy3">=</span> <span class="kw4">array</span><span class="br0">[</span><span class="nu0">1</span><span class="sy1">..</span><span class="me1">N</span><span class="br0">]</span> <span class="kw1">of</span> TEquipment<span class="sy1">;</span><br>&nbsp;<br><span class="kw1">var</span><br>   M<span class="sy1">:</span>TMaxArray<span class="sy1">;</span><br>   MaxValue<span class="sy1">,</span> WeightLeft<span class="sy1">,</span> i<span class="sy1">,</span> j<span class="sy1">,</span> Sum <span class="sy1">:</span> <span class="kw4">integer</span><span class="sy1">;</span><br>   S<span class="sy1">,</span>KnapSack<span class="sy1">:</span>TStringList<span class="sy1">;</span><br>   L<span class="sy1">:</span><span class="kw4">string</span><span class="sy1">;</span><br>   List<span class="sy1">:</span>TEquipmentList<span class="sy1">;</span><br>&nbsp;<br><span class="kw1">begin</span><br>   <span class="co1">//Put all the items into an array called List</span><br>   L<span class="sy1">:</span><span class="sy3">=</span><span class="st0">'map ,9 ,150,compass ,13 ,35 ,water ,153 ,200 ,sandwich,50 ,160 ,glucose ,15 ,60 ,tin,68 ,45 ,banana,27,60 ,apple ,39 ,40 ,cheese ,23 ,30 ,beer ,52 ,10 ,suntancreme ,11 ,70 ,camera ,32 ,30 ,T-shirt ,24 ,15 ,trousers ,48 ,40 ,waterprooftrousers ,42 ,70 ,waterproofoverclothes ,43 ,75 ,notecase ,22 ,80 ,sunglasses ,7 ,20 ,towel ,18 ,12 ,socks ,4 ,50 ,book ,30 ,10'</span><span class="sy1">;</span><br>   S<span class="sy1">:</span><span class="sy3">=</span>TStringList<span class="sy1">.</span><span class="me1">create</span><span class="sy1">;</span><br>   S<span class="sy1">.</span><span class="me1">Commatext</span><span class="sy1">:</span><span class="sy3">=</span>L<span class="sy1">;</span><br>&nbsp;<br>   <span class="kw1">For</span> i<span class="sy1">:</span><span class="sy3">=</span> <span class="nu0">1</span> <span class="kw1">to</span> N <span class="kw1">do</span><br>   <span class="kw1">begin</span><br>      List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Description</span><span class="sy1">:</span><span class="sy3">=</span>S<span class="br0">[</span><span class="nu0">3</span><span class="sy3">*</span>i <span class="sy3">-</span> <span class="nu0">3</span><span class="br0">]</span><span class="sy1">;</span><br>      List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Weight</span><span class="sy1">:</span><span class="sy3">=</span>strtoint<span class="br0">(</span>S<span class="br0">[</span><span class="nu0">3</span><span class="sy3">*</span>i <span class="sy3">-</span> <span class="nu0">2</span><span class="br0">]</span><span class="br0">)</span><span class="sy1">;</span><br>      List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Value</span><span class="sy1">:</span><span class="sy3">=</span>strtoint<span class="br0">(</span>S<span class="br0">[</span><span class="nu0">3</span><span class="sy3">*</span>i <span class="sy3">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span><span class="sy1">;</span><br>   <span class="kw1">end</span><span class="sy1">;</span><br>&nbsp;<br>   <span class="co1">//create M, a table linking the possible items for each weight</span><br>   <span class="co1">//and recording the value at that point</span><br>   <span class="kw1">for</span> j <span class="sy1">:</span><span class="sy3">=</span> <span class="nu0">0</span> <span class="kw1">to</span> MaxWeight <span class="kw1">do</span><br>       M<span class="br0">[</span><span class="nu0">0</span><span class="sy1">,</span> j<span class="br0">]</span> <span class="sy1">:</span><span class="sy3">=</span> <span class="nu0">0</span><br>&nbsp;<br>   <span class="kw1">for</span> i <span class="sy1">:</span><span class="sy3">=</span> <span class="nu0">1</span> <span class="kw1">to</span> N <span class="kw1">do</span><br>       <span class="kw1">for</span> j <span class="sy1">:</span><span class="sy3">=</span> <span class="nu0">0</span> <span class="kw1">to</span> MaxWeight <span class="kw1">do</span><br>           <span class="kw1">if</span> List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">weight</span> &gt; j <span class="kw1">then</span><br>               M<span class="br0">[</span>i<span class="sy1">,</span> j<span class="br0">]</span> <span class="sy1">:</span><span class="sy3">=</span> M<span class="br0">[</span>i<span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> j<span class="br0">]</span><br>           <span class="kw1">else</span><br>               M<span class="br0">[</span>i<span class="sy1">,</span> j<span class="br0">]</span> <span class="sy1">:</span><span class="sy3">=</span> max<span class="br0">(</span>M<span class="br0">[</span>i<span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> j<span class="br0">]</span><span class="sy1">,</span> M<span class="br0">[</span>i<span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> j<span class="sy3">-</span>List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">weight</span><span class="br0">]</span> <span class="sy3">+</span> List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">value</span><span class="br0">)</span><span class="sy1">;</span><br>&nbsp;<br>   <span class="co1">//get the highest total value by testing every value in table M</span><br>   <span class="kw1">for</span> i<span class="sy1">:</span><span class="sy3">=</span><span class="nu0">1</span> <span class="kw1">to</span> N <span class="kw1">do</span><br>       <span class="kw1">for</span> j<span class="sy1">:</span><span class="sy3">=</span> <span class="nu0">0</span> <span class="kw1">to</span> MaxWeight <span class="kw1">do</span><br>           <span class="kw1">If</span> M<span class="br0">[</span>i<span class="sy1">,</span>j<span class="br0">]</span> &gt; MaxValue <span class="kw1">then</span><br>               MaxValue <span class="sy1">:</span><span class="sy3">=</span> m<span class="br0">[</span>i<span class="sy1">,</span>j<span class="br0">]</span><span class="sy1">;</span><br>&nbsp;<br>   <span class="kw3">writeln</span><span class="br0">(</span><span class="st0">'Highest total value&nbsp;: '</span><span class="sy1">,</span>MaxValue<span class="br0">)</span><span class="sy1">;</span><br>&nbsp;<br>  <span class="co1">//Work backwards through the items to find those items that go in the Knapsack (a stringlist)</span><br>   KnapSack <span class="sy1">:</span><span class="sy3">=</span> TStringList<span class="sy1">.</span><span class="me1">create</span><span class="sy1">;</span><br>   WeightLeft <span class="sy1">:</span><span class="sy3">=</span> MaxWeight<span class="sy1">;</span><br>   <span class="kw1">For</span> i<span class="sy1">:</span><span class="sy3">=</span> N <span class="kw1">downto</span> <span class="nu0">1</span> <span class="kw1">do</span><br>       <span class="kw1">if</span> M<span class="br0">[</span>i<span class="sy1">,</span>WeightLeft<span class="br0">]</span> <span class="sy3">=</span> MaxValue <span class="kw1">then</span><br>          <span class="kw1">if</span> M<span class="br0">[</span>i<span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> WeightLeft <span class="sy3">-</span> List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Weight</span><span class="br0">]</span> <span class="sy3">=</span> MaxValue <span class="sy3">-</span> List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Value</span> <span class="kw1">then</span><br>          <span class="kw1">begin</span><br>            Knapsack<span class="sy1">.</span><span class="me1">add</span><span class="br0">(</span>List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Description</span> <span class="sy3">+</span> <span class="st0">' '</span> <span class="sy3">+</span> IntToStr<span class="br0">(</span>List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Weight</span><span class="br0">)</span><span class="sy3">+</span> <span class="st0">' '</span> <span class="sy3">+</span> inttostr<span class="br0">(</span>List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Value</span><span class="br0">)</span><span class="br0">)</span><span class="sy1">;</span><br>            MaxValue <span class="sy1">:</span><span class="sy3">=</span> MaxValue <span class="sy3">-</span> List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Value</span><span class="sy1">;</span><br>            WeightLeft <span class="sy1">:</span><span class="sy3">=</span> WeightLeft <span class="sy3">-</span> List<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">.</span><span class="me1">Weight</span><span class="sy1">;</span><br>          <span class="kw1">end</span><br>&nbsp;<br>   <span class="co1">//Show the items in the knapsack</span><br>   <span class="kw3">writeln</span><span class="br0">(</span><span class="st0">'Number of items    &nbsp;: '</span><span class="sy1">,</span>KnapSack<span class="sy1">.</span><span class="me1">count</span><span class="br0">)</span><span class="sy1">;</span><br>   <span class="kw3">writeln</span><span class="br0">(</span><span class="st0">'-------------------------'</span><span class="br0">)</span><span class="sy1">;</span><br>   <span class="kw1">For</span> i<span class="sy1">:</span><span class="sy3">=</span> KnapSack<span class="sy1">.</span><span class="me1">count</span><span class="sy3">-</span><span class="nu0">1</span> <span class="kw1">downto</span> <span class="nu0">0</span> <span class="kw1">do</span><br>     <span class="kw3">writeln</span><span class="br0">(</span>KnapSack<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy1">;</span><br>&nbsp;<br>   KnapSack<span class="sy1">.</span><span class="me1">free</span><span class="sy1">;</span><br>   S<span class="sy1">.</span><span class="me1">free</span><span class="sy1">;</span><br>   <span class="kw3">writeln</span><span class="br0">(</span><span class="st0">'-------------------------'</span><span class="br0">)</span><span class="sy1">;</span><br>   <span class="kw3">writeln</span><span class="br0">(</span><span class="st0">'done'</span><span class="br0">)</span><span class="sy1">;</span><br>   <span class="kw3">readln</span><span class="sy1">;</span><br><span class="kw1">end</span><span class="sy1">.</span>   <br>&nbsp;</pre>
<p>Output
</p>
<pre>Highest total value&nbsp;: 1030
Number of items    &nbsp;: 12
-------------------------
map 9 150
compass 13 35
water 153 200
sandwich 50 160
glucose 15 60
banana 27 60
suntancreme 11 70
waterprooftrousers 42 70
waterproofoverclothes 43 75
notecase 22 80
sunglasses 7 20
socks 4 50
-------------------------
done
</pre>
<h2><span class="mw-headline" id="Perl"><a href="https://rosettacode.org/wiki/Category:Perl" title="Category:Perl">Perl</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=51" title="Edit section: Perl">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The dynamic programming solution from Wikipedia.
</p>
<pre class="perl highlighted_source"><span class="kw1">my</span> <span class="re0">$raw</span> <span class="sy0">=</span> <span class="co4">&lt;&lt;'TABLE';<br>map			9	150<br>compass			13	35<br>water			153	200<br>sandwich		50	160<br>glucose			15	60<br>tin			68	45<br>banana			27	60<br>apple			39	40<br>cheese			23	30<br>beer			52	10<br>suntancream		11	70<br>camera			32	30<br>T-shirt			24	15<br>trousers		48	10<br>umbrella		73	40<br>waterproof trousers	42	70<br>waterproof overclothes	43	75<br>note-case		22	80<br>sunglasses		7	20<br>towel			18	12<br>socks			4	50<br>book			30	10<br>TABLE</span><br>&nbsp;<br><span class="kw1">my</span> <span class="br0">(</span><span class="re0">@name</span><span class="sy0">,</span> <span class="re0">@weight</span><span class="sy0">,</span> <span class="re0">@value</span><span class="br0">)</span><span class="sy0">;</span><br><span class="kw1">for</span> <span class="br0">(</span><a href="http://perldoc.perl.org/functions/split.html"><span class="kw3">split</span></a> <span class="st0">"<span class="es0">\n</span>"</span><span class="sy0">,</span> <span class="re0">$raw</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">for</span> <span class="br0">(</span><span class="br0">[</span> <a href="http://perldoc.perl.org/functions/split.html"><span class="kw3">split</span></a> <span class="co2">/\t+/</span> <span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>        <a href="http://perldoc.perl.org/functions/push.html"><span class="kw3">push</span></a> <span class="re0">@name</span><span class="sy0">,</span>   <span class="co5">$_</span><span class="sy0">-&gt;</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">;</span><br>        <a href="http://perldoc.perl.org/functions/push.html"><span class="kw3">push</span></a> <span class="re0">@weight</span><span class="sy0">,</span> <span class="co5">$_</span><span class="sy0">-&gt;</span><span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">;</span><br>        <a href="http://perldoc.perl.org/functions/push.html"><span class="kw3">push</span></a> <span class="re0">@value</span><span class="sy0">,</span>  <span class="co5">$_</span><span class="sy0">-&gt;</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="sy0">;</span><br>    <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw1">my</span> <span class="re0">$max_weight</span> <span class="sy0">=</span> <span class="nu0">400</span><span class="sy0">;</span><br><span class="kw1">my</span> <span class="re0">@p</span> <span class="sy0">=</span> <a href="http://perldoc.perl.org/functions/map.html"><span class="kw3">map</span></a> <span class="br0">[</span><a href="http://perldoc.perl.org/functions/map.html"><span class="kw3">map</span></a> <a href="http://perldoc.perl.org/functions/undef.html"><span class="kw3">undef</span></a><span class="sy0">,</span> <span class="nu0">0</span> <span class="sy0">..</span> <span class="nu0">1</span><span class="sy0">+</span><span class="re0">$max_weight</span><span class="br0">]</span><span class="sy0">,</span> <span class="nu0">0</span> <span class="sy0">..</span> <span class="re0">$#name</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw2">sub</span> optimal <span class="br0">{</span><br>    <span class="kw1">my</span> <span class="br0">(</span><span class="re0">$i</span><span class="sy0">,</span> <span class="re0">$w</span><span class="br0">)</span> <span class="sy0">=</span> <span class="co5">@_</span><span class="sy0">;</span><br>    <a href="http://perldoc.perl.org/functions/return.html"><span class="kw3">return</span></a> <span class="br0">[</span><span class="nu0">0</span><span class="sy0">,</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">]</span> <span class="kw1">if</span> <span class="re0">$i</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <a href="http://perldoc.perl.org/functions/return.html"><span class="kw3">return</span></a> <span class="re0">$p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span> <span class="kw1">if</span> <span class="re0">$p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">if</span> <span class="br0">(</span><span class="re0">$weight</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="re0">$w</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="re0">$p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span> <span class="sy0">=</span> optimal<span class="br0">(</span><span class="re0">$i</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$w</span><span class="br0">)</span><br>    <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>        <span class="kw1">my</span> <span class="re0">$x</span> <span class="sy0">=</span> optimal<span class="br0">(</span><span class="re0">$i</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$w</span><span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">my</span> <span class="re0">$y</span> <span class="sy0">=</span> optimal<span class="br0">(</span><span class="re0">$i</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$w</span> <span class="sy0">-</span> <span class="re0">$weight</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        <span class="kw1">if</span> <span class="br0">(</span><span class="re0">$x</span><span class="sy0">-&gt;</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="re0">$y</span><span class="sy0">-&gt;</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">+</span> <span class="re0">$value</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>            <span class="re0">$p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$x</span><br>        <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>            <span class="re0">$p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span> <span class="sy0">=</span> <span class="br0">[</span>  <span class="re0">$y</span><span class="sy0">-&gt;</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">+</span> <span class="re0">$value</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="sy0">,</span> <span class="br0">[</span> <span class="sy0">@</span><span class="br0">{</span><span class="re0">$y</span><span class="sy0">-&gt;</span><span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">}</span><span class="sy0">,</span> <span class="re0">$name</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="br0">]</span><span class="br0">]</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br>    <a href="http://perldoc.perl.org/functions/return.html"><span class="kw3">return</span></a> <span class="re0">$p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw1">my</span> <span class="re0">$solution</span> <span class="sy0">=</span> optimal<span class="br0">(</span><span class="re0">$#name</span><span class="sy0">,</span> <span class="re0">$max_weight</span><span class="br0">)</span><span class="sy0">;</span><br><a href="http://perldoc.perl.org/functions/print.html"><span class="kw3">print</span></a> <span class="st0">"$solution-&gt;[0]: @{$solution-&gt;[1]}<span class="es0">\n</span>"</span><span class="sy0">;</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>1030: map compass water sandwich glucose banana suntancream waterproof trousers waterproof overclothes note-case sunglasses socks</pre>
<h2><span class="mw-headline" id="Perl_6"><a href="https://rosettacode.org/wiki/Category:Perl_6" title="Category:Perl 6">Perl 6</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=52" title="Edit section: Perl 6">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h4><span class="mw-headline" id="Brute_force">Brute force</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=53" title="Edit section: Brute force">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<div class="examplemeta workswith"><b>Works with</b>: <a href="https://rosettacode.org/wiki/Rakudo" title="Rakudo">Rakudo</a> version 2017.01</div>
<pre class="perl6 highlighted_source"><span class="kw1">my</span> <span class="kw2">class</span> KnapsackItem <span class="br0">{</span> <span class="kw1">has</span> <span class="re0">$</span><span class="sy0">.</span><span class="me1">name</span><span class="sy0">;</span> <span class="kw1">has</span> <span class="re0">$</span><span class="sy0">.</span><span class="me1">weight</span><span class="sy0">;</span> <span class="kw1">has</span> <span class="re0">$</span><span class="sy0">.</span><span class="me1">unit</span><span class="sy0">;</span> <span class="br0">}</span><br>&nbsp;<br><span class="kw2">multi</span> <span class="kw2">sub</span> pokem <span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span>           $<span class="sy0">,</span>  <span class="re0">$v</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span> <span class="re0">$v</span> <span class="br0">}</span><br><span class="kw2">multi</span> <span class="kw2">sub</span> pokem <span class="br0">(</span><span class="br0">[</span>$<span class="sy0">,</span>  <span class="sy0">*@</span><span class="br0">]</span><span class="sy0">,</span>     <span class="nu0">0</span><span class="sy0">,</span>  <span class="re0">$v</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span> <span class="re0">$v</span> <span class="br0">}</span><br><span class="kw2">multi</span> <span class="kw2">sub</span> pokem <span class="br0">(</span><span class="br0">[</span><span class="re0">$i</span><span class="sy0">,</span> <span class="sy0">*</span><span class="re0">@rest</span><span class="br0">]</span><span class="sy0">,</span> <span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw1">my</span> <span class="re0">$key</span> <span class="sy0">=</span> <span class="st0">"{+@rest} $w $v"</span><span class="sy0">;</span><br>  <span class="br0">(</span><span class="kw1">state</span> <span class="re0">%cache</span><span class="br0">)</span><span class="br0">{</span><span class="re0">$key</span><span class="br0">}</span> <span class="kw1">or</span> <span class="kw1">do</span> <span class="br0">{</span><br>    <span class="kw1">my</span> <span class="re0">@skip</span> <span class="sy0">=</span> pokem <span class="re0">@rest</span><span class="sy0">,</span> <span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span><span class="sy0">;</span><br>    <span class="kw1">if</span> <span class="re0">$w</span> <span class="sy0">&gt;=</span> <span class="re0">$i</span><span class="sy0">.</span><span class="me1">weight</span> <span class="br0">{</span> <span class="co1"># next one fits</span><br>      <span class="kw1">my</span> <span class="re0">@put</span> <span class="sy0">=</span> pokem <span class="re0">@rest</span><span class="sy0">,</span> <span class="re0">$w</span> <span class="sy0">-</span> <span class="re0">$i</span><span class="sy0">.</span><span class="me1">weight</span><span class="sy0">,</span> <span class="re0">$v</span> <span class="sy0">+</span> <span class="re0">$i</span><span class="sy0">.</span><span class="me1">unit</span><span class="sy0">;</span><br>      <span class="kw1">return</span> <span class="br0">(</span><span class="re0">%cache</span><span class="br0">{</span><span class="re0">$key</span><span class="br0">}</span> <span class="sy0">=</span> <span class="sy0">|</span><span class="re0">@put</span><span class="sy0">,</span> <span class="re0">$i</span><span class="sy0">.</span><span class="me1">name</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">list</span> <span class="kw1">if</span> <span class="re0">@put</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="re0">@skip</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>    <span class="kw1">return</span> <span class="br0">(</span><span class="re0">%cache</span><span class="br0">{</span><span class="re0">$key</span><span class="br0">}</span> <span class="sy0">=</span> <span class="sy0">|</span><span class="re0">@skip</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">list</span><span class="sy0">;</span><br>  <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw1">my</span> <span class="re0">$MAX_WEIGHT</span> <span class="sy0">=</span> <span class="nu0">400</span><span class="sy0">;</span><br><span class="kw1">my</span> <span class="re0">@table</span> <span class="sy0">=</span> flat <span class="kw3">map</span> <span class="sy0">-&gt;</span> <span class="re0">$name</span><span class="sy0">,</span>  <span class="re0">$weight</span><span class="sy0">,</span>  <span class="re0">$unit</span> <span class="br0">{</span><br>     KnapsackItem<span class="sy0">.</span><span class="kw2">new</span><span class="sy0">:</span> <span class="sy0">:</span><span class="re0">$name</span><span class="sy0">,</span> <span class="sy0">:</span><span class="re0">$weight</span><span class="sy0">,</span> <span class="sy0">:</span><span class="re0">$unit</span><span class="sy0">;</span><br><span class="br0">}</span><span class="sy0">,</span><br>    <span class="st_h">'map'</span><span class="sy0">,</span>                      <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">150</span><span class="sy0">,</span><br>    <span class="st_h">'compass'</span><span class="sy0">,</span>                 <span class="nu0">13</span><span class="sy0">,</span>  <span class="nu0">35</span><span class="sy0">,</span><br>    <span class="st_h">'water'</span><span class="sy0">,</span>                  <span class="nu0">153</span><span class="sy0">,</span> <span class="nu0">200</span><span class="sy0">,</span><br>    <span class="st_h">'sandwich'</span><span class="sy0">,</span>                <span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">160</span><span class="sy0">,</span><br>    <span class="st_h">'glucose'</span><span class="sy0">,</span>                 <span class="nu0">15</span><span class="sy0">,</span>  <span class="nu0">60</span><span class="sy0">,</span><br>    <span class="st_h">'tin'</span><span class="sy0">,</span>                     <span class="nu0">68</span><span class="sy0">,</span>  <span class="nu0">45</span><span class="sy0">,</span><br>    <span class="st_h">'banana'</span><span class="sy0">,</span>                  <span class="nu0">27</span><span class="sy0">,</span>  <span class="nu0">60</span><span class="sy0">,</span><br>    <span class="st_h">'apple'</span><span class="sy0">,</span>                   <span class="nu0">39</span><span class="sy0">,</span>  <span class="nu0">40</span><span class="sy0">,</span><br>    <span class="st_h">'cheese'</span><span class="sy0">,</span>                  <span class="nu0">23</span><span class="sy0">,</span>  <span class="nu0">30</span><span class="sy0">,</span><br>    <span class="st_h">'beer'</span><span class="sy0">,</span>                    <span class="nu0">52</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="sy0">,</span><br>    <span class="st_h">'suntan cream'</span><span class="sy0">,</span>            <span class="nu0">11</span><span class="sy0">,</span>  <span class="nu0">70</span><span class="sy0">,</span><br>    <span class="st_h">'camera'</span><span class="sy0">,</span>                  <span class="nu0">32</span><span class="sy0">,</span>  <span class="nu0">30</span><span class="sy0">,</span><br>    <span class="st_h">'T-shirt'</span><span class="sy0">,</span>                 <span class="nu0">24</span><span class="sy0">,</span>  <span class="nu0">15</span><span class="sy0">,</span><br>    <span class="st_h">'trousers'</span><span class="sy0">,</span>                <span class="nu0">48</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="sy0">,</span><br>    <span class="st_h">'umbrella'</span><span class="sy0">,</span>                <span class="nu0">73</span><span class="sy0">,</span>  <span class="nu0">40</span><span class="sy0">,</span><br>    <span class="st_h">'waterproof trousers'</span><span class="sy0">,</span>     <span class="nu0">42</span><span class="sy0">,</span>  <span class="nu0">70</span><span class="sy0">,</span><br>    <span class="st_h">'waterproof overclothes'</span><span class="sy0">,</span>  <span class="nu0">43</span><span class="sy0">,</span>  <span class="nu0">75</span><span class="sy0">,</span><br>    <span class="st_h">'note-case'</span><span class="sy0">,</span>               <span class="nu0">22</span><span class="sy0">,</span>  <span class="nu0">80</span><span class="sy0">,</span><br>    <span class="st_h">'sunglasses'</span><span class="sy0">,</span>               <span class="nu0">7</span><span class="sy0">,</span>  <span class="nu0">20</span><span class="sy0">,</span><br>    <span class="st_h">'towel'</span><span class="sy0">,</span>                   <span class="nu0">18</span><span class="sy0">,</span>  <span class="nu0">12</span><span class="sy0">,</span><br>    <span class="st_h">'socks'</span><span class="sy0">,</span>                    <span class="nu0">4</span><span class="sy0">,</span>  <span class="nu0">50</span><span class="sy0">,</span><br>    <span class="st_h">'book'</span><span class="sy0">,</span>                    <span class="nu0">30</span><span class="sy0">,</span>  <span class="nu0">10</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">my</span> <span class="br0">(</span><span class="re0">$value</span><span class="sy0">,</span> <span class="re0">@result</span><span class="br0">)</span> <span class="sy0">=</span> pokem <span class="re0">@table</span><span class="sy0">,</span> <span class="re0">$MAX_WEIGHT</span><span class="sy0">;</span><br><span class="kw3">say</span> <span class="st0">"Value = $value<span class="es0">\n</span>Tourist put in the bag:<span class="es0">\n</span>  "</span> <span class="sy0">~</span> <span class="re0">@result</span><span class="sy0">;</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Value = 1030
Tourist put in the bag:
  socks sunglasses note-case waterproof overclothes waterproof trousers suntan cream banana glucose sandwich water compass map</pre>
<h4><span class="mw-headline" id="Dynamic_programming">Dynamic programming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=54" title="Edit section: Dynamic programming">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Not as idiomatic as the previous example, but much faster.
</p>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Perl">Perl</a></div>
<pre class="perl6 highlighted_source"><span class="kw1">my</span> <span class="re0">$raw</span> <span class="sy0">=</span> qq<span class="sy0">:</span>to<span class="sy0">/</span>TABLE<span class="sy0">/;</span><br><span class="kw3">map</span>			<span class="nu0">9</span>	<span class="nu0">150</span><br>compass			<span class="nu0">13</span>	<span class="nu0">35</span><br>water			<span class="nu0">153</span>	<span class="nu0">200</span><br>sandwich		<span class="nu0">50</span>	<span class="nu0">160</span><br>glucose			<span class="nu0">15</span>	<span class="nu0">60</span><br>tin			<span class="nu0">68</span>	<span class="nu0">45</span><br>banana			<span class="nu0">27</span>	<span class="nu0">60</span><br>apple			<span class="nu0">39</span>	<span class="nu0">40</span><br>cheese			<span class="nu0">23</span>	<span class="nu0">30</span><br>beer			<span class="nu0">52</span>	<span class="nu0">10</span><br>suntancream		<span class="nu0">11</span>	<span class="nu0">70</span><br>camera			<span class="nu0">32</span>	<span class="nu0">30</span><br>T<span class="sy0">-</span>shirt			<span class="nu0">24</span>	<span class="nu0">15</span><br>trousers		<span class="nu0">48</span>	<span class="nu0">10</span><br>umbrella		<span class="nu0">73</span>	<span class="nu0">40</span><br>waterproof trousers	<span class="nu0">42</span>	<span class="nu0">70</span><br>waterproof overclothes	<span class="nu0">43</span>	<span class="nu0">75</span><br>note<span class="sy0">-</span>case		<span class="nu0">22</span>	<span class="nu0">80</span><br>sunglasses		<span class="nu0">7</span>	<span class="nu0">20</span><br>towel			<span class="nu0">18</span>	<span class="nu0">12</span><br>socks			<span class="nu0">4</span>	<span class="nu0">50</span><br>book			<span class="nu0">30</span>	<span class="nu0">10</span><br>TABLE<br>&nbsp;<br><span class="kw1">my</span> <span class="br0">(</span><span class="re0">@name</span><span class="sy0">,</span> <span class="re0">@weight</span><span class="sy0">,</span> <span class="re0">@value</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">for</span> <span class="kw3">split</span><span class="br0">(</span><span class="br0">[</span><span class="st0">"<span class="es0">\n</span>"</span><span class="sy0">,</span> <span class="sy0">/</span>\t<span class="sy0">+/</span><span class="br0">]</span><span class="sy0">,</span> <span class="re0">$raw</span><span class="sy0">,</span> <span class="sy0">:</span>skip<span class="sy0">-</span>empty<span class="br0">)</span> <span class="sy0">-&gt;</span> <span class="re0">$n</span><span class="sy0">,</span><span class="re0">$w</span><span class="sy0">,</span><span class="re0">$v</span> <span class="br0">{</span><br>    <span class="re0">@name</span><span class="sy0">.</span><span class="kw3">push</span><span class="sy0">:</span>   <span class="re0">$n</span><span class="sy0">;</span><br>    <span class="re0">@weight</span><span class="sy0">.</span><span class="kw3">push</span><span class="sy0">:</span> <span class="re0">$w</span><span class="sy0">;</span><br>    <span class="re0">@value</span><span class="sy0">.</span><span class="kw3">push</span><span class="sy0">:</span>  <span class="re0">$v</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw1">my</span> <span class="re0">$max_weight</span> <span class="sy0">=</span> <span class="nu0">400</span><span class="sy0">;</span><br><span class="kw1">my</span> <span class="re0">@p</span> <span class="sy0">=</span> <span class="br0">[</span>Nil <span class="kw1">xx</span> <span class="re0">$max_weight</span><span class="sy0">+</span><span class="nu0">2</span> <span class="br0">]</span> <span class="kw1">xx</span> <span class="re0">@name</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw2">sub</span> optimal <span class="br0">(</span><span class="re0">$i</span><span class="sy0">,</span> <span class="re0">$w</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">return</span> <span class="br0">[</span><span class="nu0">0</span><span class="sy0">,</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">]</span> <span class="kw1">if</span> <span class="re0">$i</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="sy0">;</span><br>    <span class="kw1">return</span> <span class="sy0">|</span><span class="re0">@p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span> <span class="kw1">if</span> <span class="re0">@p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">if</span> <span class="re0">@weight</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="re0">$w</span> <span class="br0">{</span><br>        <span class="re0">@p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span> <span class="sy0">=</span> optimal<span class="br0">(</span><span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$w</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>        <span class="kw1">my</span> <span class="sy0">@</span><span class="kw1">x</span> <span class="sy0">=</span> optimal<span class="br0">(</span><span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$w</span><span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">my</span> <span class="re0">@y</span> <span class="sy0">=</span> optimal<span class="br0">(</span><span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$w</span> <span class="sy0">-</span> <span class="re0">@weight</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        <span class="kw1">if</span> <span class="br0">(</span><span class="sy0">@</span><span class="kw1">x</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="re0">@y</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">+</span> <span class="re0">@value</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="br0">)</span> <span class="br0">{</span><br>            <span class="re0">@p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span> <span class="sy0">=</span> <span class="sy0">@</span><span class="kw1">x</span><span class="sy0">;</span><br>        <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>            <span class="re0">@p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">@y</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">+</span> <span class="re0">@value</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="sy0">,</span> <span class="br0">[</span><span class="sy0">|</span><span class="re0">@y</span><span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">,</span> <span class="re0">@name</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">]</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br>    <span class="kw1">return</span> <span class="sy0">|</span><span class="re0">@p</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$w</span><span class="br0">]</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw1">my</span> <span class="re0">@solution</span> <span class="sy0">=</span> optimal<span class="br0">(</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">+</span><span class="re0">@name</span><span class="sy0">,</span> <span class="re0">$max_weight</span><span class="br0">)</span><span class="sy0">;</span><br><span class="kw3">say</span> <span class="st0">"@solution[0]: "</span> <span class="sy0">~</span> <span class="kw3">join</span> <span class="st_h">' '</span><span class="sy0">,</span> <span class="re0">@solution</span><span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">;</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>1030: map compass water sandwich glucose banana suntancream waterproof trousers waterproof overclothes note-case sunglasses socks</pre>
<h2><span class="mw-headline" id="Phix"><a href="https://rosettacode.org/wiki/Category:Phix" title="Category:Phix">Phix</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=55" title="Edit section: Phix">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Trivial simplification of the <a href="https://rosettacode.org/wiki/Knapsack_problem/Bounded#Phix" title="Knapsack problem/Bounded">Knapsack/Bounded</a> solution. See that page for discussion of the terminate flag.
In this case I have switched the optimisation on.
</p>
<pre class="text highlighted_source">integer terminate=0<br>&nbsp;<br>integer attempts = 0<br>function knapsack(sequence res, goodies, atom points, weight, at=1, sequence chosen={})<br>    atom {witem,pitem} = goodies[at][2]<br>    integer n = (witem&lt;=weight)<br>    chosen &amp;= n<br>    points += n*pitem   -- increase value<br>    weight -= n*witem   -- decrease weight left<br>    if at=length(goodies) then<br>        attempts += 1<br>        if length(res)=0<br>        or res&lt;{points,weight} then<br>            res = {points,weight,chosen}<br>        end if<br>        terminate = (n=1)<br>    else<br>        while n&gt;=0 and not terminate do<br>            res = knapsack(res,goodies,points,weight,at+1,chosen)<br>            n -= 1<br>            chosen[$] = n<br>            points -= pitem<br>            weight += witem<br>        end while<br>    end if<br>    return res<br>end function<br>&nbsp;<br>function byweightedvalue(object a, b)<br>    -- sort by weight/value<br>    return compare(a[2][1]/a[2][2],b[2][1]/b[2][2])<br>    -- nb other sort orders break the optimisation<br>end function<br>&nbsp;<br>constant goodies = custom_sort(routine_id("byweightedvalue"),{<br>-- item                     weight value<br>{"map",                     {9,     150}},<br>{"compass",                 {13,    35 }},<br>{"water",                   {153,   200}},<br>{"sandwich",                {50,    160}},<br>{"glucose",                 {15,    60 }},<br>{"tin",                     {68,    45 }},<br>{"banana",                  {27,    60 }},<br>{"apple",                   {39,    40 }},<br>{"cheese",                  {23,    30 }},<br>{"beer",                    {52,    10 }},<br>{"suntan cream",            {11,    70 }},<br>{"camera",                  {32,    30 }},<br>{"T-shirt",                 {24,    15 }},<br>{"trousers",                {48,    10 }},<br>{"umbrella",                {73,    40 }},<br>{"waterproof trousers",     {42,    70 }},<br>{"waterproof overclothes",  {43,    75 }},<br>{"note-case",               {22,    80 }},<br>{"sunglasses",              {7,     20 }},<br>{"towel",                   {18,    12 }},<br>{"socks",                   {4,     50 }},<br>{"book",                    {30,    10 }}})<br>&nbsp;<br>atom t0 = time()<br>object {points,weight,counts} = knapsack({},goodies,0,400)<br>printf(1,"Value&nbsp;%d, weight&nbsp;%g [%d attempts,&nbsp;%3.2fs]:\n",{points,400-weight,attempts,time()-t0})<br>for i=1 to length(counts) do<br>    integer c = counts[i]<br>    if c then<br>        printf(1,"%s\n",{goodies[i][1]})<br>    end if<br>end for</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Value 1030, weight 396 [9 attempts, 0.00s]:
map
socks
suntan cream
glucose
note-case
sandwich
sunglasses
compass
banana
waterproof overclothes
waterproof trousers
water
</pre>
<p>without the optimisation:
</p>
<pre>Value 1030, weight 396 [1216430 attempts, 0.84s]:
</pre>
<h2><span class="mw-headline" id="PHP"><a href="https://rosettacode.org/wiki/Category:PHP" title="Category:PHP">PHP</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=56" title="Edit section: PHP">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="php highlighted_source"><span class="co2">#########################################################<br></span><span class="co2"># 0-1 Knapsack Problem Solve with memoization optimize and index returns<br></span><span class="co2"># $w = weight of item<br></span><span class="co2"># $v = value of item<br></span><span class="co2"># $i = index<br></span><span class="co2"># $aW = Available Weight<br></span><span class="co2"># $m = Memo items array<br></span><span class="co2"># PHP Translation from Python, Memoization,<br></span><span class="co2"># and index return functionality added by Brian Berneker<br></span><span class="co2">#<br></span><span class="co2">#########################################################<br></span><br><span class="kw2">function</span> knapSolveFast2<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span><span class="sy0">,</span> <span class="re0">$i</span><span class="sy0">,</span> <span class="re0">$aW</span><span class="sy0">,</span> <span class="sy0">&amp;</span><span class="re0">$m</span><span class="br0">)</span> <span class="br0">{</span><br>&nbsp;<br>	<span class="kw2">global</span> <span class="re0">$numcalls</span><span class="sy0">;</span><br>	<span class="re0">$numcalls</span> <span class="sy0">++;</span><br>	<span class="co1">// echo "Called with i=$i, aW=$aW&lt;br&gt;";</span><br>&nbsp;<br>	<span class="co1">// Return memo if we have one</span><br>	<span class="kw1">if</span> <span class="br0">(</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">(</span><span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>		<span class="kw1">return</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span> <span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span><span class="sy0">,</span> <span class="re0">$m</span><span class="br0">[</span><span class="st_h">'picked'</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="br0">)</span><span class="sy0">;</span><br>	<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>&nbsp;<br>		<span class="co1">// At end of decision branch</span><br>		<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$i</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>			<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">&lt;=</span> <span class="re0">$aW</span><span class="br0">)</span> <span class="br0">{</span> <span class="co1">// Will this item fit?</span><br>				<span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$v</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="sy0">;</span> <span class="co1">// Memo this item</span><br>				<span class="re0">$m</span><span class="br0">[</span><span class="st_h">'picked'</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="re0">$i</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// and the picked item</span><br>				<span class="kw1">return</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="re0">$v</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="sy0">,</span><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="re0">$i</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// Return the value of this item and add it to the picked list</span><br>&nbsp;<br>			<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>				<span class="co1">// Won't fit</span><br>				<span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> <span class="co1">// Memo zero</span><br>				<span class="re0">$m</span><span class="br0">[</span><span class="st_h">'picked'</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// and a blank array entry...</span><br>				<span class="kw1">return</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// Return nothing</span><br>			<span class="br0">}</span><br>		<span class="br0">}</span>	<br>&nbsp;<br>		<span class="co1">// Not at end of decision branch..</span><br>		<span class="co1">// Get the result of the next branch (without this one)</span><br>		<a href="http://www.php.net/list"><span class="kw3">list</span></a> <span class="br0">(</span><span class="re0">$without_i</span><span class="sy0">,</span> <span class="re0">$without_PI</span><span class="br0">)</span> <span class="sy0">=</span> knapSolveFast2<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span><span class="sy0">,</span> <span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$aW</span><span class="sy0">,</span> <span class="re0">$m</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>		<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="re0">$aW</span><span class="br0">)</span> <span class="br0">{</span> <span class="co1">// Does it return too many?</span><br>&nbsp;<br>			<span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$without_i</span><span class="sy0">;</span> <span class="co1">// Memo without including this one</span><br>			<span class="re0">$m</span><span class="br0">[</span><span class="st_h">'picked'</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$without_PI</span><span class="sy0">;</span> <span class="co1">// and a blank array entry...</span><br>			<span class="kw1">return</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="re0">$without_i</span><span class="sy0">,</span> <span class="re0">$without_PI</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// and return it</span><br>&nbsp;<br>		<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>&nbsp;<br>			<span class="co1">// Get the result of the next branch (WITH this one picked, so available weight is reduced)</span><br>			<a href="http://www.php.net/list"><span class="kw3">list</span></a> <span class="br0">(</span><span class="re0">$with_i</span><span class="sy0">,</span><span class="re0">$with_PI</span><span class="br0">)</span> <span class="sy0">=</span> knapSolveFast2<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span><span class="sy0">,</span> <span class="br0">(</span><span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="re0">$aW</span> <span class="sy0">-</span> <span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">,</span> <span class="re0">$m</span><span class="br0">)</span><span class="sy0">;</span><br>			<span class="re0">$with_i</span> <span class="sy0">+=</span> <span class="re0">$v</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="sy0">;</span>  <span class="co1">// ..and add the value of this one..</span><br>&nbsp;<br>			<span class="co1">// Get the greater of WITH or WITHOUT</span><br>			<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$with_i</span> <span class="sy0">&gt;</span> <span class="re0">$without_i</span><span class="br0">)</span> <span class="br0">{</span><br>				<span class="re0">$res</span> <span class="sy0">=</span> <span class="re0">$with_i</span><span class="sy0">;</span><br>				<span class="re0">$picked</span> <span class="sy0">=</span> <span class="re0">$with_PI</span><span class="sy0">;</span><br>				<a href="http://www.php.net/array_push"><span class="kw3">array_push</span></a><span class="br0">(</span><span class="re0">$picked</span><span class="sy0">,</span><span class="re0">$i</span><span class="br0">)</span><span class="sy0">;</span><br>			<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>				<span class="re0">$res</span> <span class="sy0">=</span> <span class="re0">$without_i</span><span class="sy0">;</span><br>				<span class="re0">$picked</span> <span class="sy0">=</span> <span class="re0">$without_PI</span><span class="sy0">;</span><br>			<span class="br0">}</span><br>&nbsp;<br>			<span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$res</span><span class="sy0">;</span> <span class="co1">// Store it in the memo</span><br>			<span class="re0">$m</span><span class="br0">[</span><span class="st_h">'picked'</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$picked</span><span class="sy0">;</span> <span class="co1">// and store the picked item</span><br>			<span class="kw1">return</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a> <span class="br0">(</span><span class="re0">$res</span><span class="sy0">,</span><span class="re0">$picked</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// and then return it</span><br>		<span class="br0">}</span>	<br>	<span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br>&nbsp;<br>&nbsp;<br><span class="re0">$items4</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st0">"map"</span><span class="sy0">,</span><span class="st0">"compass"</span><span class="sy0">,</span><span class="st0">"water"</span><span class="sy0">,</span><span class="st0">"sandwich"</span><span class="sy0">,</span><span class="st0">"glucose"</span><span class="sy0">,</span><span class="st0">"tin"</span><span class="sy0">,</span><span class="st0">"banana"</span><span class="sy0">,</span><span class="st0">"apple"</span><span class="sy0">,</span><span class="st0">"cheese"</span><span class="sy0">,</span><span class="st0">"beer"</span><span class="sy0">,</span><span class="st0">"suntan cream"</span><span class="sy0">,</span><span class="st0">"camera"</span><span class="sy0">,</span><span class="st0">"t-shirt"</span><span class="sy0">,</span><span class="st0">"trousers"</span><span class="sy0">,</span><span class="st0">"umbrella"</span><span class="sy0">,</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span><span class="st0">"waterproof overclothes"</span><span class="sy0">,</span><span class="st0">"note-case"</span><span class="sy0">,</span><span class="st0">"sunglasses"</span><span class="sy0">,</span><span class="st0">"towel"</span><span class="sy0">,</span><span class="st0">"socks"</span><span class="sy0">,</span><span class="st0">"book"</span><span class="br0">)</span><span class="sy0">;</span><br><span class="re0">$w4</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="nu0">9</span><span class="sy0">,</span><span class="nu0">13</span><span class="sy0">,</span><span class="nu0">153</span><span class="sy0">,</span><span class="nu0">50</span><span class="sy0">,</span><span class="nu0">15</span><span class="sy0">,</span><span class="nu0">68</span><span class="sy0">,</span><span class="nu0">27</span><span class="sy0">,</span><span class="nu0">39</span><span class="sy0">,</span><span class="nu0">23</span><span class="sy0">,</span><span class="nu0">52</span><span class="sy0">,</span><span class="nu0">11</span><span class="sy0">,</span><span class="nu0">32</span><span class="sy0">,</span><span class="nu0">24</span><span class="sy0">,</span><span class="nu0">48</span><span class="sy0">,</span><span class="nu0">73</span><span class="sy0">,</span><span class="nu0">42</span><span class="sy0">,</span><span class="nu0">43</span><span class="sy0">,</span><span class="nu0">22</span><span class="sy0">,</span><span class="nu0">7</span><span class="sy0">,</span><span class="nu0">18</span><span class="sy0">,</span><span class="nu0">4</span><span class="sy0">,</span><span class="nu0">30</span><span class="br0">)</span><span class="sy0">;</span><br><span class="re0">$v4</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="nu0">150</span><span class="sy0">,</span><span class="nu0">35</span><span class="sy0">,</span><span class="nu0">200</span><span class="sy0">,</span><span class="nu0">160</span><span class="sy0">,</span><span class="nu0">60</span><span class="sy0">,</span><span class="nu0">45</span><span class="sy0">,</span><span class="nu0">60</span><span class="sy0">,</span><span class="nu0">40</span><span class="sy0">,</span><span class="nu0">30</span><span class="sy0">,</span><span class="nu0">10</span><span class="sy0">,</span><span class="nu0">70</span><span class="sy0">,</span><span class="nu0">30</span><span class="sy0">,</span><span class="nu0">15</span><span class="sy0">,</span><span class="nu0">10</span><span class="sy0">,</span><span class="nu0">40</span><span class="sy0">,</span><span class="nu0">70</span><span class="sy0">,</span><span class="nu0">75</span><span class="sy0">,</span><span class="nu0">80</span><span class="sy0">,</span><span class="nu0">20</span><span class="sy0">,</span><span class="nu0">12</span><span class="sy0">,</span><span class="nu0">50</span><span class="sy0">,</span><span class="nu0">10</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="co2">## Initialize<br></span><span class="re0">$numcalls</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> <span class="re0">$m</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> <span class="re0">$pickedItems</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="co2">## Solve<br></span><a href="http://www.php.net/list"><span class="kw3">list</span></a> <span class="br0">(</span><span class="re0">$m4</span><span class="sy0">,</span><span class="re0">$pickedItems</span><span class="br0">)</span> <span class="sy0">=</span> knapSolveFast2<span class="br0">(</span><span class="re0">$w4</span><span class="sy0">,</span> <span class="re0">$v4</span><span class="sy0">,</span> <a href="http://www.php.net/sizeof"><span class="kw3">sizeof</span></a><span class="br0">(</span><span class="re0">$v4</span><span class="br0">)</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">400</span><span class="sy0">,</span> <span class="re0">$m</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="co2"># Display Result <br></span><span class="kw1">echo</span> <span class="st0">"&lt;b&gt;Items:&lt;/b&gt;&lt;br&gt;"</span><span class="sy0">.</span><a href="http://www.php.net/join"><span class="kw3">join</span></a><span class="br0">(</span><span class="st0">", "</span><span class="sy0">,</span><span class="re0">$items4</span><span class="br0">)</span><span class="sy0">.</span><span class="st0">"&lt;br&gt;"</span><span class="sy0">;</span><br><span class="kw1">echo</span> <span class="st0">"&lt;b&gt;Max Value Found:&lt;/b&gt;&lt;br&gt;<span class="es4">$m4</span> (in <span class="es4">$numcalls</span> calls)&lt;br&gt;"</span><span class="sy0">;</span><br><span class="kw1">echo</span> <span class="st0">"&lt;b&gt;Array Indices:&lt;/b&gt;&lt;br&gt;"</span><span class="sy0">.</span><a href="http://www.php.net/join"><span class="kw3">join</span></a><span class="br0">(</span><span class="st0">","</span><span class="sy0">,</span><span class="re0">$pickedItems</span><span class="br0">)</span><span class="sy0">.</span><span class="st0">"&lt;br&gt;"</span><span class="sy0">;</span><br>&nbsp;<br>&nbsp;<br><span class="kw1">echo</span> <span class="st0">"&lt;b&gt;Chosen Items:&lt;/b&gt;&lt;br&gt;"</span><span class="sy0">;</span><br><span class="kw1">echo</span> <span class="st0">"&lt;table border cellspacing=0&gt;"</span><span class="sy0">;</span><br><span class="kw1">echo</span> <span class="st0">"&lt;tr&gt;&lt;td&gt;Item&lt;/td&gt;&lt;td&gt;Value&lt;/td&gt;&lt;td&gt;Weight&lt;/td&gt;&lt;/tr&gt;"</span><span class="sy0">;</span><br><span class="re0">$totalVal</span> <span class="sy0">=</span> <span class="re0">$totalWt</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br><span class="kw1">foreach</span><span class="br0">(</span><span class="re0">$pickedItems</span> <span class="kw1">as</span> <span class="re0">$key</span><span class="br0">)</span> <span class="br0">{</span><br>	<span class="re0">$totalVal</span> <span class="sy0">+=</span> <span class="re0">$v4</span><span class="br0">[</span><span class="re0">$key</span><span class="br0">]</span><span class="sy0">;</span><br>	<span class="re0">$totalWt</span> <span class="sy0">+=</span> <span class="re0">$w4</span><span class="br0">[</span><span class="re0">$key</span><span class="br0">]</span><span class="sy0">;</span><br>	<span class="kw1">echo</span> <span class="st0">"&lt;tr&gt;&lt;td&gt;"</span><span class="sy0">.</span><span class="re0">$items4</span><span class="br0">[</span><span class="re0">$key</span><span class="br0">]</span><span class="sy0">.</span><span class="st0">"&lt;/td&gt;&lt;td&gt;"</span><span class="sy0">.</span><span class="re0">$v4</span><span class="br0">[</span><span class="re0">$key</span><span class="br0">]</span><span class="sy0">.</span><span class="st0">"&lt;/td&gt;&lt;td&gt;"</span><span class="sy0">.</span><span class="re0">$w4</span><span class="br0">[</span><span class="re0">$key</span><span class="br0">]</span><span class="sy0">.</span><span class="st0">"&lt;/td&gt;&lt;/tr&gt;"</span><span class="sy0">;</span><br><span class="br0">}</span><br><span class="kw1">echo</span> <span class="st0">"&lt;tr&gt;&lt;td align=right&gt;&lt;b&gt;Totals&lt;/b&gt;&lt;/td&gt;&lt;td&gt;<span class="es4">$totalVal</span>&lt;/td&gt;&lt;td&gt;<span class="es4">$totalWt</span>&lt;/td&gt;&lt;/tr&gt;"</span><span class="sy0">;</span><br><span class="kw1">echo</span> <span class="st0">"&lt;/table&gt;&lt;hr&gt;"</span><span class="sy0">;</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<div class="solutionoutput">
<b>Items:</b><br>map, compass, water, sandwich, glucose, tin, banana, 
apple, cheese, beer, suntan cream, camera, t-shirt, trousers, umbrella, 
waterproof trousers, waterproof overclothes, note-case, sunglasses, 
towel, socks, book<br><b>Max Value Found:</b><br>1030 (in 8725 calls)<br><b>Array Indices:</b><br>0,1,2,3,4,6,10,15,16,17,18,20<br><b>Chosen Items:</b><br><table cellspacing="0" border=""><tbody><tr><td>Item</td><td>Value</td><td>Weight</td></tr><tr><td>map</td><td>150</td><td>9</td></tr><tr><td>compass</td><td>35</td><td>13</td></tr><tr><td>water</td><td>200</td><td>153</td></tr><tr><td>sandwich</td><td>160</td><td>50</td></tr><tr><td>glucose</td><td>60</td><td>15</td></tr><tr><td>banana</td><td>60</td><td>27</td></tr><tr><td>suntan cream</td><td>70</td><td>11</td></tr><tr><td>waterproof trousers</td><td>70</td><td>42</td></tr><tr><td>waterproof overclothes</td><td>75</td><td>43</td></tr><tr><td>note-case</td><td>80</td><td>22</td></tr><tr><td>sunglasses</td><td>20</td><td>7</td></tr><tr><td>socks</td><td>50</td><td>4</td></tr><tr><td align="right"><b>Totals</b></td><td>1030</td><td>396</td></tr></tbody></table><hr>
</div>
<p>Minimal PHP Algorithm for totals only translated from Python version as discussed in the YouTube posted video at: <a rel="nofollow" class="external free" href="http://www.youtube.com/watch?v=ZKBUu_ahSR4">http://www.youtube.com/watch?v=ZKBUu_ahSR4</a>
</p>
<pre class="php highlighted_source"><span class="co2">#########################################################<br></span><span class="co2"># 0-1 Knapsack Problem Solve<br></span><span class="co2"># $w = weight of item<br></span><span class="co2"># $v = value of item<br></span><span class="co2"># $i = index<br></span><span class="co2"># $aW = Available Weight<br></span><span class="co2"># PHP Translation by Brian Berneker<br></span><span class="co2">#########################################################<br></span><br><span class="kw2">function</span> knapSolve<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span><span class="re0">$v</span><span class="sy0">,</span><span class="re0">$i</span><span class="sy0">,</span><span class="re0">$aW</span><span class="br0">)</span> <span class="br0">{</span><br>&nbsp;<br>	<span class="kw2">global</span> <span class="re0">$numcalls</span><span class="sy0">;</span><br>	<span class="re0">$numcalls</span> <span class="sy0">++;</span><br>	<span class="co1">// echo "Called with i=$i, aW=$aW&lt;br&gt;";</span><br>&nbsp;<br>	<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$i</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>		<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">&lt;=</span> <span class="re0">$aW</span><span class="br0">)</span> <span class="br0">{</span><br>			<span class="kw1">return</span> <span class="re0">$v</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="sy0">;</span><br>		<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>			<span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span><br>		<span class="br0">}</span><br>	<span class="br0">}</span>	<br>&nbsp;<br>	<span class="re0">$without_i</span> <span class="sy0">=</span> knapSolve<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span><span class="sy0">,</span> <span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$aW</span><span class="br0">)</span><span class="sy0">;</span><br>	<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="re0">$aW</span><span class="br0">)</span> <span class="br0">{</span> <br>		<span class="kw1">return</span> <span class="re0">$without_i</span><span class="sy0">;</span><br>	<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>		<span class="re0">$with_i</span> <span class="sy0">=</span> <span class="re0">$v</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">+</span> knapSolve<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span><span class="sy0">,</span> <span class="br0">(</span><span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="re0">$aW</span> <span class="sy0">-</span> <span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>		<span class="kw1">return</span> <a href="http://www.php.net/max"><span class="kw3">max</span></a><span class="br0">(</span><span class="re0">$with_i</span><span class="sy0">,</span> <span class="re0">$without_i</span><span class="br0">)</span><span class="sy0">;</span><br>	<span class="br0">}</span>	<br>&nbsp;<br><span class="br0">}</span><br>&nbsp;<br>&nbsp;<br><span class="co2">#########################################################<br></span><span class="co2"># 0-1 Knapsack Problem Solve (with "memo"-ization optimization)<br></span><span class="co2"># $w = weight of item<br></span><span class="co2"># $v = value of item<br></span><span class="co2"># $i = index<br></span><span class="co2"># $aW = Available Weight<br></span><span class="co2"># $m = 'memo' array<br></span><span class="co2"># PHP Translation by Brian Berneker<br></span><span class="co2">#########################################################<br></span><br><span class="kw2">function</span> knapSolveFast<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span><span class="re0">$v</span><span class="sy0">,</span><span class="re0">$i</span><span class="sy0">,</span><span class="re0">$aW</span><span class="sy0">,&amp;</span><span class="re0">$m</span><span class="br0">)</span> <span class="br0">{</span> <span class="co1">// Note: We use &amp;$m because the function writes to the $m array </span><br>&nbsp;<br>	<span class="kw2">global</span> <span class="re0">$numcalls</span><span class="sy0">;</span><br>	<span class="re0">$numcalls</span> <span class="sy0">++;</span><br>	<span class="co1">// echo "Called with i=$i, aW=$aW&lt;br&gt;";</span><br>&nbsp;<br>	<span class="co1">// Return memo if we have one</span><br>	<span class="kw1">if</span> <span class="br0">(</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">(</span><span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>		<span class="kw1">return</span> <span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span><span class="sy0">;</span><br>	<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>&nbsp;<br>		<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$i</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><br>			<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">&lt;=</span> <span class="re0">$aW</span><span class="br0">)</span> <span class="br0">{</span><br>				<span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$v</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="sy0">;</span> <span class="co1">// save memo</span><br>				<span class="kw1">return</span> <span class="re0">$v</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="sy0">;</span><br>			<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>				<span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> <span class="co1">// save memo</span><br>				<span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span><br>			<span class="br0">}</span><br>		<span class="br0">}</span>	<br>&nbsp;<br>		<span class="re0">$without_i</span> <span class="sy0">=</span> knapSolveFast<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span><span class="sy0">,</span> <span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$aW</span><span class="sy0">,</span><span class="re0">$m</span><span class="br0">)</span><span class="sy0">;</span><br>		<span class="kw1">if</span> <span class="br0">(</span><span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="re0">$aW</span><span class="br0">)</span> <span class="br0">{</span><br>			<span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$without_i</span><span class="sy0">;</span> <span class="co1">// save memo</span><br>			<span class="kw1">return</span> <span class="re0">$without_i</span><span class="sy0">;</span><br>		<span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>			<span class="re0">$with_i</span> <span class="sy0">=</span> <span class="re0">$v</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span> <span class="sy0">+</span> knapSolveFast<span class="br0">(</span><span class="re0">$w</span><span class="sy0">,</span> <span class="re0">$v</span><span class="sy0">,</span> <span class="br0">(</span><span class="re0">$i</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="re0">$aW</span> <span class="sy0">-</span> <span class="re0">$w</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">,</span><span class="re0">$m</span><span class="br0">)</span><span class="sy0">;</span><br>			<span class="re0">$res</span> <span class="sy0">=</span> <a href="http://www.php.net/max"><span class="kw3">max</span></a><span class="br0">(</span><span class="re0">$with_i</span><span class="sy0">,</span> <span class="re0">$without_i</span><span class="br0">)</span><span class="sy0">;</span> <br>			<span class="re0">$m</span><span class="br0">[</span><span class="re0">$i</span><span class="br0">]</span><span class="br0">[</span><span class="re0">$aW</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$res</span><span class="sy0">;</span> <span class="co1">// save memo</span><br>			<span class="kw1">return</span> <span class="re0">$res</span><span class="sy0">;</span><br>		<span class="br0">}</span>	<br>	<span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br>&nbsp;<br><span class="re0">$w3</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">44</span><span class="sy0">,</span> <span class="nu0">96</span><span class="sy0">,</span> <span class="nu0">96</span><span class="sy0">,</span> <span class="nu0">96</span><span class="br0">)</span><span class="sy0">;</span><br><span class="re0">$v3</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">44</span><span class="sy0">,</span> <span class="nu0">96</span><span class="sy0">,</span> <span class="nu0">96</span><span class="sy0">,</span> <span class="nu0">96</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="re0">$numcalls</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br><span class="re0">$m</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br><span class="re0">$m3</span> <span class="sy0">=</span> knapSolveFast<span class="br0">(</span><span class="re0">$w3</span><span class="sy0">,</span> <span class="re0">$v3</span><span class="sy0">,</span> <a href="http://www.php.net/sizeof"><span class="kw3">sizeof</span></a><span class="br0">(</span><span class="re0">$v3</span><span class="br0">)</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">54</span><span class="sy0">,</span><span class="re0">$m</span><span class="br0">)</span><span class="sy0">;</span><br><a href="http://www.php.net/print_r"><span class="kw3">print_r</span></a><span class="br0">(</span><span class="re0">$w3</span><span class="br0">)</span><span class="sy0">;</span> <span class="kw1">echo</span> <span class="st0">"&lt;br&gt;FAST: "</span><span class="sy0">;</span><br><span class="kw1">echo</span> <span class="st0">"&lt;b&gt;Max: <span class="es4">$m3</span>&lt;/b&gt; (<span class="es4">$numcalls</span> calls)&lt;br&gt;&lt;br&gt;"</span><span class="sy0">;</span><br>&nbsp;<br>&nbsp;<br><span class="re0">$numcalls</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br><span class="re0">$m</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br><span class="re0">$m3</span> <span class="sy0">=</span> knapSolve<span class="br0">(</span><span class="re0">$w3</span><span class="sy0">,</span> <span class="re0">$v3</span><span class="sy0">,</span> <a href="http://www.php.net/sizeof"><span class="kw3">sizeof</span></a><span class="br0">(</span><span class="re0">$v3</span><span class="br0">)</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">54</span> <span class="br0">)</span><span class="sy0">;</span><br><a href="http://www.php.net/print_r"><span class="kw3">print_r</span></a><span class="br0">(</span><span class="re0">$w3</span><span class="br0">)</span><span class="sy0">;</span> <span class="kw1">echo</span> <span class="st0">"&lt;br&gt;"</span><span class="sy0">;</span><br><span class="kw1">echo</span> <span class="st0">"&lt;b&gt;Max: <span class="es4">$m3</span>&lt;/b&gt; (<span class="es4">$numcalls</span> calls)&lt;br&gt;&lt;br&gt;"</span><span class="sy0">;</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Array ( [0] =&gt; 1 [1] =&gt; 1 [2] =&gt; 1 [3] =&gt; 2 [4] =&gt; 2 [5] =&gt; 2 [6] =&gt; 4 [7] =&gt; 4 [8] =&gt; 4 [9] =&gt; 44 [10] =&gt; 96 [11] =&gt; 96 [12] =&gt; 96 ) 
FAST: Max: 54 (191 calls)

Array ( [0] =&gt; 1 [1] =&gt; 1 [2] =&gt; 1 [3] =&gt; 2 [4] =&gt; 2 [5] =&gt; 2 [6] =&gt; 4 [7] =&gt; 4 [8] =&gt; 4 [9] =&gt; 44 [10] =&gt; 96 [11] =&gt; 96 [12] =&gt; 96 ) 
Max: 54 (828 calls)
</pre>
<h2><span class="mw-headline" id="PicoLisp"><a href="https://rosettacode.org/wiki/Category:PicoLisp" title="Category:PicoLisp">PicoLisp</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=57" title="Edit section: PicoLisp">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">(de *Items<br>   ("map" 9 150)                    ("compass" 13 35)<br>   ("water" 153 200)                ("sandwich" 50 160)<br>   ("glucose" 15 60)                ("tin" 68 45)<br>   ("banana" 27 60)                 ("apple" 39 40)<br>   ("cheese" 23 30)                 ("beer" 52 10)<br>   ("suntan cream" 11 70)           ("camera" 32 30)<br>   ("t-shirt" 24 15)                ("trousers" 48 10)<br>   ("umbrella" 73 40)               ("waterproof trousers" 42 70)<br>   ("waterproof overclothes" 43 75) ("note-case" 22 80)<br>   ("sunglasses" 7 20)              ("towel" 18 12)<br>   ("socks" 4 50)                   ("book" 30 10) )<br>&nbsp;<br># Dynamic programming solution<br>(de knapsack (Lst W)<br>   (when Lst<br>      (cache '*KnapCache (cons W Lst)<br>         (let X (knapsack (cdr Lst) W)<br>            (if (ge0 (- W (cadar Lst)))<br>               (let Y (cons (car Lst) (knapsack (cdr Lst) @))<br>                  (if (&gt; (sum caddr X) (sum caddr Y)) X Y) )<br>               X ) ) ) ) )<br>&nbsp;<br>(let K (knapsack *Items 400)<br>   (for I K<br>      (apply tab I (3 -24 6 6) NIL) )<br>   (tab (27 6 6) NIL (sum cadr K) (sum caddr K)) )</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>   map                          9   150
   compass                     13    35
   water                      153   200
   sandwich                    50   160
   glucose                     15    60
   banana                      27    60
   suntan cream                11    70
   waterproof trousers         42    70
   waterproof overclothes      43    75
   note-case                   22    80
   sunglasses                   7    20
   socks                        4    50
                              396  1030
</pre>
<h2><span class="mw-headline" id="Prolog"><a href="https://rosettacode.org/wiki/Category:Prolog" title="Category:Prolog">Prolog</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=58" title="Edit section: Prolog">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta workswith"><b>Works with</b>: <a href="https://rosettacode.org/wiki/SWI-Prolog" title="SWI-Prolog" class="mw-redirect">SWI-Prolog</a></div>
<h3><span class="mw-headline" id="Using_the_clpfd_library">Using the clpfd library</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=59" title="Edit section: Using the clpfd library">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="examplemeta libheader"><b>Library:</b> <a href="https://rosettacode.org/mw/index.php?title=Category:Clpfd&amp;action=edit&amp;redlink=1" class="new" title="Category:Clpfd (page does not exist)">clpfd</a></div>
<pre class="prolog highlighted_source"><span class="sy1">:-</span> use_module<span class="br0">(</span>library<span class="br0">(</span>clpfd<span class="br0">)</span><span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br>knapsack <span class="sy1">:-</span><br>        L <span class="sy6">=</span> <span class="br0">[</span><br>             item<span class="br0">(</span>map<span class="sy4">,</span>  <span class="nu0">9</span><span class="sy4">,</span>      <span class="nu0">150</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>compass<span class="sy4">,</span>      <span class="nu0">13</span><span class="sy4">,</span>     <span class="nu0">35</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>water<span class="sy4">,</span>        <span class="nu0">153</span><span class="sy4">,</span>    <span class="nu0">200</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>sandwich<span class="sy4">,</span> <span class="nu0">50</span><span class="sy4">,</span>         <span class="nu0">160</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>glucose<span class="sy4">,</span>      <span class="nu0">15</span><span class="sy4">,</span>     <span class="nu0">60</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>tin<span class="sy4">,</span>  <span class="nu0">68</span><span class="sy4">,</span>     <span class="nu0">45</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>banana<span class="sy4">,</span>       <span class="nu0">27</span><span class="sy4">,</span>     <span class="nu0">60</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>apple<span class="sy4">,</span>        <span class="nu0">39</span><span class="sy4">,</span>     <span class="nu0">40</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>cheese<span class="sy4">,</span>       <span class="nu0">23</span><span class="sy4">,</span>     <span class="nu0">30</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>beer<span class="sy4">,</span>         <span class="nu0">52</span><span class="sy4">,</span>     <span class="nu0">10</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span><span class="st_h">'suntan cream'</span><span class="sy4">,</span>       <span class="nu0">11</span><span class="sy4">,</span>     <span class="nu0">70</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>camera<span class="sy4">,</span>       <span class="nu0">32</span><span class="sy4">,</span>     <span class="nu0">30</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span><span class="st_h">'t-shirt'</span><span class="sy4">,</span>    <span class="nu0">24</span><span class="sy4">,</span>     <span class="nu0">15</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>trousers<span class="sy4">,</span> <span class="nu0">48</span><span class="sy4">,</span>         <span class="nu0">10</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>umbrella<span class="sy4">,</span> <span class="nu0">73</span><span class="sy4">,</span>         <span class="nu0">40</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span><span class="st_h">'waterproof trousers'</span><span class="sy4">,</span>        <span class="nu0">42</span><span class="sy4">,</span>     <span class="nu0">70</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span><span class="st_h">'waterproof overclothes'</span><span class="sy4">,</span>     <span class="nu0">43</span><span class="sy4">,</span>     <span class="nu0">75</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span><span class="st_h">'note-case'</span><span class="sy4">,</span><span class="nu0">22</span><span class="sy4">,</span>       <span class="nu0">80</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>sunglasses<span class="sy4">,</span>   <span class="nu0">7</span><span class="sy4">,</span>      <span class="nu0">20</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>towel<span class="sy4">,</span>        <span class="nu0">18</span><span class="sy4">,</span>     <span class="nu0">12</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>socks<span class="sy4">,</span>        <span class="nu0">4</span><span class="sy4">,</span>      <span class="nu0">50</span><span class="br0">)</span><span class="sy4">,</span><br>             item<span class="br0">(</span>book<span class="sy4">,</span>         <span class="nu0">30</span><span class="sy4">,</span>     <span class="nu0">10</span> <span class="br0">)</span><span class="br0">]</span><span class="sy4">,</span><br>        length<span class="br0">(</span>L<span class="sy4">,</span> N<span class="br0">)</span><span class="sy4">,</span><br>        length<span class="br0">(</span>R<span class="sy4">,</span> N<span class="br0">)</span><span class="sy4">,</span><br>        R ins <span class="nu0">0</span><span class="sy4">..</span><span class="nu0">1</span><span class="sy4">,</span><br>        maplist<span class="br0">(</span><a href="http://pauillac.inria.fr/~deransar/prolog/bips.html"><span class="kw1">arg</span></a><span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span><span class="sy4">,</span> L<span class="sy4">,</span> LW<span class="br0">)</span><span class="sy4">,</span><br>        maplist<span class="br0">(</span><a href="http://pauillac.inria.fr/~deransar/prolog/bips.html"><span class="kw1">arg</span></a><span class="br0">(</span><span class="nu0">3</span><span class="br0">)</span><span class="sy4">,</span> L<span class="sy4">,</span> LV<span class="br0">)</span><span class="sy4">,</span><br>        scalar_product<span class="br0">(</span>LW<span class="sy4">,</span> R<span class="sy4">,</span> #<span class="sy6">=&lt;</span><span class="sy4">,</span> <span class="nu0">400</span><span class="br0">)</span><span class="sy4">,</span><br>        scalar_product<span class="br0">(</span>LV<span class="sy4">,</span> R<span class="sy4">,</span> #<span class="sy6">=</span><span class="sy4">,</span> VM<span class="br0">)</span><span class="sy4">,</span><br>        labeling<span class="br0">(</span><span class="br0">[</span>max<span class="br0">(</span>VM<span class="br0">)</span><span class="br0">]</span><span class="sy4">,</span> R<span class="br0">)</span><span class="sy4">,</span><br>        scalar_product<span class="br0">(</span>LW<span class="sy4">,</span> R<span class="sy4">,</span> #<span class="sy6">=</span><span class="sy4">,</span> WM<span class="br0">)</span><span class="sy4">,</span><br>        <span class="co1">%% affichage des résultats</span><br>        compute_lenword<span class="br0">(</span>L<span class="sy4">,</span> <span class="nu0">0</span><span class="sy4">,</span> Len<span class="br0">)</span><span class="sy4">,</span><br>        sformat<span class="br0">(</span>A1<span class="sy4">,</span> <span class="st_h">'~~w~~t~~~w|'</span><span class="sy4">,</span> <span class="br0">[</span>Len<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        sformat<span class="br0">(</span>A2<span class="sy4">,</span> <span class="st_h">'~~t~~w~~~w|'</span><span class="sy4">,</span> <span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        sformat<span class="br0">(</span>A3<span class="sy4">,</span> <span class="st_h">'~~t~~w~~~w|'</span><span class="sy4">,</span> <span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        print_results<span class="br0">(</span>A1<span class="sy4">,</span>A2<span class="sy4">,</span>A3<span class="sy4">,</span> L<span class="sy4">,</span> R<span class="sy4">,</span> WM<span class="sy4">,</span> VM<span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br><span class="co1">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="co1">% to show the results in a good way</span><br><span class="co1">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="co1">%</span><br>compute_lenword<span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> N<span class="sy4">,</span> N<span class="br0">)</span><span class="sy4">.</span><br>compute_lenword<span class="br0">(</span><span class="br0">[</span>item<span class="br0">(</span>Name<span class="sy4">,</span> _<span class="sy4">,</span> _<span class="br0">)</span><span class="sy5">|</span>T<span class="br0">]</span><span class="sy4">,</span> N<span class="sy4">,</span> NF<span class="br0">)</span><span class="sy1">:-</span><br>        <a href="http://pauillac.inria.fr/~deransar/prolog/bips.html"><span class="kw1">atom_length</span></a><span class="br0">(</span>Name<span class="sy4">,</span> L<span class="br0">)</span><span class="sy4">,</span><br>        <span class="br0">(</span>   L <span class="sy6">&gt;</span> N <span class="sy3">-</span><span class="sy6">&gt;</span> N1 <span class="sy6">=</span> L<span class="sy4">;</span> N1 <span class="sy6">=</span> N<span class="br0">)</span><span class="sy4">,</span><br>        compute_lenword<span class="br0">(</span>T<span class="sy4">,</span> N1<span class="sy4">,</span> NF<span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br><span class="co1">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="co1">%</span><br>print_results<span class="br0">(</span>A1<span class="sy4">,</span>A2<span class="sy4">,</span>A3<span class="sy4">,</span> <span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> WM<span class="sy4">,</span> WR<span class="br0">)</span> <span class="sy1">:-</span><br>        sformat<span class="br0">(</span>W1<span class="sy4">,</span> A1<span class="sy4">,</span> <span class="br0">[</span><span class="st_h">' '</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        sformat<span class="br0">(</span>W2<span class="sy4">,</span> A2<span class="sy4">,</span> <span class="br0">[</span>WM<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        sformat<span class="br0">(</span>W3<span class="sy4">,</span> A3<span class="sy4">,</span> <span class="br0">[</span>WR<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        format<span class="br0">(</span><span class="st_h">'~w~w~w~n'</span><span class="sy4">,</span> <span class="br0">[</span>W1<span class="sy4">,</span>W2<span class="sy4">,</span>W3<span class="br0">]</span><span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br>&nbsp;<br>print_results<span class="br0">(</span>A1<span class="sy4">,</span>A2<span class="sy4">,</span>A3<span class="sy4">,</span> <span class="br0">[</span>_H<span class="sy5">|</span>T<span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span><span class="nu0">0</span><span class="sy5">|</span>TR<span class="br0">]</span><span class="sy4">,</span> WM<span class="sy4">,</span> VM<span class="br0">)</span> <span class="sy1">:-</span><br>        print_results<span class="br0">(</span>A1<span class="sy4">,</span>A2<span class="sy4">,</span>A3<span class="sy4">,</span> T<span class="sy4">,</span> TR<span class="sy4">,</span> WM<span class="sy4">,</span> VM<span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br>print_results<span class="br0">(</span>A1<span class="sy4">,</span> A2<span class="sy4">,</span> A3<span class="sy4">,</span> <span class="br0">[</span>item<span class="br0">(</span>Name<span class="sy4">,</span> W<span class="sy4">,</span> V<span class="br0">)</span><span class="sy5">|</span>T<span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span><span class="nu0">1</span><span class="sy5">|</span>TR<span class="br0">]</span><span class="sy4">,</span> WM<span class="sy4">,</span> VM<span class="br0">)</span> <span class="sy1">:-</span><br>        sformat<span class="br0">(</span>W1<span class="sy4">,</span> A1<span class="sy4">,</span> <span class="br0">[</span>Name<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        sformat<span class="br0">(</span>W2<span class="sy4">,</span> A2<span class="sy4">,</span> <span class="br0">[</span>W<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        sformat<span class="br0">(</span>W3<span class="sy4">,</span> A3<span class="sy4">,</span> <span class="br0">[</span>V<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        format<span class="br0">(</span><span class="st_h">'~w~w~w~n'</span><span class="sy4">,</span> <span class="br0">[</span>W1<span class="sy4">,</span>W2<span class="sy4">,</span>W3<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>        print_results<span class="br0">(</span>A1<span class="sy4">,</span> A2<span class="sy4">,</span> A3<span class="sy4">,</span> T<span class="sy4">,</span> TR<span class="sy4">,</span> WM<span class="sy4">,</span> VM<span class="br0">)</span><span class="sy4">.</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>?- knapsack
map                      9  150
compass                 13   35
water                  153  200
sandwich                50  160
glucose                 15   60
banana                  27   60
suntan cream            11   70
waterproof trousers     42   70
waterproof overclothes  43   75
note-case               22   80
sunglasses               7   20
socks                    4   50
                       396 1030
</pre>
<h3><span class="mw-headline" id="Using_the_simplex_library">Using the simplex library</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=60" title="Edit section: Using the simplex library">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="examplemeta libheader"><b>Library:</b> <a href="https://rosettacode.org/mw/index.php?title=Category:Simplex&amp;action=edit&amp;redlink=1" class="new" title="Category:Simplex (page does not exist)">simplex</a></div>
<p>Library written by <b>Markus Triska</b>. The problem is solved in about 3 seconds.
</p>
<pre class="prolog highlighted_source"><span class="sy1">:-</span> use_module<span class="br0">(</span>library<span class="br0">(</span>simplex<span class="br0">)</span><span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br>knapsack  <span class="sy1">:-</span><br>	L <span class="sy6">=</span> <span class="br0">[</span><br>	     <span class="br0">(</span>map<span class="sy4">,</span> 	<span class="nu0">9</span><span class="sy4">,</span> 	<span class="nu0">150</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>compass<span class="sy4">,</span> 	<span class="nu0">13</span><span class="sy4">,</span> 	<span class="nu0">35</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>water<span class="sy4">,</span> 	<span class="nu0">153</span><span class="sy4">,</span> 	<span class="nu0">200</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>sandwich<span class="sy4">,</span> <span class="nu0">50</span><span class="sy4">,</span> 	<span class="nu0">160</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>glucose<span class="sy4">,</span> 	<span class="nu0">15</span><span class="sy4">,</span> 	<span class="nu0">60</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>tin<span class="sy4">,</span> 	<span class="nu0">68</span><span class="sy4">,</span> 	<span class="nu0">45</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>banana<span class="sy4">,</span> 	<span class="nu0">27</span><span class="sy4">,</span> 	<span class="nu0">60</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>apple<span class="sy4">,</span> 	<span class="nu0">39</span><span class="sy4">,</span> 	<span class="nu0">40</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>cheese<span class="sy4">,</span> 	<span class="nu0">23</span><span class="sy4">,</span> 	<span class="nu0">30</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>beer<span class="sy4">,</span> 	<span class="nu0">52</span><span class="sy4">,</span> 	<span class="nu0">10</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span><span class="st_h">'suntan cream'</span><span class="sy4">,</span> 	<span class="nu0">11</span><span class="sy4">,</span> 	<span class="nu0">70</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>camera<span class="sy4">,</span> 	<span class="nu0">32</span><span class="sy4">,</span> 	<span class="nu0">30</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span><span class="st_h">'t-shirt'</span><span class="sy4">,</span> 	<span class="nu0">24</span><span class="sy4">,</span> 	<span class="nu0">15</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>trousers<span class="sy4">,</span> <span class="nu0">48</span><span class="sy4">,</span> 	<span class="nu0">10</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>umbrella<span class="sy4">,</span> <span class="nu0">73</span><span class="sy4">,</span> 	<span class="nu0">40</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span><span class="st_h">'waterproof trousers'</span><span class="sy4">,</span> 	<span class="nu0">42</span><span class="sy4">,</span> 	<span class="nu0">70</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span><span class="st_h">'waterproof overclothes'</span><span class="sy4">,</span> 	<span class="nu0">43</span><span class="sy4">,</span> 	<span class="nu0">75</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span><span class="st_h">'note-case'</span><span class="sy4">,</span><span class="nu0">22</span><span class="sy4">,</span> 	<span class="nu0">80</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>sunglasses<span class="sy4">,</span> 	<span class="nu0">7</span><span class="sy4">,</span> 	<span class="nu0">20</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>towel<span class="sy4">,</span> 	<span class="nu0">18</span><span class="sy4">,</span> 	<span class="nu0">12</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>socks<span class="sy4">,</span> 	<span class="nu0">4</span><span class="sy4">,</span> 	<span class="nu0">50</span><span class="br0">)</span><span class="sy4">,</span><br>	     <span class="br0">(</span>book<span class="sy4">,</span> 	<span class="nu0">30</span><span class="sy4">,</span> 	<span class="nu0">10</span> <span class="br0">)</span><span class="br0">]</span><span class="sy4">,</span><br>	 gen_state<span class="br0">(</span>S0<span class="br0">)</span><span class="sy4">,</span><br>	 length<span class="br0">(</span>L<span class="sy4">,</span> N<span class="br0">)</span><span class="sy4">,</span><br>	 numlist<span class="br0">(</span><span class="nu0">1</span><span class="sy4">,</span> N<span class="sy4">,</span> LN<span class="br0">)</span><span class="sy4">,</span><br>	 time<span class="br0">(</span><span class="br0">(</span> create_constraint_N<span class="br0">(</span>LN<span class="sy4">,</span> S0<span class="sy4">,</span> S1<span class="br0">)</span><span class="sy4">,</span><br>		maplist<span class="br0">(</span>create_constraint_WV<span class="sy4">,</span> LN<span class="sy4">,</span> L<span class="sy4">,</span> LW<span class="sy4">,</span> LV<span class="br0">)</span><span class="sy4">,</span><br>		constraint<span class="br0">(</span>LW <span class="sy6">=&lt;</span> <span class="nu0">400</span><span class="sy4">,</span> S1<span class="sy4">,</span> S2<span class="br0">)</span><span class="sy4">,</span><br>		maximize<span class="br0">(</span>LV<span class="sy4">,</span> S2<span class="sy4">,</span> S3<span class="br0">)</span><br>	      <span class="br0">)</span><span class="br0">)</span><span class="sy4">,</span><br>	compute_lenword<span class="br0">(</span>L<span class="sy4">,</span> <span class="nu0">0</span><span class="sy4">,</span> Len<span class="br0">)</span><span class="sy4">,</span><br>	sformat<span class="br0">(</span>A1<span class="sy4">,</span> <span class="st_h">'~~w~~t~~~w|'</span><span class="sy4">,</span> <span class="br0">[</span>Len<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	sformat<span class="br0">(</span>A2<span class="sy4">,</span> <span class="st_h">'~~t~~w~~~w|'</span><span class="sy4">,</span> <span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	sformat<span class="br0">(</span>A3<span class="sy4">,</span> <span class="st_h">'~~t~~w~~~w|'</span><span class="sy4">,</span> <span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	print_results<span class="br0">(</span>S3<span class="sy4">,</span> A1<span class="sy4">,</span>A2<span class="sy4">,</span>A3<span class="sy4">,</span> L<span class="sy4">,</span> LN<span class="sy4">,</span> <span class="nu0">0</span><span class="sy4">,</span> <span class="nu0">0</span><span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br>&nbsp;<br>create_constraint_N<span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> S<span class="sy4">,</span> S<span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br>create_constraint_N<span class="br0">(</span><span class="br0">[</span>HN<span class="sy5">|</span>TN<span class="br0">]</span><span class="sy4">,</span> S1<span class="sy4">,</span> SF<span class="br0">)</span> <span class="sy1">:-</span><br>	constraint<span class="br0">(</span>integral<span class="br0">(</span>x<span class="br0">(</span>HN<span class="br0">)</span><span class="br0">)</span><span class="sy4">,</span> S1<span class="sy4">,</span> S2<span class="br0">)</span><span class="sy4">,</span><br>	constraint<span class="br0">(</span><span class="br0">[</span>x<span class="br0">(</span>HN<span class="br0">)</span><span class="br0">]</span> <span class="sy6">=&lt;</span> <span class="nu0">1</span><span class="sy4">,</span> S2<span class="sy4">,</span> S3<span class="br0">)</span><span class="sy4">,</span><br>	constraint<span class="br0">(</span><span class="br0">[</span>x<span class="br0">(</span>HN<span class="br0">)</span><span class="br0">]</span> <span class="sy6">&gt;=</span> <span class="nu0">0</span><span class="sy4">,</span> S3<span class="sy4">,</span> S4<span class="br0">)</span><span class="sy4">,</span><br>	create_constraint_N<span class="br0">(</span>TN<span class="sy4">,</span> S4<span class="sy4">,</span> SF<span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br>create_constraint_WV<span class="br0">(</span>N<span class="sy4">,</span> <span class="br0">(</span>_<span class="sy4">,</span> W<span class="sy4">,</span> V<span class="br0">)</span><span class="sy4">,</span> W <span class="sy3">*</span> x<span class="br0">(</span>N<span class="br0">)</span><span class="sy4">,</span> V <span class="sy3">*</span> x<span class="br0">(</span>N<span class="br0">)</span><span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br><span class="co1">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="co1">%</span><br>compute_lenword<span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> N<span class="sy4">,</span> N<span class="br0">)</span><span class="sy4">.</span><br>compute_lenword<span class="br0">(</span><span class="br0">[</span><span class="br0">(</span>Name<span class="sy4">,</span> _<span class="sy4">,</span> _<span class="br0">)</span><span class="sy5">|</span>T<span class="br0">]</span><span class="sy4">,</span> N<span class="sy4">,</span> NF<span class="br0">)</span><span class="sy1">:-</span><br>	<a href="http://pauillac.inria.fr/~deransar/prolog/bips.html"><span class="kw1">atom_length</span></a><span class="br0">(</span>Name<span class="sy4">,</span> L<span class="br0">)</span><span class="sy4">,</span><br>	<span class="br0">(</span>   L <span class="sy6">&gt;</span> N <span class="sy3">-</span><span class="sy6">&gt;</span> N1 <span class="sy6">=</span> L<span class="sy4">;</span> N1 <span class="sy6">=</span> N<span class="br0">)</span><span class="sy4">,</span><br>	compute_lenword<span class="br0">(</span>T<span class="sy4">,</span> N1<span class="sy4">,</span> NF<span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br><span class="co1">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="co1">%</span><br>print_results<span class="br0">(</span>_S<span class="sy4">,</span> A1<span class="sy4">,</span> A2<span class="sy4">,</span> A3<span class="sy4">,</span> <span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> WM<span class="sy4">,</span> VM<span class="br0">)</span> <span class="sy1">:-</span><br>	sformat<span class="br0">(</span>W1<span class="sy4">,</span> A1<span class="sy4">,</span> <span class="br0">[</span><span class="st_h">' '</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	sformat<span class="br0">(</span>W2<span class="sy4">,</span> A2<span class="sy4">,</span> <span class="br0">[</span>WM<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	sformat<span class="br0">(</span>W3<span class="sy4">,</span> A3<span class="sy4">,</span> <span class="br0">[</span>VM<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	format<span class="br0">(</span><span class="st_h">'~w~w~w~n'</span><span class="sy4">,</span> <span class="br0">[</span>W1<span class="sy4">,</span>W2<span class="sy4">,</span>W3<span class="br0">]</span><span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br>&nbsp;<br>print_results<span class="br0">(</span>S<span class="sy4">,</span> A1<span class="sy4">,</span> A2<span class="sy4">,</span> A3<span class="sy4">,</span> <span class="br0">[</span><span class="br0">(</span>Name<span class="sy4">,</span> W<span class="sy4">,</span> V<span class="br0">)</span><span class="sy5">|</span>T<span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span>N<span class="sy5">|</span>TN<span class="br0">]</span><span class="sy4">,</span> W1<span class="sy4">,</span> V1<span class="br0">)</span> <span class="sy1">:-</span><br>	variable_value<span class="br0">(</span>S<span class="sy4">,</span> x<span class="br0">(</span>N<span class="br0">)</span><span class="sy4">,</span> X<span class="br0">)</span><span class="sy4">,</span><br>	<span class="br0">(</span>   X <span class="sy6">=</span> <span class="nu0">0</span> <span class="sy3">-</span><span class="sy6">&gt;</span> W1 <span class="sy6">=</span> W2<span class="sy4">,</span> V1 <span class="sy6">=</span> V2<br>	<span class="sy4">;</span>   sformat<span class="br0">(</span>S1<span class="sy4">,</span> A1<span class="sy4">,</span> <span class="br0">[</span>Name<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	    sformat<span class="br0">(</span>S2<span class="sy4">,</span> A2<span class="sy4">,</span> <span class="br0">[</span>W<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	    sformat<span class="br0">(</span>S3<span class="sy4">,</span> A3<span class="sy4">,</span> <span class="br0">[</span>V<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	    format<span class="br0">(</span><span class="st_h">'~w~w~w~n'</span><span class="sy4">,</span> <span class="br0">[</span>S1<span class="sy4">,</span>S2<span class="sy4">,</span>S3<span class="br0">]</span><span class="br0">)</span><span class="sy4">,</span><br>	    W2 <a href="http://pauillac.inria.fr/~deransar/prolog/bips.html"><span class="kw1">is</span></a> W1 <span class="sy3">+</span> W<span class="sy4">,</span><br>	    V2 <a href="http://pauillac.inria.fr/~deransar/prolog/bips.html"><span class="kw1">is</span></a> V1 <span class="sy3">+</span> V<span class="br0">)</span><span class="sy4">,</span><br>	print_results<span class="br0">(</span>S<span class="sy4">,</span> A1<span class="sy4">,</span> A2<span class="sy4">,</span> A3<span class="sy4">,</span> T<span class="sy4">,</span> TN<span class="sy4">,</span> W2<span class="sy4">,</span> V2<span class="br0">)</span><span class="sy4">.</span></pre>
<h2><span class="mw-headline" id="PureBasic"><a href="https://rosettacode.org/wiki/Category:PureBasic" title="Category:PureBasic">PureBasic</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=61" title="Edit section: PureBasic">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Solution uses memoization.
</p>
<pre class="purebasic highlighted_source"><span class="kw1">Structure</span> item<br>  name.s<br>  weight.i <span class="co1">;units are dekagrams (dag)</span><br>  Value.i<br><span class="kw1">EndStructure</span><br>&nbsp;<br><span class="kw1">Structure</span> memo<br>  Value.i<br>  List picked.i<span class="br0">(</span><span class="br0">)</span><br><span class="kw1">EndStructure</span><br>&nbsp;<br><span class="kw1">Global</span> itemCount <span class="sy0">=</span> <span class="nu0">0</span> <span class="co1">;this will be increased as needed to match count</span><br><span class="kw1">Global</span> <span class="kw1">Dim</span> items.item<span class="br0">(</span>itemCount<span class="br0">)</span><br>&nbsp;<br><span class="kw1">Procedure</span> addItem<span class="br0">(</span>name.s, weight, Value<span class="br0">)</span><br>  <span class="kw1">If</span> itemCount <span class="sy0">&gt;=</span> ArraySize<span class="br0">(</span>items<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="kw1">Redim</span> items.item<span class="br0">(</span>itemCount <span class="sy0">+</span> <span class="nu0">10</span><span class="br0">)</span><br>  <span class="kw1">EndIf</span><br>  <span class="kw1">With</span> items<span class="br0">(</span>itemCount<span class="br0">)</span><br>    <span class="sy0">\</span>name <span class="sy0">=</span> name<br>    <span class="sy0">\</span>weight <span class="sy0">=</span> weight<br>    <span class="sy0">\</span>Value <span class="sy0">=</span> Value<br>  <span class="kw1">EndWith</span><br>  itemCount <span class="sy0">+</span> <span class="nu0">1</span><br><span class="kw1">EndProcedure</span><br>&nbsp;<br><span class="co1">;build item list</span><br>addItem<span class="br0">(</span><span class="st0">"map"</span>, <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"compass"</span>, <span class="nu0">13</span>, <span class="nu0">35</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"water"</span>, <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"sandwich"</span>, <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"glucose"</span>, <span class="nu0">15</span>, <span class="nu0">60</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"tin"</span>, <span class="nu0">68</span>, <span class="nu0">45</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"banana"</span>, <span class="nu0">27</span>, <span class="nu0">60</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"apple"</span>, <span class="nu0">39</span>, <span class="nu0">40</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"cheese"</span>, <span class="nu0">23</span>, <span class="nu0">30</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"beer"</span>, <span class="nu0">52</span>, <span class="nu0">10</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"suntan cream"</span>, <span class="nu0">11</span>, <span class="nu0">70</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"camera"</span>, <span class="nu0">32</span>, <span class="nu0">30</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"t-shirt"</span>, <span class="nu0">24</span>, <span class="nu0">15</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"trousers"</span>, <span class="nu0">48</span>, <span class="nu0">10</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"umbrella"</span>, <span class="nu0">73</span>, <span class="nu0">40</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"waterproof trousers"</span>, <span class="nu0">42</span>, <span class="nu0">70</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"waterproof overclothes"</span>, <span class="nu0">43</span>, <span class="nu0">75</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"note-case"</span>, <span class="nu0">22</span>, <span class="nu0">80</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"sunglasses"</span>, <span class="nu0">7</span>, <span class="nu0">20</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"towel"</span>, <span class="nu0">18</span>, <span class="nu0">12</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"socks"</span>, <span class="nu0">4</span>, <span class="nu0">50</span><span class="br0">)</span><br>addItem<span class="br0">(</span><span class="st0">"book"</span>, <span class="nu0">30</span>, <span class="nu0">10</span><span class="br0">)</span><br>&nbsp;<br><span class="kw1">Procedure</span> knapsackSolveFast<span class="br0">(</span>Array item.item<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>, i, aw, Map m.memo<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>  <span class="kw1">Protected</span>.memo without_i, with_i, result, <span class="sy0">*</span>tmp, memoIndex.s <span class="sy0">=</span> <span class="kw2">Hex</span><span class="br0">(</span><span class="br0">(</span>i <span class="sy0">&lt;&lt;</span> <span class="nu0">16</span><span class="br0">)</span> <span class="sy0">+</span> aw, #PB_Long<span class="br0">)</span><br>  <span class="kw1">If</span> FindMapElement<span class="br0">(</span>m<span class="br0">(</span><span class="br0">)</span>, memoIndex<span class="br0">)</span><br>    <span class="kw1">ProcedureReturn</span> @m<span class="br0">(</span><span class="br0">)</span><br>  <span class="kw1">Else</span><br>    <span class="kw1">If</span> i <span class="sy0">=</span> <span class="nu0">0</span><br>      <span class="kw1">If</span> item<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy0">\</span>weight <span class="sy0">&lt;=</span> aw<br>        <span class="co1">;item fits</span><br>        m<span class="br0">(</span>memoIndex<span class="br0">)</span><span class="sy0">\</span>Value <span class="sy0">=</span> item<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy0">\</span>Value <span class="co1">;memo this item's value</span><br>        <span class="kw2">AddElement</span><span class="br0">(</span>m<span class="br0">(</span><span class="br0">)</span><span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>        m<span class="br0">(</span><span class="br0">)</span><span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span> <span class="sy0">=</span> <span class="nu0">0</span> <span class="co1">;memo item's index also</span><br>      <span class="kw1">Else</span><br>        <span class="co1">;item doesn't fit, memo a zero Value</span><br>        m<span class="br0">(</span>memoIndex<span class="br0">)</span><span class="sy0">\</span>Value <span class="sy0">=</span> <span class="nu0">0</span> <br>      <span class="kw1">EndIf</span><br>      <span class="kw1">ProcedureReturn</span> @m<span class="br0">(</span><span class="br0">)</span><br>    <span class="kw1">EndIf</span><br>&nbsp;<br>    <span class="co1">;test if a greater value results with or without item included</span><br>    <span class="sy0">*</span>tmp <span class="sy0">=</span> knapsackSolveFast<span class="br0">(</span>item<span class="br0">(</span><span class="br0">)</span>, i <span class="sy0">-</span> <span class="nu0">1</span>, aw, m<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="co1">;find value without this item</span><br>    CopyStructure<span class="br0">(</span><span class="sy0">*</span>tmp, @without_i, memo<span class="br0">)</span> <br>    <span class="kw1">If</span> item<span class="br0">(</span>i<span class="br0">)</span><span class="sy0">\</span>weight <span class="sy0">&gt;</span> aw<br>      <span class="co1">;item weighs too much, memo without including this item</span><br>      m<span class="br0">(</span>memoIndex<span class="br0">)</span> <span class="sy0">=</span> without_i<br>      <span class="kw1">ProcedureReturn</span> @m<span class="br0">(</span><span class="br0">)</span><br>    <span class="kw1">Else</span><br>      <span class="sy0">*</span>tmp <span class="sy0">=</span> knapsackSolveFast<span class="br0">(</span>item<span class="br0">(</span><span class="br0">)</span>, i <span class="sy0">-</span> <span class="nu0">1</span>, aw <span class="sy0">-</span> item<span class="br0">(</span>i<span class="br0">)</span><span class="sy0">\</span>weight, m<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="co1">;find value when item is included</span><br>      CopyStructure<span class="br0">(</span><span class="sy0">*</span>tmp, @with_i, memo<span class="br0">)</span><br>      with_i<span class="sy0">\</span>Value <span class="sy0">+</span> item<span class="br0">(</span>i<span class="br0">)</span><span class="sy0">\</span>Value <br>      <span class="kw2">AddElement</span><span class="br0">(</span>with_i<span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>      with_i<span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span> <span class="sy0">=</span> i <span class="co1">;add item to with's picked list</span><br>    <span class="kw1">EndIf</span><br>&nbsp;<br>    <span class="co1">;set the result to the larger value</span><br>    <span class="kw1">If</span> with_i<span class="sy0">\</span>Value <span class="sy0">&gt;</span> without_i<span class="sy0">\</span>Value<br>      result <span class="sy0">=</span> with_i<br>    <span class="kw1">Else</span> <br>      result <span class="sy0">=</span> without_i<br>    <span class="kw1">EndIf</span><br>&nbsp;<br>    m<span class="br0">(</span>memoIndex<span class="br0">)</span> <span class="sy0">=</span> result <span class="co1">;memo the result</span><br>    <span class="kw1">ProcedureReturn</span> @m<span class="br0">(</span><span class="br0">)</span><br>  <span class="kw1">EndIf</span> <br><span class="kw1">EndProcedure</span><br>&nbsp;<br><span class="kw1">Procedure</span>.s knapsackSolve<span class="br0">(</span>Array item.item<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>, i, aw<span class="br0">)</span><br>  <span class="kw1">Protected</span> <span class="sy0">*</span>result.memo, output.s, totalWeight<br>  NewMap m.memo<span class="br0">(</span><span class="br0">)</span><br>  <span class="sy0">*</span>result <span class="sy0">=</span> knapsackSolveFast<span class="br0">(</span>item<span class="br0">(</span><span class="br0">)</span>, i, aw, m<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>  output <span class="sy0">=</span> <span class="st0">"Knapsack:"</span> <span class="sy0">+</span> #CRLF$<br>  <span class="kw1">ForEach</span> <span class="sy0">*</span>result<span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span><br>    output <span class="sy0">+</span> <span class="kw2">LSet</span><span class="br0">(</span>item<span class="br0">(</span><span class="sy0">*</span>result<span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">\</span>name, <span class="nu0">24</span><span class="br0">)</span> <span class="sy0">+</span> <span class="kw2">RSet</span><span class="br0">(</span><span class="kw2">Str</span><span class="br0">(</span>item<span class="br0">(</span><span class="sy0">*</span>result<span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">\</span>weight<span class="br0">)</span>, <span class="nu0">5</span><span class="br0">)</span> <span class="sy0">+</span> <span class="kw2">RSet</span><span class="br0">(</span><span class="kw2">Str</span><span class="br0">(</span>item<span class="br0">(</span><span class="sy0">*</span>result<span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">\</span>Value<span class="br0">)</span>, <span class="nu0">5</span><span class="br0">)</span> <span class="sy0">+</span> #CRLF$<br>    totalWeight <span class="sy0">+</span> item<span class="br0">(</span><span class="sy0">*</span>result<span class="sy0">\</span>picked<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">\</span>weight<br>  <span class="kw1">Next</span><br>  output <span class="sy0">+</span> <span class="kw2">LSet</span><span class="br0">(</span><span class="st0">"TOTALS:"</span>, <span class="nu0">24</span><span class="br0">)</span> <span class="sy0">+</span> <span class="kw2">RSet</span><span class="br0">(</span><span class="kw2">Str</span><span class="br0">(</span>totalWeight<span class="br0">)</span>, <span class="nu0">5</span><span class="br0">)</span> <span class="sy0">+</span> <span class="kw2">RSet</span><span class="br0">(</span><span class="kw2">Str</span><span class="br0">(</span><span class="sy0">*</span>result<span class="sy0">\</span>Value<span class="br0">)</span>, <span class="nu0">5</span><span class="br0">)</span><br>  <span class="kw1">ProcedureReturn</span> output<br><span class="kw1">EndProcedure</span><br>&nbsp;<br><span class="kw1">If</span> <span class="kw2">OpenConsole</span><span class="br0">(</span><span class="br0">)</span><br>  #maxWeight <span class="sy0">=</span> <span class="nu0">400</span><br>  <span class="kw1">Define</span> <span class="sy0">*</span>result.memo<br>  <span class="kw2">PrintN</span><span class="br0">(</span>knapsackSolve<span class="br0">(</span>items<span class="br0">(</span><span class="br0">)</span>, itemCount <span class="sy0">-</span> <span class="nu0">1</span>, #maxWeight<span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br>  <span class="kw2">Print</span><span class="br0">(</span>#CRLF$ <span class="sy0">+</span> #CRLF$ <span class="sy0">+</span> <span class="st0">"Press ENTER to exit"</span><span class="br0">)</span>: <span class="kw2">Input</span><span class="br0">(</span><span class="br0">)</span><br>  <span class="kw2">CloseConsole</span><span class="br0">(</span><span class="br0">)</span><br><span class="kw1">EndIf</span> </pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Knapsack:
map                         9  150
compass                    13   35
water                     153  200
sandwich                   50  160
glucose                    15   60
banana                     27   60
suntan cream               11   70
waterproof trousers        42   70
waterproof overclothes     43   75
note-case                  22   80
sunglasses                  7   20
socks                       4   50
TOTALS:                   396 1030
</pre>
<h2><span class="mw-headline" id="Python"><a href="https://rosettacode.org/wiki/Category:Python" title="Category:Python">Python</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=62" title="Edit section: Python">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Brute_force_algorithm">Brute force algorithm</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=63" title="Edit section: Brute force algorithm">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre class="python highlighted_source"><span class="kw1">from</span> <span class="kw3">itertools</span> <span class="kw1">import</span> combinations<br>&nbsp;<br><span class="kw1">def</span> anycomb<span class="br0">(</span>items<span class="br0">)</span>:<br>    <span class="st0">' return combinations of any length from the items '</span><br>    <span class="kw1">return</span> <span class="br0">(</span> comb<br>             <span class="kw1">for</span> r <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="kw2">len</span><span class="br0">(</span>items<span class="br0">)</span>+<span class="nu0">1</span><span class="br0">)</span><br>             <span class="kw1">for</span> comb <span class="kw1">in</span> combinations<span class="br0">(</span>items<span class="sy0">,</span> r<span class="br0">)</span><br>             <span class="br0">)</span><br>&nbsp;<br><span class="kw1">def</span> totalvalue<span class="br0">(</span>comb<span class="br0">)</span>:<br>    <span class="st0">' Totalise a particular combination of items'</span><br>    totwt <span class="sy0">=</span> totval <span class="sy0">=</span> <span class="nu0">0</span><br>    <span class="kw1">for</span> item<span class="sy0">,</span> wt<span class="sy0">,</span> val <span class="kw1">in</span> comb:<br>        totwt  +<span class="sy0">=</span> wt<br>        totval +<span class="sy0">=</span> val<br>    <span class="kw1">return</span> <span class="br0">(</span>totval<span class="sy0">,</span> -totwt<span class="br0">)</span> <span class="kw1">if</span> totwt <span class="sy0">&lt;=</span> <span class="nu0">400</span> <span class="kw1">else</span> <span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">)</span><br>&nbsp;<br>items <span class="sy0">=</span> <span class="br0">(</span><br>    <span class="br0">(</span><span class="st0">"map"</span><span class="sy0">,</span> <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">150</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"compass"</span><span class="sy0">,</span> <span class="nu0">13</span><span class="sy0">,</span> <span class="nu0">35</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"water"</span><span class="sy0">,</span> <span class="nu0">153</span><span class="sy0">,</span> <span class="nu0">200</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sandwich"</span><span class="sy0">,</span> <span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">160</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"glucose"</span><span class="sy0">,</span> <span class="nu0">15</span><span class="sy0">,</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"tin"</span><span class="sy0">,</span> <span class="nu0">68</span><span class="sy0">,</span> <span class="nu0">45</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"banana"</span><span class="sy0">,</span> <span class="nu0">27</span><span class="sy0">,</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"apple"</span><span class="sy0">,</span> <span class="nu0">39</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"cheese"</span><span class="sy0">,</span> <span class="nu0">23</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"beer"</span><span class="sy0">,</span> <span class="nu0">52</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"suntan cream"</span><span class="sy0">,</span> <span class="nu0">11</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"camera"</span><span class="sy0">,</span> <span class="nu0">32</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"t-shirt"</span><span class="sy0">,</span> <span class="nu0">24</span><span class="sy0">,</span> <span class="nu0">15</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="sy0">,</span> <span class="nu0">48</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"umbrella"</span><span class="sy0">,</span> <span class="nu0">73</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span> <span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"waterproof overclothes"</span><span class="sy0">,</span> <span class="nu0">43</span><span class="sy0">,</span> <span class="nu0">75</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"note-case"</span><span class="sy0">,</span> <span class="nu0">22</span><span class="sy0">,</span> <span class="nu0">80</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sunglasses"</span><span class="sy0">,</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">20</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"towel"</span><span class="sy0">,</span> <span class="nu0">18</span><span class="sy0">,</span> <span class="nu0">12</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"socks"</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">50</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"book"</span><span class="sy0">,</span> <span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">)</span><br>bagged <span class="sy0">=</span> <span class="kw2">max</span><span class="br0">(</span> anycomb<span class="br0">(</span>items<span class="br0">)</span><span class="sy0">,</span> key<span class="sy0">=</span>totalvalue<span class="br0">)</span> <span class="co1"># max val or min wt if values equal</span><br><span class="kw1">print</span><span class="br0">(</span><span class="st0">"Bagged the following items<span class="es0">\n</span>  "</span> +<br>      <span class="st0">'<span class="es0">\n</span>  '</span>.<span class="me1">join</span><span class="br0">(</span><span class="kw2">sorted</span><span class="br0">(</span>item <span class="kw1">for</span> item<span class="sy0">,</span>_<span class="sy0">,</span>_ <span class="kw1">in</span> bagged<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>val<span class="sy0">,</span> wt <span class="sy0">=</span> totalvalue<span class="br0">(</span>bagged<span class="br0">)</span><br><span class="kw1">print</span><span class="br0">(</span><span class="st0">"for a total value of&nbsp;%i and a total weight of&nbsp;%i"</span>&nbsp;% <span class="br0">(</span>val<span class="sy0">,</span> -wt<span class="br0">)</span><span class="br0">)</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Bagged the following items
  banana
  compass
  glucose
  map
  note-case
  sandwich
  socks
  sunglasses
  suntan cream
  water
  waterproof overclothes
  waterproof trousers
for a total value of 1030 and a total weight of 396
</pre>
<h3><span class="mw-headline" id="Dynamic_programming_solution">Dynamic programming solution</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=64" title="Edit section: Dynamic programming solution">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre class="python highlighted_source"><span class="kw1">try</span>:<br>    <span class="kw2">xrange</span><br><span class="kw1">except</span>:<br>    <span class="kw2">xrange</span> <span class="sy0">=</span> <span class="kw2">range</span><br>&nbsp;<br><span class="kw1">def</span> totalvalue<span class="br0">(</span>comb<span class="br0">)</span>:<br>    <span class="st0">' Totalise a particular combination of items'</span><br>    totwt <span class="sy0">=</span> totval <span class="sy0">=</span> <span class="nu0">0</span><br>    <span class="kw1">for</span> item<span class="sy0">,</span> wt<span class="sy0">,</span> val <span class="kw1">in</span> comb:<br>        totwt  +<span class="sy0">=</span> wt<br>        totval +<span class="sy0">=</span> val<br>    <span class="kw1">return</span> <span class="br0">(</span>totval<span class="sy0">,</span> -totwt<span class="br0">)</span> <span class="kw1">if</span> totwt <span class="sy0">&lt;=</span> <span class="nu0">400</span> <span class="kw1">else</span> <span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">)</span><br>&nbsp;<br>items <span class="sy0">=</span> <span class="br0">(</span><br>    <span class="br0">(</span><span class="st0">"map"</span><span class="sy0">,</span> <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">150</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"compass"</span><span class="sy0">,</span> <span class="nu0">13</span><span class="sy0">,</span> <span class="nu0">35</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"water"</span><span class="sy0">,</span> <span class="nu0">153</span><span class="sy0">,</span> <span class="nu0">200</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sandwich"</span><span class="sy0">,</span> <span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">160</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"glucose"</span><span class="sy0">,</span> <span class="nu0">15</span><span class="sy0">,</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"tin"</span><span class="sy0">,</span> <span class="nu0">68</span><span class="sy0">,</span> <span class="nu0">45</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"banana"</span><span class="sy0">,</span> <span class="nu0">27</span><span class="sy0">,</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"apple"</span><span class="sy0">,</span> <span class="nu0">39</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"cheese"</span><span class="sy0">,</span> <span class="nu0">23</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"beer"</span><span class="sy0">,</span> <span class="nu0">52</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"suntan cream"</span><span class="sy0">,</span> <span class="nu0">11</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"camera"</span><span class="sy0">,</span> <span class="nu0">32</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"t-shirt"</span><span class="sy0">,</span> <span class="nu0">24</span><span class="sy0">,</span> <span class="nu0">15</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="sy0">,</span> <span class="nu0">48</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"umbrella"</span><span class="sy0">,</span> <span class="nu0">73</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span> <span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"waterproof overclothes"</span><span class="sy0">,</span> <span class="nu0">43</span><span class="sy0">,</span> <span class="nu0">75</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"note-case"</span><span class="sy0">,</span> <span class="nu0">22</span><span class="sy0">,</span> <span class="nu0">80</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sunglasses"</span><span class="sy0">,</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">20</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"towel"</span><span class="sy0">,</span> <span class="nu0">18</span><span class="sy0">,</span> <span class="nu0">12</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"socks"</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">50</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"book"</span><span class="sy0">,</span> <span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">)</span><br>&nbsp;<br><span class="kw1">def</span> knapsack01_dp<span class="br0">(</span>items<span class="sy0">,</span> limit<span class="br0">)</span>:<br>    table <span class="sy0">=</span> <span class="br0">[</span><span class="br0">[</span><span class="nu0">0</span> <span class="kw1">for</span> w <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">(</span>limit + <span class="nu0">1</span><span class="br0">)</span><span class="br0">]</span> <span class="kw1">for</span> j <span class="kw1">in</span> <span class="kw2">xrange</span><span class="br0">(</span><span class="kw2">len</span><span class="br0">(</span>items<span class="br0">)</span> + <span class="nu0">1</span><span class="br0">)</span><span class="br0">]</span><br>&nbsp;<br>    <span class="kw1">for</span> j <span class="kw1">in</span> <span class="kw2">xrange</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="kw2">len</span><span class="br0">(</span>items<span class="br0">)</span> + <span class="nu0">1</span><span class="br0">)</span>:<br>        item<span class="sy0">,</span> wt<span class="sy0">,</span> val <span class="sy0">=</span> items<span class="br0">[</span>j-<span class="nu0">1</span><span class="br0">]</span><br>        <span class="kw1">for</span> w <span class="kw1">in</span> <span class="kw2">xrange</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> limit + <span class="nu0">1</span><span class="br0">)</span>:<br>            <span class="kw1">if</span> wt <span class="sy0">&gt;</span> w:<br>                table<span class="br0">[</span>j<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> <span class="sy0">=</span> table<span class="br0">[</span>j-<span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span><br>            <span class="kw1">else</span>:<br>                table<span class="br0">[</span>j<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> <span class="sy0">=</span> <span class="kw2">max</span><span class="br0">(</span>table<span class="br0">[</span>j-<span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span><span class="sy0">,</span><br>                                  table<span class="br0">[</span>j-<span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w-wt<span class="br0">]</span> + val<span class="br0">)</span><br>&nbsp;<br>    result <span class="sy0">=</span> <span class="br0">[</span><span class="br0">]</span><br>    w <span class="sy0">=</span> limit<br>    <span class="kw1">for</span> j <span class="kw1">in</span> <span class="kw2">range</span><span class="br0">(</span><span class="kw2">len</span><span class="br0">(</span>items<span class="br0">)</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> -<span class="nu0">1</span><span class="br0">)</span>:<br>        was_added <span class="sy0">=</span> table<span class="br0">[</span>j<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> <span class="sy0">!=</span> table<span class="br0">[</span>j-<span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span><br>&nbsp;<br>        <span class="kw1">if</span> was_added:<br>            item<span class="sy0">,</span> wt<span class="sy0">,</span> val <span class="sy0">=</span> items<span class="br0">[</span>j-<span class="nu0">1</span><span class="br0">]</span><br>            result.<span class="me1">append</span><span class="br0">(</span>items<span class="br0">[</span>j-<span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span><br>            w -<span class="sy0">=</span> wt<br>&nbsp;<br>    <span class="kw1">return</span> result<br>&nbsp;<br>&nbsp;<br>bagged <span class="sy0">=</span> knapsack01_dp<span class="br0">(</span>items<span class="sy0">,</span> <span class="nu0">400</span><span class="br0">)</span><br><span class="kw1">print</span><span class="br0">(</span><span class="st0">"Bagged the following items<span class="es0">\n</span>  "</span> +<br>      <span class="st0">'<span class="es0">\n</span>  '</span>.<span class="me1">join</span><span class="br0">(</span><span class="kw2">sorted</span><span class="br0">(</span>item <span class="kw1">for</span> item<span class="sy0">,</span>_<span class="sy0">,</span>_ <span class="kw1">in</span> bagged<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>val<span class="sy0">,</span> wt <span class="sy0">=</span> totalvalue<span class="br0">(</span>bagged<span class="br0">)</span><br><span class="kw1">print</span><span class="br0">(</span><span class="st0">"for a total value of&nbsp;%i and a total weight of&nbsp;%i"</span>&nbsp;% <span class="br0">(</span>val<span class="sy0">,</span> -wt<span class="br0">)</span><span class="br0">)</span></pre>
<h3><span class="mw-headline" id="Recursive_dynamic_programming_algorithm">Recursive dynamic programming algorithm</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=65" title="Edit section: Recursive dynamic programming algorithm">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre class="python highlighted_source"><span class="kw1">def</span> total_value<span class="br0">(</span>items<span class="sy0">,</span> max_weight<span class="br0">)</span>:<br>    <span class="kw1">return</span>  <span class="kw2">sum</span><span class="br0">(</span><span class="br0">[</span>x<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="kw1">for</span> x <span class="kw1">in</span> items<span class="br0">]</span><span class="br0">)</span> <span class="kw1">if</span> <span class="kw2">sum</span><span class="br0">(</span><span class="br0">[</span>x<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span> <span class="kw1">for</span> x <span class="kw1">in</span> items<span class="br0">]</span><span class="br0">)</span> <span class="sy0">&lt;</span> max_weight <span class="kw1">else</span> <span class="nu0">0</span><br>&nbsp;<br>cache <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br><span class="kw1">def</span> solve<span class="br0">(</span>items<span class="sy0">,</span> max_weight<span class="br0">)</span>:<br>    <span class="kw1">if</span> <span class="kw1">not</span> items:<br>        <span class="kw1">return</span> <span class="br0">(</span><span class="br0">)</span><br>    <span class="kw1">if</span> <span class="br0">(</span>items<span class="sy0">,</span>max_weight<span class="br0">)</span> <span class="kw1">not</span> <span class="kw1">in</span> cache:<br>        head <span class="sy0">=</span> items<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><br>        tail <span class="sy0">=</span> items<span class="br0">[</span><span class="nu0">1</span>:<span class="br0">]</span><br>        include <span class="sy0">=</span> <span class="br0">(</span>head<span class="sy0">,</span><span class="br0">)</span> + solve<span class="br0">(</span>tail<span class="sy0">,</span> max_weight - head<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span><br>        dont_include <span class="sy0">=</span> solve<span class="br0">(</span>tail<span class="sy0">,</span> max_weight<span class="br0">)</span><br>        <span class="kw1">if</span> total_value<span class="br0">(</span>include<span class="sy0">,</span> max_weight<span class="br0">)</span> <span class="sy0">&gt;</span> total_value<span class="br0">(</span>dont_include<span class="sy0">,</span> max_weight<span class="br0">)</span>:<br>            answer <span class="sy0">=</span> include<br>        <span class="kw1">else</span>:<br>            answer <span class="sy0">=</span> dont_include<br>        cache<span class="br0">[</span><span class="br0">(</span>items<span class="sy0">,</span>max_weight<span class="br0">)</span><span class="br0">]</span> <span class="sy0">=</span> answer<br>    <span class="kw1">return</span> cache<span class="br0">[</span><span class="br0">(</span>items<span class="sy0">,</span>max_weight<span class="br0">)</span><span class="br0">]</span><br>&nbsp;<br>items <span class="sy0">=</span> <span class="br0">(</span><br>    <span class="br0">(</span><span class="st0">"map"</span><span class="sy0">,</span> <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">150</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"compass"</span><span class="sy0">,</span> <span class="nu0">13</span><span class="sy0">,</span> <span class="nu0">35</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"water"</span><span class="sy0">,</span> <span class="nu0">153</span><span class="sy0">,</span> <span class="nu0">200</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sandwich"</span><span class="sy0">,</span> <span class="nu0">50</span><span class="sy0">,</span> <span class="nu0">160</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"glucose"</span><span class="sy0">,</span> <span class="nu0">15</span><span class="sy0">,</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"tin"</span><span class="sy0">,</span> <span class="nu0">68</span><span class="sy0">,</span> <span class="nu0">45</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"banana"</span><span class="sy0">,</span> <span class="nu0">27</span><span class="sy0">,</span> <span class="nu0">60</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"apple"</span><span class="sy0">,</span> <span class="nu0">39</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"cheese"</span><span class="sy0">,</span> <span class="nu0">23</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"beer"</span><span class="sy0">,</span> <span class="nu0">52</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"suntan cream"</span><span class="sy0">,</span> <span class="nu0">11</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"camera"</span><span class="sy0">,</span> <span class="nu0">32</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"t-shirt"</span><span class="sy0">,</span> <span class="nu0">24</span><span class="sy0">,</span> <span class="nu0">15</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"trousers"</span><span class="sy0">,</span> <span class="nu0">48</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"umbrella"</span><span class="sy0">,</span> <span class="nu0">73</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"waterproof trousers"</span><span class="sy0">,</span> <span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">70</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"waterproof overclothes"</span><span class="sy0">,</span> <span class="nu0">43</span><span class="sy0">,</span> <span class="nu0">75</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"note-case"</span><span class="sy0">,</span> <span class="nu0">22</span><span class="sy0">,</span> <span class="nu0">80</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"sunglasses"</span><span class="sy0">,</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">20</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"towel"</span><span class="sy0">,</span> <span class="nu0">18</span><span class="sy0">,</span> <span class="nu0">12</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">(</span><span class="st0">"socks"</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">50</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">(</span><span class="st0">"book"</span><span class="sy0">,</span> <span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">,</span><br>    <span class="br0">)</span><br>max_weight <span class="sy0">=</span> <span class="nu0">400</span><br>&nbsp;<br>solution <span class="sy0">=</span> solve<span class="br0">(</span>items<span class="sy0">,</span> max_weight<span class="br0">)</span><br><span class="kw1">print</span> <span class="st0">"items:"</span><br><span class="kw1">for</span> x <span class="kw1">in</span> solution:<br>    <span class="kw1">print</span> x<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><br><span class="kw1">print</span> <span class="st0">"value:"</span><span class="sy0">,</span> total_value<span class="br0">(</span>solution<span class="sy0">,</span> max_weight<span class="br0">)</span><br><span class="kw1">print</span> <span class="st0">"weight:"</span><span class="sy0">,</span> <span class="kw2">sum</span><span class="br0">(</span><span class="br0">[</span>x<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span> <span class="kw1">for</span> x <span class="kw1">in</span> solution<span class="br0">]</span><span class="br0">)</span></pre>
<h2><span class="mw-headline" id="Racket"><a href="https://rosettacode.org/wiki/Category:Racket" title="Category:Racket">Racket</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=66" title="Edit section: Racket">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">&nbsp;<br>#lang racket<br>; An ITEM a list of three elements:<br>;   a name, a weight, and, a value<br>&nbsp;<br>; A SOLUTION to a knapsack01 problems is a list of three elements:<br>;   the total value, the total weight, and, names of the items to bag<br>&nbsp;<br>(define (add i s)&nbsp;; add an item i to the solution s<br>  (match-define (list in iw iv) i)<br>  (match-define (list v w is) s)<br>  (list (+ v iv) (+ w iw) (cons in is)))<br>&nbsp;<br>(define (knapsack max-weight items) <br> &nbsp;; return a solution to the knapsack01 problem<br>  (define ht (make-hash))&nbsp;; (weight number-of-items) -&gt; items<br>  (define (get w no-items) (hash-ref ht (list w no-items) #f))<br>  (define (update w is x)  (hash-set! ht (list w (length is)) is) x)<br>  (define (knapsack1 left items) <br>   &nbsp;; return a solution to the (left, items) problem <br>    (cond <br>     &nbsp;; if there are no items, then bag no items:<br>      [(empty? items) (list 0 0 '())]<br>     &nbsp;; look up the best solution:<br>      [(or (get left (length items))<br>          &nbsp;; the solution haven't been cached, so we <br>          &nbsp;; must compute it and update the cache:<br>           (update <br>            left items<br>            (match items<br>             &nbsp;; let us name the first item<br>              [(cons (and (list i w v) x) more)<br>              &nbsp;; if the first item weighs more than the space left,<br>              &nbsp;; we simply find a solution, where it is omitted:<br>               (cond [(&gt; w left) (knapsack left more)]<br>                    &nbsp;; there is room for the first item, but<br>                    &nbsp;; we need to choose the best solutions<br>                    &nbsp;; between those with it and that without:<br>                     [else<br>                      (define without (knapsack left more))<br>                      (define value-without (first without))<br>                      (define with (knapsack (- left w) more))<br>                      (define value-with (+ (first with) v))<br>                     &nbsp;; choose the solutions with greatest value<br>                      (if (&gt; value-without value-with)<br>                          without<br>                          (add x with))])])))]))<br>  (knapsack1 max-weight items))<br>&nbsp;<br>(knapsack 400<br>          '((map 9 150)&nbsp;; 9 is weight, 150 is value<br>            (compass 13 35) (water 153 200) (sandwich 50 160)<br>            (glucose 15 60) (tin 68 45)(banana 27 60) (apple 39 40)<br>            (cheese 23 30) (beer 52 10) (cream 11 70) (camera 32 30)<br>            (T-shirt 24 15) (trousers 48 10) (umbrella 73 40)<br>            (trousers 42 70) (overclothes 43 75) (notecase 22 80)<br>            (glasses 7 20) (towel 18 12) (socks 4 50) (book 30 10)))<br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre class="text highlighted_source">&nbsp;<br>'(1030 396 (map compass water sandwich glucose banana cream trousers overclothes notecase glasses socks))<br>&nbsp;</pre>
<p>Brute Force and Memoized Recursive Alternate
</p>
<pre class="text highlighted_source">&nbsp;<br>#lang racket<br>&nbsp;<br>(define items '((map 9 150) (compass 13 35) (water 153 200) (sandwich 50 160)<br>      (glucose 15 60) (tin 68 45)(banana 27 60) (apple 39 40)<br>      (cheese 23 30) (beer 52 10) (cream 11 70) (camera 32 30)<br>      (T-shirt 24 15) (trousers 48 10) (umbrella 73 40)<br>      (trousers 42 70) (overclothes 43 75) (notecase 22 80)<br>      (glasses 7 20) (towel 18 12) (socks 4 50) (book 30 10)))<br>&nbsp;<br>(define max-weight 400)<br>&nbsp;<br>(define (item-value item)<br>  (caddr item))<br>&nbsp;<br>(define (item-weight item)<br>  (cadr item))<br>&nbsp;<br>(define (pack-weight pack)<br>  (apply + (map item-weight pack)))<br>&nbsp;<br>(define (pack-value pack)<br>  (apply + (map item-value pack)))<br>&nbsp;<br>(define (max-pack-value pack-with pack-without max-weight)<br>  (if (and<br>       (not (&gt; (pack-weight pack-with) max-weight))<br>       (&gt; (pack-value pack-with) (pack-value pack-without)))<br>      pack-with pack-without))<br>&nbsp;<br>(define (display-solution pack)<br>    (displayln (list 'weight: (pack-weight pack)<br>                     'value:  (pack-value pack)<br>                     'items:  (map car pack))))<br>&nbsp;</pre>
<p>Brute Force
</p>
<pre class="text highlighted_source">&nbsp;<br>(define (show-brute)<br>&nbsp;<br>  (define empty-accumulator '())<br>&nbsp;<br>  (define (knapsack-brute included items)<br>    (cond<br>      ((null? items) included)<br>      (else<br>       (max-pack-value<br>        (knapsack-brute (cons (car items) included) (cdr items))<br>        (knapsack-brute included (cdr items))<br>        max-weight<br>        ))))<br>&nbsp;<br>  (display-solution (reverse (knapsack-brute empty-accumulator items))))<br>&nbsp;<br>(show-brute); takes around five seconds on my machine<br>&nbsp;</pre>
<p>Recursive Alternate
</p>
<pre class="text highlighted_source">&nbsp;<br>(define (show-memoized)<br>&nbsp;<br>  (define (memoize func)<br>    (let ([result-ht (make-hash)])<br>      (lambda args&nbsp;; this is the rest-id pattern<br>        (when (not (hash-has-key? result-ht args))<br>          (hash-set! result-ht args (apply func args)))<br>        (hash-ref result-ht args))))<br>&nbsp;<br>  (define knapsack<br>    (memoize<br>     (lambda (max-weight items)<br>       (cond<br>         ((null? items) '())<br>         (else<br>          (let ([item (car items)] [items (cdr items)])<br>            (max-pack-value<br>             (cons item (knapsack (- max-weight (item-weight item)) items))<br>             (knapsack max-weight items)<br>             max-weight)))))))<br>&nbsp;<br>  (display-solution (knapsack max-weight items)))<br>&nbsp;<br>(show-memoized)<br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre class="text highlighted_source">&nbsp;<br>(weight: 396 value: 1030 items: (map compass water sandwich glucose banana cream trousers overclothes notecase glasses socks))<br>&nbsp;</pre>
<h2><span class="mw-headline" id="R"><a href="https://rosettacode.org/wiki/Category:R" title="Category:R">R</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=67" title="Edit section: R">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">&nbsp;<br>Full_Data&lt;-structure(list(item = c("map", "compass", "water", "sandwich", <br>"glucose", "tin", "banana", "apple", "cheese", "beer", "suntan_cream", <br>"camera", "T-shirt", "trousers", "umbrella", "waterproof_trousers", <br>"waterproof_overclothes", "note-case", "sunglasses", "towel", <br>"socks", "book"), weigth = c(9, 13, 153, 50, 15, 68, 27, 39, <br>23, 52, 11, 32, 24, 48, 73, 42, 43, 22, 7, 18, 4, 30), value = c(150, <br>35, 200, 160, 60, 45, 60, 40, 30, 10, 70, 30, 15, 10, 40, 70, <br>75, 80, 20, 12, 50, 10)), .Names = c("item", "weigth", "value"<br>), row.names = c(NA, 22L), class = "data.frame")<br>&nbsp;<br>&nbsp;<br>Bounded_knapsack&lt;-function(Data,W)<br>{<br>	K&lt;-matrix(NA,nrow=W+1,ncol=dim(Data)[1]+1)<br>	0-&gt;K[1,]-&gt;K[,1]<br>	matrix_item&lt;-matrix('',nrow=W+1,ncol=dim(Data)[1]+1)<br>	for(j in 1:dim(Data)[1])<br>	{<br>		for(w in 1:W)<br>		{<br>			wj&lt;-Data$weigth[j]<br>			item&lt;-Data$item[j]<br>			value&lt;-Data$value[j]<br>			if( wj &gt; w )<br>			{<br>				K[w+1,j+1]&lt;-K[w+1,j]<br>				matrix_item[w+1,j+1]&lt;-matrix_item[w+1,j]<br>			}<br>			else<br>			{<br>				if( K[w+1,j] &gt;= K[w+1-wj,j]+value )<br>				{<br>					K[w+1,j+1]&lt;-K[w+1,j]<br>					matrix_item[w+1,j+1]&lt;-matrix_item[w+1,j]					<br>				}<br>				else<br>				{<br>					K[w+1,j+1]&lt;-K[w+1-wj,j]+value<br>					matrix_item[w+1,j+1]&lt;-item<br>				}<br>			}<br>		}<br>	}<br>return(list(K=K,Item=matrix_item))<br>}<br>&nbsp;<br>backtracking&lt;-function(knapsack, Data)<br>{<br>	W&lt;-dim(knapsack$K)[1]<br>	itens&lt;-c()<br>	col&lt;-dim(knapsack$K)[2]<br>	selected_item&lt;-knapsack$Item[W,col]<br>	while(selected_item!='')<br>	{<br>		selected_item&lt;-knapsack$Item[W,col]<br>		if(selected_item!='')<br>		{<br>			selected_item_value&lt;-Data[Data$item == selected_item,]<br>			if(-knapsack$K[W - selected_item_value$weigth,col-1]+knapsack$K[W,col]==selected_item_value$value)<br>			{<br>				W &lt;- W - selected_item_value$weigth<br>				itens&lt;-c(itens,selected_item)<br>			}<br>			col &lt;- col - 1<br>		}<br>	}<br>return(itens)<br>}<br>&nbsp;<br>print_output&lt;-function(Data,W)<br>{<br>	Bounded_knapsack(Data,W)-&gt;Knap<br>	backtracking(Knap, Data)-&gt;Items<br>	output&lt;-paste('You must carry:', paste(Items, sep = ', '), sep=' ' )<br>	return(output)<br>}<br>&nbsp;<br>print_output(Full_Data, 400)<br>&nbsp;<br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre class="text highlighted_source">&nbsp;<br> [1] "You must carry: socks"                 <br> [2] "You must carry: sunglasses"            <br> [3] "You must carry: note-case"             <br> [4] "You must carry: waterproof_overclothes"<br> [5] "You must carry: waterproof_trousers"   <br> [6] "You must carry: suntan_cream"          <br> [7] "You must carry: banana"                <br> [8] "You must carry: glucose"               <br> [9] "You must carry: sandwich"              <br>[10] "You must carry: water"                 <br>[11] "You must carry: compass"               <br>[12] "You must carry: map" <br>&nbsp;</pre>
<h2><span class="mw-headline" id="REXX"><a href="https://rosettacode.org/wiki/Category:REXX" title="Category:REXX">REXX</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=68" title="Edit section: REXX">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Originally, the combination generator/checker subroutine was recursive and made the program solution generic (and more concise).
</p><p>However, a recursive solution also made the solution much more 
slower, so the combination generator/checker was "unrolled" and 
converted into discrete combination checks (based on the number of 
allowable items). &nbsp; The unused combinatorial checks were discarded 
and only the pertinent code was retained. &nbsp; It made no sense to 
include all the unused subroutines here as space appears to be a premium
 for some entries in Rosetta Code.
</p><p>The term &nbsp; <i>allowable items</i> &nbsp; refers to all items
 that are of allowable weight (those that weigh within the weight 
criteria). &nbsp; An half metric─ton anvil was added to the list to show
 how overweight items are pruned from the list of items.
</p>
<pre class="rexx highlighted_source"><span class="coMULTI">/*REXX program solves a  knapsack problem  (22  {+1}  items with a weight restriction). */</span><br>maxWeight=<span class="nu0">400</span>                                    <span class="coMULTI">/*the maximum weight for the knapsack. */</span><br>     <span class="kw1">say</span> <span class="st0">'maximum weight allowed for a knapsack:'</span>  commas<span class="br0">(</span>maxWeight<span class="br0">)</span>;          <span class="kw1">say</span><br><span class="kw1">call</span> gen@                                        <span class="coMULTI">/*generate the   @   array of choices. */</span><br><span class="kw1">call</span> sortD                                       <span class="coMULTI">/*  sort    "    "     "    "    "     */</span><br><span class="kw1">call</span> build                                       <span class="coMULTI">/*build some associative arrays from @.*/</span><br><span class="kw1">call</span> findBest                                    <span class="coMULTI">/*go ye forth and find the best choises*/</span><br><span class="kw1">call</span> results                                     <span class="coMULTI">/*display the best choices for knapsack*/</span><br><span class="kw1">exit</span>                                             <span class="coMULTI">/*stick a fork in it,  we're all done. */</span><br><span class="coMULTI">/*──────────────────────────────────────────────────────────────────────────────────────*/</span><br>build:    <span class="kw1">do</span> j=<span class="nu0">1</span>  <span class="kw2">for</span> obj; <span class="kw1">parse</span> <span class="kw2">var</span> @<span class="sy0">.</span>j x w v <span class="sy0">.</span> <span class="coMULTI">/*construct a list of knapsack choices.*/</span><br>          <span class="kw1">if</span> w<span class="sy0">&gt;</span>maxWeight  <span class="kw3">then</span> <span class="kw1">iterate</span>           <span class="coMULTI">/*Is weight greater than max?   Ignore.*/</span><br>          totW=totW + w;        totV=totV + v    <span class="coMULTI">/*add the totals (for output alignment)*/</span><br>          maxL=<span class="kw6">max</span><span class="br0">(</span>maxL, <span class="kw6">length</span><span class="br0">(</span>x<span class="br0">)</span> <span class="br0">)</span>             <span class="coMULTI">/*determine maximum width for an item. */</span><br>          #=#+<span class="nu0">1</span>;  i<span class="sy0">.</span>#=x;  w<span class="sy0">.</span>#=w;  v<span class="sy0">.</span>#=v          <span class="coMULTI">/*bump the number of items (choices).  */</span><br>          <span class="kw3">end</span>   <span class="coMULTI">/*j*/</span>                            <span class="coMULTI">/* [↑]  build indexable arrays of items*/</span><br>      maxL= maxL + maxL%4 + <span class="nu0">4</span>                    <span class="coMULTI">/*extend width of name for shown table.*/</span><br>      maxW= <span class="kw6">max</span><span class="br0">(</span>maxW, <span class="kw6">length</span><span class="br0">(</span> commas<span class="br0">(</span>totW<span class="br0">)</span> <span class="br0">)</span> <span class="br0">)</span>   <span class="coMULTI">/*find the maximum width for  weight.  */</span><br>      maxV= <span class="kw6">max</span><span class="br0">(</span>maxV, <span class="kw6">length</span><span class="br0">(</span> commas<span class="br0">(</span>totV<span class="br0">)</span> <span class="br0">)</span> <span class="br0">)</span>   <span class="coMULTI">/*  "   "     "      "    "   value.   */</span><br>      <span class="kw1">call</span> hdr <span class="st0">'potential knapsack items'</span>        <span class="coMULTI">/*display a header for list of choices.*/</span><br>          <span class="kw1">do</span> j=<span class="nu0">1</span>  <span class="kw2">for</span> obj; <span class="kw1">parse</span> <span class="kw2">var</span> @<span class="sy0">.</span>j i w v <span class="sy0">.</span> <span class="coMULTI">/*show all the choices in a nice format*/</span><br>          <span class="kw1">if</span> w<span class="sy0">&lt;</span>=maxWeight  <span class="kw3">then</span> <span class="kw1">call</span> show i,w,v  <span class="coMULTI">/*Is weight within limits?  Then show. */</span><br>          <span class="kw3">end</span>   <span class="coMULTI">/*j*/</span>                            <span class="coMULTI">/* [↑]  display the list of choices.   */</span><br>      $=<span class="nu0">0</span><br>      <span class="kw1">say</span>;  <span class="kw1">say</span> <span class="st0">'number of allowable items: '</span>  #<br>      <span class="kw1">return</span><br><span class="coMULTI">/*──────────────────────────────────────────────────────────────────────────────────────*/</span><br>commas: <span class="kw1">procedure</span>;  <span class="kw1">parse</span> <span class="kw1">arg</span> _;   n=_<span class="st0">'.9'</span>;    #=<span class="nu0">123456789</span>;     b=<span class="kw6">verify</span><span class="br0">(</span>n, #, <span class="st0">"M"</span><span class="br0">)</span><br>        e=<span class="kw6">verify</span><span class="br0">(</span>n, #<span class="st0">'0'</span>, , <span class="kw6">verify</span><span class="br0">(</span>n, #<span class="st0">"0."</span>, <span class="st0">'M'</span><span class="br0">)</span><span class="br0">)</span> - <span class="nu0">4</span>;         comma=<span class="st0">','</span><br>           <span class="kw1">do</span> j=e  <span class="kw2">to</span> b  <span class="kw2">by</span> -<span class="nu0">3</span>;   _=<span class="kw6">insert</span><span class="br0">(</span>comma, _, j<span class="br0">)</span>;   <span class="kw3">end</span>  <span class="coMULTI">/*j*/</span>;            <span class="kw1">return</span> _<br><span class="coMULTI">/*──────────────────────────────────────────────────────────────────────────────────────*/</span><br>findBest:                                m=maxWeight   <span class="coMULTI">/*items are in decreasing weight.*/</span><br>   <span class="kw1">do</span> j1 =<span class="nu0">0</span>          <span class="kw2">for</span> #+<span class="nu0">1</span>;                                 w1 =    w<span class="sy0">.</span>j1&nbsp;; z1 =    v<span class="sy0">.</span>j1<br>   <span class="kw1">do</span> j2 =j1 +<span class="br0">(</span>j1 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j2 +w1 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j1&nbsp;; w2 =w1 +w<span class="sy0">.</span>j2&nbsp;; z2 =z1 +v<span class="sy0">.</span>j2<br>   <span class="kw1">do</span> j3 =j2 +<span class="br0">(</span>j2 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j3 +w2 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j2&nbsp;; w3 =w2 +w<span class="sy0">.</span>j3&nbsp;; z3 =z2 +v<span class="sy0">.</span>j3<br>   <span class="kw1">do</span> j4 =j3 +<span class="br0">(</span>j3 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j4 +w3 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j3&nbsp;; w4 =w3 +w<span class="sy0">.</span>j4&nbsp;; z4 =z3 +v<span class="sy0">.</span>j4<br>   <span class="kw1">do</span> j5 =j4 +<span class="br0">(</span>j4 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j5 +w4 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j4&nbsp;; w5 =w4 +w<span class="sy0">.</span>j5&nbsp;; z5 =z4 +v<span class="sy0">.</span>j5<br>   <span class="kw1">do</span> j6 =j5 +<span class="br0">(</span>j5 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j6 +w5 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j5&nbsp;; w6 =w5 +w<span class="sy0">.</span>j6&nbsp;; z6 =z5 +v<span class="sy0">.</span>j6<br>   <span class="kw1">do</span> j7 =j6 +<span class="br0">(</span>j6 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j7 +w6 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j6&nbsp;; w7 =w6 +w<span class="sy0">.</span>j7&nbsp;; z7 =z6 +v<span class="sy0">.</span>j7<br>   <span class="kw1">do</span> j8 =j7 +<span class="br0">(</span>j7 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j8 +w7 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j7&nbsp;; w8 =w7 +w<span class="sy0">.</span>j8&nbsp;; z8 =z7 +v<span class="sy0">.</span>j8<br>   <span class="kw1">do</span> j9 =j8 +<span class="br0">(</span>j8 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j9 +w8 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j8&nbsp;; w9 =w8 +w<span class="sy0">.</span>j9&nbsp;; z9 =z8 +v<span class="sy0">.</span>j9<br>   <span class="kw1">do</span> j10=j9 +<span class="br0">(</span>j9 <span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j10+w9 <span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j9&nbsp;; w10=w9 +w<span class="sy0">.</span>j10; z10=z9 +v<span class="sy0">.</span>j10<br>   <span class="kw1">do</span> j11=j10+<span class="br0">(</span>j10<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j11+w10<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j10; w11=w10+w<span class="sy0">.</span>j11; z11=z10+v<span class="sy0">.</span>j11<br>   <span class="kw1">do</span> j12=j11+<span class="br0">(</span>j11<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j12+w11<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j11; w12=w11+w<span class="sy0">.</span>j12; z12=z11+v<span class="sy0">.</span>j12<br>   <span class="kw1">do</span> j13=j12+<span class="br0">(</span>j12<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j13+w12<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j12; w13=w12+w<span class="sy0">.</span>j13; z13=z12+v<span class="sy0">.</span>j13<br>   <span class="kw1">do</span> j14=j13+<span class="br0">(</span>j13<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j14+w13<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j13; w14=w13+w<span class="sy0">.</span>j14; z14=z13+v<span class="sy0">.</span>j14<br>   <span class="kw1">do</span> j15=j14+<span class="br0">(</span>j14<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j15+w14<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j14; w15=w14+w<span class="sy0">.</span>j15; z15=z14+v<span class="sy0">.</span>j15<br>   <span class="kw1">do</span> j16=j15+<span class="br0">(</span>j15<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j16+w15<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j15; w16=w15+w<span class="sy0">.</span>j16; z16=z15+v<span class="sy0">.</span>j16<br>   <span class="kw1">do</span> j17=j16+<span class="br0">(</span>j16<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j17+w16<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j16; w17=w16+w<span class="sy0">.</span>j17; z17=z16+v<span class="sy0">.</span>j17<br>   <span class="kw1">do</span> j18=j17+<span class="br0">(</span>j17<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j18+w17<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j17; w18=w17+w<span class="sy0">.</span>j18; z18=z17+v<span class="sy0">.</span>j18<br>   <span class="kw1">do</span> j19=j18+<span class="br0">(</span>j18<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j19+w18<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j18; w19=w18+w<span class="sy0">.</span>j19; z19=z18+v<span class="sy0">.</span>j19<br>   <span class="kw1">do</span> j20=j19+<span class="br0">(</span>j19<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j20+w19<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j19; w20=w19+w<span class="sy0">.</span>j20; z20=z19+v<span class="sy0">.</span>j20<br>   <span class="kw1">do</span> j21=j20+<span class="br0">(</span>j20<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j21+w20<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j20; w21=w20+w<span class="sy0">.</span>j21; z21=z20+v<span class="sy0">.</span>j21<br>   <span class="kw1">do</span> j22=j21+<span class="br0">(</span>j21<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span> <span class="kw2">to</span> #; <span class="kw1">if</span> w<span class="sy0">.</span>j22+w21<span class="sy0">&gt;</span>m  <span class="kw3">then</span> <span class="kw1">iterate</span> j21; w22=w21+w<span class="sy0">.</span>j22; z22=z21+v<span class="sy0">.</span>j22<br>   <span class="kw1">if</span> z22<span class="sy0">&gt;</span>$  <span class="kw3">then</span> <span class="kw1">do</span>; &nbsp;?=;  $=z22;    <span class="kw1">do</span> j=<span class="nu0">1</span>  <span class="kw2">for</span> <span class="nu0">22</span>; &nbsp;?=? <span class="kw2">value</span><span class="br0">(</span><span class="st0">"J"</span>j<span class="br0">)</span>;  <span class="kw3">end</span> <span class="coMULTI">/*j*/</span>;    <span class="kw3">end</span><br>   <span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span>;<span class="kw3">end</span><br><span class="kw1">return</span><br><span class="coMULTI">/*──────────────────────────────────────────────────────────────────────────────────────*/</span><br>gen@:          @<span class="sy0">.</span>  =                          &nbsp;;     @<span class="sy0">.</span>12= <span class="st0">'camera                 32  30'</span><br>               @<span class="sy0">.</span>1 = <span class="st0">'map               9 150'</span>&nbsp;;     @<span class="sy0">.</span>13= <span class="st0">'T-shirt                24  15'</span><br>               @<span class="sy0">.</span>2 = <span class="st0">'compass          13  35'</span>&nbsp;;     @<span class="sy0">.</span>14= <span class="st0">'trousers               48  10'</span><br>               @<span class="sy0">.</span>3 = <span class="st0">'water           153 200'</span>&nbsp;;     @<span class="sy0">.</span>15= <span class="st0">'umbrella               73  40'</span><br>               @<span class="sy0">.</span>4 = <span class="st0">'sandwich         50 160'</span>&nbsp;;     @<span class="sy0">.</span>16= <span class="st0">'waterproof_trousers    42  70'</span><br>               @<span class="sy0">.</span>5 = <span class="st0">'glucose          15  60'</span>&nbsp;;     @<span class="sy0">.</span>17= <span class="st0">'waterproof_overclothes 43  75'</span><br>               @<span class="sy0">.</span>6 = <span class="st0">'tin              68  45'</span>&nbsp;;     @<span class="sy0">.</span>18= <span class="st0">'note-case              22  80'</span><br>               @<span class="sy0">.</span>7 = <span class="st0">'banana           27  60'</span>&nbsp;;     @<span class="sy0">.</span>19= <span class="st0">'sunglasses              7  20'</span><br>               @<span class="sy0">.</span>8 = <span class="st0">'apple            39  40'</span>&nbsp;;     @<span class="sy0">.</span>20= <span class="st0">'towel                  18  12'</span><br>               @<span class="sy0">.</span>9 = <span class="st0">'cheese           23  30'</span>&nbsp;;     @<span class="sy0">.</span>21= <span class="st0">'socks                   4  50'</span><br>               @<span class="sy0">.</span>10= <span class="st0">'beer             52  10'</span>&nbsp;;     @<span class="sy0">.</span>22= <span class="st0">'book                   30  10'</span><br>               @<span class="sy0">.</span>11= <span class="st0">'suntan_cream     11  70'</span>&nbsp;;     @<span class="sy0">.</span>23= <span class="st0">'anvil              100000   1'</span><br>      maxL = <span class="kw6">length</span><span class="br0">(</span><span class="st0">'potential knapsack items'</span><span class="br0">)</span>  <span class="coMULTI">/*maximum width for the table items.   */</span><br>      maxW = <span class="kw6">length</span><span class="br0">(</span><span class="st0">'weight'</span><span class="br0">)</span>                    <span class="coMULTI">/*   "      "    "   "    "   weights. */</span><br>      maxV = <span class="kw6">length</span><span class="br0">(</span><span class="st0">'value'</span><span class="br0">)</span>                     <span class="coMULTI">/*   "      "    "   "    "   values.  */</span><br>      #=<span class="nu0">0</span>;  i<span class="sy0">.</span>=;  w<span class="sy0">.</span>=<span class="nu0">0</span>;  v<span class="sy0">.</span>=<span class="nu0">0</span>;  totW=<span class="nu0">0</span>;  totV=<span class="nu0">0</span>  <span class="coMULTI">/*initialize some REX variables stuff. */</span><br>      <span class="kw1">return</span><br><span class="coMULTI">/*──────────────────────────────────────────────────────────────────────────────────────*/</span><br>hdr:    <span class="kw1">say</span>;  <span class="kw1">call</span> show <span class="kw6">center</span><span class="br0">(</span><span class="kw1">arg</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>,maxL<span class="br0">)</span>,<span class="kw6">center</span><span class="br0">(</span><span class="st0">'weight'</span>,maxW<span class="br0">)</span>,<span class="kw6">center</span><span class="br0">(</span><span class="st0">"value"</span>,maxV<span class="br0">)</span><br>hdr2:         <span class="kw1">call</span> show <span class="kw6">copies</span><span class="br0">(</span><span class="st0">'═'</span>,maxL<span class="br0">)</span>,<span class="kw6">copies</span><span class="br0">(</span><span class="st0">'═'</span>,maxW<span class="br0">)</span>,<span class="kw6">copies</span><span class="br0">(</span><span class="st0">'═'</span>,maxV<span class="br0">)</span>;       <span class="kw1">return</span><br><span class="coMULTI">/*──────────────────────────────────────────────────────────────────────────────────────*/</span><br>results:          <span class="kw1">do</span> #; &nbsp;?=<span class="kw6">strip</span><span class="br0">(</span> <span class="kw6">space</span><span class="br0">(</span>?<span class="br0">)</span>, <span class="st0">"L"</span>, <span class="nu0">0</span><span class="br0">)</span>;  <span class="kw3">end</span>  <span class="coMULTI">/*h*/</span>  <span class="coMULTI">/*elide leading zeroes*/</span><br>        bestC=?;    bestW=<span class="nu0">0</span>;         totP=<span class="kw6">words</span><span class="br0">(</span>bestC<span class="br0">)</span>;     <span class="kw1">say</span>;    <span class="kw1">call</span> hdr <span class="st0">'best choice'</span><br>                  <span class="kw1">do</span> j=<span class="nu0">1</span>  <span class="kw2">for</span> totP;  _=<span class="kw6">word</span><span class="br0">(</span>bestC, j<span class="br0">)</span>;      _w=w<span class="sy0">.</span>_;      _v=v<span class="sy0">.</span>_<br>                      <span class="kw1">do</span> k=j+<span class="nu0">1</span>  <span class="kw2">to</span> totP;     __=<span class="kw6">word</span><span class="br0">(</span>bestC, k<span class="br0">)</span>;   <span class="kw1">if</span> i<span class="sy0">.</span>_<span class="sy0">\</span>==i<span class="sy0">.</span>__ <span class="kw3">then</span> <span class="kw1">leave</span><br>                      j=j+<span class="nu0">1</span>;  w<span class="sy0">.</span>_=w<span class="sy0">.</span>_ + _w;  v<span class="sy0">.</span>_=v<span class="sy0">.</span>_ + _v<br>                      <span class="kw3">end</span>    <span class="coMULTI">/*k*/</span><br>                  <span class="kw1">call</span> show i<span class="sy0">.</span>_, w<span class="sy0">.</span>_, v<span class="sy0">.</span>_;   bestW=bestW + w<span class="sy0">.</span>_<br>                  <span class="kw3">end</span>        <span class="coMULTI">/*j*/</span><br>        <span class="kw1">call</span> hdr2                  &nbsp;;   <span class="kw1">say</span>;                @bestTK= <span class="st0">'best total knapsack'</span><br>        <span class="kw1">call</span> show @bestTK  <span class="st0">'weight'</span> ,   bestW    <span class="coMULTI">/*display a nicely formatted winner wt.*/</span><br>        <span class="kw1">call</span> show @bestTK  <span class="st0">'value'</span>  ,,  $        <span class="coMULTI">/*     "  "    "       "     winner val*/</span><br>        <span class="kw1">call</span> show @bestTK  <span class="st0">'items'</span>  ,,, totP     <span class="coMULTI">/*     "  "    "       "     pieces.   */</span><br>        <span class="kw1">return</span><br><span class="coMULTI">/*──────────────────────────────────────────────────────────────────────────────────────*/</span><br>show:   <span class="kw1">parse</span> <span class="kw1">arg</span> _i,_w,_v,_p;  <span class="kw1">say</span> <span class="kw6">translate</span><span class="br0">(</span> <span class="kw6">left</span><span class="br0">(</span>_i,maxL,<span class="st0">'─'</span><span class="br0">)</span>, , <span class="st0">"_"</span><span class="br0">)</span> ,<br>                                <span class="kw6">right</span><span class="br0">(</span>commas<span class="br0">(</span>_w<span class="br0">)</span>,maxW<span class="br0">)</span> <span class="kw6">right</span><span class="br0">(</span>commas<span class="br0">(</span>_v<span class="br0">)</span>,maxV<span class="br0">)</span> _p;   <span class="kw1">return</span><br><span class="coMULTI">/*──────────────────────────────────────────────────────────────────────────────────────*/</span><br>sortD:     <span class="kw1">do</span> j=<span class="nu0">1</span>  <span class="kw2">while</span> @<span class="sy0">.</span>j<span class="sy0">\</span>==<span class="st0">''</span>; y=<span class="kw6">word</span><span class="br0">(</span>@<span class="sy0">.</span>j,<span class="nu0">2</span><span class="br0">)</span> <span class="coMULTI">/*process each of the knapsack choices.*/</span><br>                <span class="kw1">do</span> k=j+<span class="nu0">1</span>  <span class="kw2">while</span> @<span class="sy0">.</span>k<span class="sy0">\</span>==<span class="st0">''</span>         <span class="coMULTI">/*find a possible heavier knapsack item*/</span><br>               &nbsp;?=<span class="kw6">word</span><span class="br0">(</span>@<span class="sy0">.</span>k,<span class="nu0">2</span><span class="br0">)</span>;  <span class="kw1">if</span>&nbsp;?<span class="sy0">&gt;</span>y  <span class="kw3">then</span> <span class="kw1">do</span>; _=@<span class="sy0">.</span>k; @<span class="sy0">.</span>k=@<span class="sy0">.</span>j; @<span class="sy0">.</span>j=_; y=?; <span class="kw3">end</span>  <span class="coMULTI">/*swap*/</span><br>                <span class="kw3">end</span>   <span class="coMULTI">/*k*/</span><br>           <span class="kw3">end</span>        <span class="coMULTI">/*j*/</span>                      <span class="coMULTI">/* [↑]  sort choices by decreasing wt. */</span><br>        obj=j-<span class="nu0">1</span>;                   <span class="kw1">return</span>        <span class="coMULTI">/*decrement  J  for the  DO  loop index*/</span></pre>
<div>
<dl><dt>output <span style="font-weight:normal">&nbsp; when using the default input:</span></dt></dl></div>
<pre>maximum weight allowed for a knapsack: 400


     potential knapsack items      weight value
══════════════════════════════════ ══════ ═════
water─────────────────────────────    153   200
umbrella──────────────────────────     73    40
tin───────────────────────────────     68    45
beer──────────────────────────────     52    10
sandwich──────────────────────────     50   160
trousers──────────────────────────     48    10
waterproof overclothes────────────     43    75
waterproof trousers───────────────     42    70
apple─────────────────────────────     39    40
camera────────────────────────────     32    30
book──────────────────────────────     30    10
banana────────────────────────────     27    60
T-shirt───────────────────────────     24    15
cheese────────────────────────────     23    30
note-case─────────────────────────     22    80
towel─────────────────────────────     18    12
glucose───────────────────────────     15    60
compass───────────────────────────     13    35
suntan cream──────────────────────     11    70
map───────────────────────────────      9   150
sunglasses────────────────────────      7    20
socks─────────────────────────────      4    50

number of allowable items:  22


           best choice             weight value
══════════════════════════════════ ══════ ═════
water─────────────────────────────    153   200
sandwich──────────────────────────     50   160
waterproof overclothes────────────     43    75
waterproof trousers───────────────     42    70
banana────────────────────────────     27    60
note-case─────────────────────────     22    80
glucose───────────────────────────     15    60
compass───────────────────────────     13    35
suntan cream──────────────────────     11    70
map───────────────────────────────      9   150
sunglasses────────────────────────      7    20
socks─────────────────────────────      4    50
══════════════════════════════════ ══════ ═════

best total knapsack weight────────    396
best total knapsack value─────────        1,030
best total knapsack items─────────              12
</pre>
<h2><span class="mw-headline" id="Ring"><a href="https://rosettacode.org/wiki/Category:Ring" title="Category:Ring">Ring</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=69" title="Edit section: Ring">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">&nbsp;<br># Project&nbsp;: Knapsack problem/0-1<br>&nbsp;<br>knap = [["map",9,150],<br>            ["compass",13,35],<br>            ["water",153,20],<br>            ["sandwich",50,160],<br>            ["glucose",15,60],<br>            ["tin",68,45],<br>            ["banana",27,60],<br>            ["apple",39,40],<br>            ["cheese",23,30],<br>            ["beer",52,10],<br>            ["suntan cream",11,70],<br>            ["camera",32,30],<br>            ["T-shirt",24,15],<br>            ["trousers",48,10],<br>            ["umbrella",73,40],<br>            ["waterproof trousers",42,70],<br>            ["waterproof overclothes",43,75],<br>            ["note-case",22,80],<br>            ["sunglasses",7,20],<br>            ["towel",18,12],<br>            ["socks",4,50],<br>            ["book",30,10]]<br>knapsack = createDimList([pow(2, len(knap)),len(knap)+2])<br>lenknap = list(pow(2, len(knap)))<br>&nbsp;<br>sacksize = 400 <br>powerset(knap) <br>&nbsp;<br>for n = 1 to pow(2, len(knap))-2<br>      for m = n + 1 to pow(2, len(knap))-1<br>      if knapsack[m][lenknap[m]-1] &lt;= sacksize and <br>         knapsack[m][lenknap[m]] &gt; knapsack[n][lenknap[n]]<br>         temp = knapsack[n]<br>         lentemp = lenknap[n]<br>         knapsack[n] = knapsack[m]<br>         knapsack[n+1] = temp<br>         lenknap[n] = lenknap[m]<br>         lenknap[n+1] = lentemp<br>      ok<br>      next<br>next   <br>&nbsp;<br>for n = 1 to lenknap[1] - 2<br>      see knapsack[1][n] + nl<br>next<br>&nbsp;<br>see "Total weight = " + knapsack[1][lenknap[1]-1] + nl <br>see "Total value  = " + knapsack[1][lenknap[1]] + nl <br>&nbsp;<br>func powerset(list)<br>        n1 = 0<br>        for i = 2 to (2 &lt;&lt; len(list)) - 1 step 2<br>             n2 = 0<br>             n1 = n1 + 1<br>             weight = 0<br>             value = 0<br>             for j = 1 to len(list) <br>                  if i &amp; (1 &lt;&lt; j)<br>                     n2 = n2 + 1<br>                     knapsack[n1][n2] = list[j][1]<br>                     weight = weight + list[j][2] <br>                     value = value + list[j][3]<br>                     knapsack[n1][n2+1] = weight<br>                     knapsack[n1][n2+2] = value<br>                  ok<br>             next<br>             lenknap[n1] = n2+2<br>         next<br>&nbsp;<br>func createDimList(dimArray)<br>        sizeList = len(dimArray)<br>        newParms = []<br>        for i = 2 to sizeList<br>            Add(newParms, dimArray[i]) <br>        next      <br>        alist = list(dimArray[1])<br>        if sizeList = 1<br>           return aList<br>        ok<br>        for t in alist<br>              t = createDimList(newParms)<br>        next       <br>        return alist<br>&nbsp;</pre>
<p>Output:
</p>
<pre>map
compass
water
sandwich
glucose
banana
suntan cream
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks

Total weight = 396
Total value  = 1030
</pre>
<h2><span class="mw-headline" id="Ruby"><a href="https://rosettacode.org/wiki/Category:Ruby" title="Category:Ruby">Ruby</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=70" title="Edit section: Ruby">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Brute_force_2">Brute force</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=71" title="Edit section: Brute force">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre class="ruby highlighted_source">KnapsackItem = <span class="kw4">Struct</span>.<span class="me1">new</span><span class="br0">(</span><span class="re3">:name</span>, <span class="re3">:weight</span>, <span class="re3">:value</span><span class="br0">)</span><br>potential_items = <span class="br0">[</span><br>  KnapsackItem<span class="br0">[</span><span class="st0">'map'</span>, <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">]</span>,              KnapsackItem<span class="br0">[</span><span class="st0">'compass'</span>, <span class="nu0">13</span>, <span class="nu0">35</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'water'</span>, <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">]</span>,          KnapsackItem<span class="br0">[</span><span class="st0">'sandwich'</span>, <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'glucose'</span>, <span class="nu0">15</span>, <span class="nu0">60</span><span class="br0">]</span>,          KnapsackItem<span class="br0">[</span><span class="st0">'tin'</span>, <span class="nu0">68</span>, <span class="nu0">45</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'banana'</span>, <span class="nu0">27</span>, <span class="nu0">60</span><span class="br0">]</span>,           KnapsackItem<span class="br0">[</span><span class="st0">'apple'</span>, <span class="nu0">39</span>, <span class="nu0">40</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'cheese'</span>, <span class="nu0">23</span>, <span class="nu0">30</span><span class="br0">]</span>,           KnapsackItem<span class="br0">[</span><span class="st0">'beer'</span>, <span class="nu0">52</span>, <span class="nu0">10</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'suntan cream'</span>, <span class="nu0">11</span>, <span class="nu0">70</span><span class="br0">]</span>,     KnapsackItem<span class="br0">[</span><span class="st0">'camera'</span>, <span class="nu0">32</span>, <span class="nu0">30</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'t-shirt'</span>, <span class="nu0">24</span>, <span class="nu0">15</span><span class="br0">]</span>,          KnapsackItem<span class="br0">[</span><span class="st0">'trousers'</span>, <span class="nu0">48</span>, <span class="nu0">10</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'umbrella'</span>, <span class="nu0">73</span>, <span class="nu0">40</span><span class="br0">]</span>,         KnapsackItem<span class="br0">[</span><span class="st0">'waterproof trousers'</span>, <span class="nu0">42</span>, <span class="nu0">70</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'waterproof overclothes'</span>, <span class="nu0">43</span>, <span class="nu0">75</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'note-case'</span>, <span class="nu0">22</span>, <span class="nu0">80</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'sunglasses'</span>, <span class="nu0">7</span>, <span class="nu0">20</span><span class="br0">]</span>,        KnapsackItem<span class="br0">[</span><span class="st0">'towel'</span>, <span class="nu0">18</span>, <span class="nu0">12</span><span class="br0">]</span>,<br>  KnapsackItem<span class="br0">[</span><span class="st0">'socks'</span>, <span class="nu0">4</span>, <span class="nu0">50</span><span class="br0">]</span>,             KnapsackItem<span class="br0">[</span><span class="st0">'book'</span>, <span class="nu0">30</span>, <span class="nu0">10</span><span class="br0">]</span>,<br><span class="br0">]</span><br>knapsack_capacity = <span class="nu0">400</span><br>&nbsp;<br><span class="kw1">class</span> <span class="kw3">Array</span><br>  <span class="co1"># do something for each element of the array's power set</span><br>  <span class="kw1">def</span> power_set<br>    <span class="kw1">yield</span> <span class="br0">[</span><span class="br0">]</span> <span class="kw1">if</span> block_given?<br>    <span class="kw2">self</span>.<span class="me1">inject</span><span class="br0">(</span><span class="br0">[</span><span class="br0">[</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span> <span class="kw1">do</span> <span class="sy0">|</span>ps, elem<span class="sy0">|</span><br>      ps.<span class="me1">each_with_object</span><span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> <span class="kw1">do</span> <span class="sy0">|</span>i,r<span class="sy0">|</span><br>        r <span class="sy0">&lt;&lt;</span> i<br>        new_subset = i <span class="sy0">+</span> <span class="br0">[</span>elem<span class="br0">]</span><br>        <span class="kw1">yield</span> new_subset <span class="kw1">if</span> block_given?<br>        r <span class="sy0">&lt;&lt;</span> new_subset<br>      <span class="kw1">end</span><br>    <span class="kw1">end</span><br>  <span class="kw1">end</span><br><span class="kw1">end</span><br>&nbsp;<br>maxval, solutions = potential_items.<span class="me1">power_set</span>.<span class="me1">group_by</span> <span class="br0">{</span><span class="sy0">|</span>subset<span class="sy0">|</span><br>  weight = subset.<span class="me1">inject</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><span class="sy0">|</span>w, elem<span class="sy0">|</span> w <span class="sy0">+</span> elem.<span class="me1">weight</span><span class="br0">}</span><br>  weight<span class="sy0">&gt;</span>knapsack_capacity&nbsp;? <span class="nu0">0</span>&nbsp;: subset.<span class="me1">inject</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="br0">{</span><span class="sy0">|</span>v, elem<span class="sy0">|</span> v <span class="sy0">+</span> elem.<span class="me1">value</span><span class="br0">}</span><br><span class="br0">}</span>.<span class="me1">max</span><br>&nbsp;<br><span class="kw3">puts</span> <span class="st0">"value: #{maxval}"</span><br>solutions.<span class="me1">each</span> <span class="kw1">do</span> <span class="sy0">|</span>set<span class="sy0">|</span><br>  wt, items = <span class="nu0">0</span>, <span class="br0">[</span><span class="br0">]</span><br>  set.<span class="me1">each</span> <span class="br0">{</span><span class="sy0">|</span>elem<span class="sy0">|</span> wt <span class="sy0">+</span>= elem.<span class="me1">weight</span>; items <span class="sy0">&lt;&lt;</span> elem.<span class="me1">name</span><span class="br0">}</span><br>  <span class="kw3">puts</span> <span class="st0">"weight: #{wt}"</span><br>  <span class="kw3">puts</span> <span class="st0">"items: #{items.join(',')}"</span><br><span class="kw1">end</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre style="width: full; overflow: scroll">value: 1030
weight: 396
items: map,compass,water,sandwich,glucose,banana,suntan cream,waterproof trousers,waterproof overclothes,note-case,sunglasses,socks
</pre>
<h3><span class="mw-headline" id="Dynamic_Programming_2">Dynamic Programming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=72" title="Edit section: Dynamic Programming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Translated from <a rel="nofollow" class="external free" href="http://sites.google.com/site/mikescoderama/Home/0-1-knapsack-problem-in-p">http://sites.google.com/site/mikescoderama/Home/0-1-knapsack-problem-in-p</a>
</p>
<pre class="ruby highlighted_source">KnapsackItem = <span class="kw4">Struct</span>.<span class="me1">new</span><span class="br0">(</span><span class="re3">:name</span>, <span class="re3">:weight</span>, <span class="re3">:value</span><span class="br0">)</span><br>&nbsp;<br><span class="kw1">def</span> dynamic_programming_knapsack<span class="br0">(</span>items, max_weight<span class="br0">)</span><br>  num_items = items.<span class="me1">size</span><br>  cost_matrix = <span class="kw3">Array</span>.<span class="me1">new</span><span class="br0">(</span>num_items<span class="br0">)</span><span class="br0">{</span><span class="kw3">Array</span>.<span class="me1">new</span><span class="br0">(</span>max_weight<span class="sy0">+</span><span class="nu0">1</span>, <span class="nu0">0</span><span class="br0">)</span><span class="br0">}</span><br>&nbsp;<br>  num_items.<span class="me1">times</span> <span class="kw1">do</span> <span class="sy0">|</span>i<span class="sy0">|</span><br>    <span class="br0">(</span>max_weight <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>.<span class="me1">times</span> <span class="kw1">do</span> <span class="sy0">|</span>j<span class="sy0">|</span><br>      <span class="kw1">if</span><span class="br0">(</span>items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">weight</span> <span class="sy0">&gt;</span> j<span class="br0">)</span><br>        cost_matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> = cost_matrix<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span><br>      <span class="kw1">else</span><br>        cost_matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> = <span class="br0">[</span>cost_matrix<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span>, items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">value</span> <span class="sy0">+</span> cost_matrix<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>j<span class="sy0">-</span>items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">weight</span><span class="br0">]</span><span class="br0">]</span>.<span class="me1">max</span><br>      <span class="kw1">end</span><br>    <span class="kw1">end</span><br>  <span class="kw1">end</span><br>  used_items = get_used_items<span class="br0">(</span>items, cost_matrix<span class="br0">)</span><br>  <span class="br0">[</span>get_list_of_used_items_names<span class="br0">(</span>items, used_items<span class="br0">)</span>,                     <span class="co1"># used items names</span><br>   items.<span class="me1">zip</span><span class="br0">(</span>used_items<span class="br0">)</span>.<span class="me1">map</span><span class="br0">{</span><span class="sy0">|</span>item,used<span class="sy0">|</span> item.<span class="me1">weight</span><span class="sy0">*</span>used<span class="br0">}</span>.<span class="me1">inject</span><span class="br0">(</span>:<span class="sy0">+</span><span class="br0">)</span>,  <span class="co1"># total weight</span><br>   cost_matrix.<span class="me1">last</span>.<span class="me1">last</span><span class="br0">]</span>                                               <span class="co1"># total value</span><br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">def</span> get_used_items<span class="br0">(</span>items, cost_matrix<span class="br0">)</span><br>  i = cost_matrix.<span class="me1">size</span> <span class="sy0">-</span> <span class="nu0">1</span><br>  currentCost = cost_matrix<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">size</span> <span class="sy0">-</span> <span class="nu0">1</span><br>  marked = cost_matrix.<span class="me1">map</span><span class="br0">{</span><span class="nu0">0</span><span class="br0">}</span><br>&nbsp;<br>  <span class="kw1">while</span><span class="br0">(</span>i <span class="sy0">&gt;</span>= <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> currentCost <span class="sy0">&gt;</span>= <span class="nu0">0</span><span class="br0">)</span><br>    <span class="kw1">if</span><span class="br0">(</span>i == <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> cost_matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>currentCost<span class="br0">]</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="br0">)</span> <span class="sy0">||</span> <span class="br0">(</span>cost_matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>currentCost<span class="br0">]</span>&nbsp;!= cost_matrix<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span>currentCost<span class="br0">]</span><span class="br0">)</span><br>      marked<span class="br0">[</span>i<span class="br0">]</span> = <span class="nu0">1</span><br>      currentCost <span class="sy0">-</span>= items<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">weight</span><br>    <span class="kw1">end</span><br>    i <span class="sy0">-</span>= <span class="nu0">1</span><br>  <span class="kw1">end</span><br>  marked<br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">def</span> get_list_of_used_items_names<span class="br0">(</span>items, used_items<span class="br0">)</span><br>  items.<span class="me1">zip</span><span class="br0">(</span>used_items<span class="br0">)</span>.<span class="me1">map</span><span class="br0">{</span><span class="sy0">|</span>item,used<span class="sy0">|</span> item.<span class="me1">name</span> <span class="kw1">if</span> used<span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">}</span>.<span class="me1">compact</span>.<span class="me1">join</span><span class="br0">(</span><span class="st0">', '</span><span class="br0">)</span><br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">if</span> $0 == <span class="kw2">__FILE__</span><br>  items = <span class="br0">[</span><br>    KnapsackItem<span class="br0">[</span><span class="st0">'map'</span>                   ,   <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'compass'</span>            , <span class="nu0">13</span>,  <span class="nu0">35</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'water'</span>                 , <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'sandwich'</span>           , <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'glucose'</span>               ,  <span class="nu0">15</span>,  <span class="nu0">60</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'tin'</span>                , <span class="nu0">68</span>,  <span class="nu0">45</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'banana'</span>                ,  <span class="nu0">27</span>,  <span class="nu0">60</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'apple'</span>              , <span class="nu0">39</span>,  <span class="nu0">40</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'cheese'</span>                ,  <span class="nu0">23</span>,  <span class="nu0">30</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'beer'</span>               , <span class="nu0">52</span>,  <span class="nu0">10</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'suntan cream'</span>          ,  <span class="nu0">11</span>,  <span class="nu0">70</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'camera'</span>             , <span class="nu0">32</span>,  <span class="nu0">30</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'t-shirt'</span>               ,  <span class="nu0">24</span>,  <span class="nu0">15</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'trousers'</span>           , <span class="nu0">48</span>,  <span class="nu0">10</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'umbrella'</span>              ,  <span class="nu0">73</span>,  <span class="nu0">40</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'waterproof trousers'</span>, <span class="nu0">42</span>,  <span class="nu0">70</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'waterproof overclothes'</span>,  <span class="nu0">43</span>,  <span class="nu0">75</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'note-case'</span>          , <span class="nu0">22</span>,  <span class="nu0">80</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'sunglasses'</span>            ,   <span class="nu0">7</span>,  <span class="nu0">20</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'towel'</span>              , <span class="nu0">18</span>,  <span class="nu0">12</span><span class="br0">]</span>,<br>    KnapsackItem<span class="br0">[</span><span class="st0">'socks'</span>                 ,   <span class="nu0">4</span>,  <span class="nu0">50</span><span class="br0">]</span>, KnapsackItem<span class="br0">[</span><span class="st0">'book'</span>               , <span class="nu0">30</span>,  <span class="nu0">10</span><span class="br0">]</span><br>  <span class="br0">]</span><br>&nbsp;<br>  names, weight, value = dynamic_programming_knapsack<span class="br0">(</span>items, <span class="nu0">400</span><span class="br0">)</span><br>  <span class="kw3">puts</span><br>  <span class="kw3">puts</span> <span class="st0">'Dynamic Programming:'</span><br>  <span class="kw3">puts</span><br>  <span class="kw3">puts</span> <span class="st0">"Found solution: #{names}"</span><br>  <span class="kw3">puts</span> <span class="st0">"total weight: #{weight}"</span><br>  <span class="kw3">puts</span> <span class="st0">"total value: #{value}"</span><br><span class="kw1">end</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre style="width: full; overflow: scroll">Dynamic Programming:

Found solution: map, compass, water, sandwich, glucose, banana, suntan cream, waterproof trousers, waterproof overclothes, note-case, sunglasses, socks
total weight: 396
total value: 1030
</pre>
<h2><span class="mw-headline" id="Rust"><a href="https://rosettacode.org/wiki/Category:Rust" title="Category:Rust">Rust</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=73" title="Edit section: Rust">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Dynamic Programming solution.
</p>
<pre class="text highlighted_source">use std::cmp;<br>&nbsp;<br>struct Item {<br>    name: &amp;'static str,<br>    weight: usize,<br>    value: usize<br>}<br>&nbsp;<br>fn knapsack01_dyn(items: &amp;[Item], max_weight: usize) -&gt; Vec&lt;&amp;Item&gt; {<br>    let mut best_value = vec![vec![0; max_weight + 1]; items.len() + 1];<br>    for (i, it) in items.iter().enumerate() {<br>        for w in 1 .. max_weight + 1 {<br>            best_value[i + 1][w] =<br>                if it.weight &gt; w {<br>                    best_value[i][w]<br>                } else {<br>                    cmp::max(best_value[i][w], best_value[i][w - it.weight] + it.value)<br>                }<br>        }<br>    }<br>&nbsp;<br>    let mut result = Vec::with_capacity(items.len());<br>    let mut left_weight = max_weight;<br>&nbsp;<br>    for (i, it) in items.iter().enumerate().rev() {<br>        if best_value[i + 1][left_weight]&nbsp;!= best_value[i][left_weight] {<br>            result.push(it);<br>            left_weight -= it.weight;<br>        }<br>    }<br>&nbsp;<br>    result<br>}<br>&nbsp;<br>&nbsp;<br>fn main () {<br>    const MAX_WEIGHT: usize = 400;<br>&nbsp;<br>    const ITEMS: &amp;[Item] = &amp;[<br>        Item { name: "map",                    weight: 9,   value: 150 },<br>        Item { name: "compass",                weight: 13,  value: 35 },<br>        Item { name: "water",                  weight: 153, value: 200 },<br>        Item { name: "sandwich",               weight: 50,  value: 160 },<br>        Item { name: "glucose",                weight: 15,  value: 60 },<br>        Item { name: "tin",                    weight: 68,  value: 45 },<br>        Item { name: "banana",                 weight: 27,  value: 60 },<br>        Item { name: "apple",                  weight: 39,  value: 40 },<br>        Item { name: "cheese",                 weight: 23,  value: 30 },<br>        Item { name: "beer",                   weight: 52,  value: 10 },<br>        Item { name: "suntancream",            weight: 11,  value: 70 },<br>        Item { name: "camera",                 weight: 32,  value: 30 },<br>        Item { name: "T-shirt",                weight: 24,  value: 15 },<br>        Item { name: "trousers",               weight: 48,  value: 10 },<br>        Item { name: "umbrella",               weight: 73,  value: 40 },<br>        Item { name: "waterproof trousers",    weight: 42,  value: 70 },<br>        Item { name: "waterproof overclothes", weight: 43,  value: 75 },<br>        Item { name: "note-case",              weight: 22,  value: 80 },<br>        Item { name: "sunglasses",             weight: 7,   value: 20 },<br>        Item { name: "towel",                  weight: 18,  value: 12 },<br>        Item { name: "socks",                  weight: 4,   value: 50 },<br>        Item { name: "book",                   weight: 30,  value: 10 }<br>    ];<br>&nbsp;<br>    let items = knapsack01_dyn(ITEMS, MAX_WEIGHT);<br>&nbsp;<br>    // We reverse the order because we solved the problem backward.<br>    for it in items.iter().rev() {<br>        println!("{}", it.name);<br>    }<br>&nbsp;<br>    println!("Total weight: {}", items.iter().map(|w| w.weight).sum::&lt;usize&gt;());<br>    println!("Total value: {}", items.iter().map(|w| w.value).sum::&lt;usize&gt;());<br>}</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>map
compass
water
sandwich
glucose
banana
suntancream
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks
Total weight: 396
Total value: 1030</pre>
<h2><span class="mw-headline" id="SAS"><a href="https://rosettacode.org/wiki/Category:SAS" title="Category:SAS">SAS</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=74" title="Edit section: SAS">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Use MILP solver in SAS/OR:
</p>
<pre class="sas highlighted_source"><span class="coMULTI">/* create SAS data set */</span><br><span class="kw6">data</span> mydata;<br>   <span class="kw3">input</span> item $1-<span class="nu0">23</span> weight value;<br>   datalines;<br>map                      <span class="nu0">9</span>  <span class="nu0">150</span><br>compass                 <span class="nu0">13</span>   <span class="nu0">35</span><br>water                  <span class="nu0">153</span>  <span class="nu0">200</span><br>sandwich                <span class="nu0">50</span>  <span class="nu0">160</span><br>glucose                 <span class="nu0">15</span>   <span class="nu0">60</span><br>tin                     <span class="nu0">68</span>   <span class="nu0">45</span><br>banana                  <span class="nu0">27</span>   <span class="nu0">60</span><br>apple                   <span class="nu0">39</span>   <span class="nu0">40</span><br>cheese                  <span class="nu0">23</span>   <span class="nu0">30</span><br>beer                    <span class="nu0">52</span>   <span class="nu0">10</span><br>suntan cream            <span class="nu0">11</span>   <span class="nu0">70</span><br>camera                  <span class="nu0">32</span>   <span class="nu0">30</span><br>T-shirt                 <span class="nu0">24</span>   <span class="nu0">15</span><br>trousers                <span class="nu0">48</span>   <span class="nu0">10</span><br>umbrella                <span class="nu0">73</span>   <span class="nu0">40</span><br>waterproof trousers     <span class="nu0">42</span>   <span class="nu0">70</span><br>waterproof overclothes  <span class="nu0">43</span>   <span class="nu0">75</span><br><span class="re7">note-case               22   80</span><br>sunglasses               <span class="nu0">7</span>   <span class="nu0">20</span><br>towel                   <span class="nu0">18</span>   <span class="nu0">12</span><br>socks                    <span class="nu0">4</span>   <span class="nu0">50</span><br>book                    <span class="nu0">30</span>   <span class="nu0">10</span><br>;<br>&nbsp;<br><span class="coMULTI">/* call OPTMODEL procedure in SAS/OR */</span><br><span class="re1">proc optmodel</span>;<br>   <span class="coMULTI">/* declare sets and parameters, and read input data */</span><br>   <span class="kw4">set</span> &lt;str&gt; ITEMS;<br>   num weight <span class="br0">{</span>ITEMS<span class="br0">}</span>;<br>   num value <span class="br0">{</span>ITEMS<span class="br0">}</span>;<br>   read <span class="kw6">data</span> mydata <span class="kw4">into</span> ITEMS=<span class="br0">[</span>item<span class="br0">]</span> weight value;<br>&nbsp;<br>   <span class="coMULTI">/* declare variables, objective, and constraints */</span><br>   <span class="kw3">var</span> NumSelected <span class="br0">{</span>ITEMS<span class="br0">}</span> binary;<br>   <span class="kw3">max</span> TotalValue = <span class="kw3">sum</span> <span class="br0">{</span>i <span class="kw4">in</span> ITEMS<span class="br0">}</span> value<span class="br0">[</span>i<span class="br0">]</span> <span class="coMULTI">* NumSelected[i];</span><br>   con WeightCon:<br>      <span class="kw3">sum</span> <span class="br0">{</span>i <span class="kw4">in</span> ITEMS<span class="br0">}</span> weight<span class="br0">[</span>i<span class="br0">]</span> <span class="coMULTI">* NumSelected[i] &lt;= 400;</span><br>&nbsp;<br>   <span class="coMULTI">/* call mixed integer linear programming (MILP) solver */</span><br>   solve;<br>&nbsp;<br>   <span class="coMULTI">/* print optimal solution */</span><br>   print TotalValue;<br>   print <span class="br0">{</span>i <span class="kw4">in</span> ITEMS: NumSelected<span class="br0">[</span>i<span class="br0">]</span>.sol &gt; <span class="nu0">0.5</span><span class="br0">}</span> NumSelected;<br><span class="kw6">quit</span>;</pre>
<p>Output:
</p>
<pre>TotalValue 
1030 

[1] NumSelected 
banana 1 
compass 1 
glucose 1 
map 1 
note-case 1 
sandwich 1 
socks 1 
sunglasses 1 
suntan cream 1 
water 1 
waterproof overclothes 1 
waterproof trousers 1 
</pre>
<h2><span class="mw-headline" id="Scala"><a href="https://rosettacode.org/wiki/Category:Scala" title="Category:Scala">Scala</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=75" title="Edit section: Scala">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta workswith"><b>Works with</b>: <a href="https://rosettacode.org/wiki/Scala" title="Scala" class="mw-redirect">Scala</a> version 2.9.2</div>
<pre class="scala highlighted_source"><a href="http://scala-lang.org/"><span class="kw1">object</span></a> Knapsack <a href="http://scala-lang.org/"><span class="kw1">extends</span></a> App <span class="br0">{</span><br>&nbsp;<br>  <a href="http://scala-lang.org/"><span class="kw1">case</span></a> <a href="http://scala-lang.org/"><span class="kw1">class</span></a> Item<span class="br0">(</span>name<span class="sy0">:</span> String, weight<span class="sy0">:</span> Int, value<span class="sy0">:</span> Int<span class="br0">)</span><br>&nbsp;<br>  <a href="http://scala-lang.org/"><span class="kw1">val</span></a> elapsed<span class="sy0">:</span> <span class="br0">(</span><span class="sy0">=&gt;</span> Unit<span class="br0">)</span> <span class="sy0">=&gt;</span> Long <span class="sy0">=</span> f <span class="sy0">=&gt;</span> <span class="br0">{</span><a href="http://scala-lang.org/"><span class="kw1">val</span></a> s <span class="sy0">=</span> System.<span class="me1">currentTimeMillis</span><span class="sy0">;</span> f<span class="sy0">;</span> <span class="br0">(</span>System.<span class="me1">currentTimeMillis</span> - s<span class="br0">)</span>/<span class="nu0">1000</span><span class="br0">}</span><br>&nbsp;<br>  <span class="co1">//===== brute force (caution: increase the heap!) ====================================</span><br>  <a href="http://scala-lang.org/"><span class="kw1">val</span></a> ks01b<span class="sy0">:</span> List<span class="br0">[</span>Item<span class="br0">]</span> <span class="sy0">=&gt;</span> Unit <span class="sy0">=</span> loi <span class="sy0">=&gt;</span> <span class="br0">{</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> tw<span class="sy0">:</span>Set<span class="br0">[</span>Item<span class="br0">]</span><span class="sy0">=&gt;</span>Int<span class="sy0">=</span>ps<span class="sy0">=&gt;</span><span class="br0">(</span>ps<span class="sy0">:</span>\<span class="nu0">0</span><span class="br0">)</span><span class="br0">(</span><span class="br0">(</span>a,b<span class="br0">)</span><span class="sy0">=&gt;</span>a.<span class="me1">weight</span>+b<span class="br0">)</span> <span class="co1">//total weight</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> tv<span class="sy0">:</span>Set<span class="br0">[</span>Item<span class="br0">]</span><span class="sy0">=&gt;</span>Int<span class="sy0">=</span>ps<span class="sy0">=&gt;</span><span class="br0">(</span>ps<span class="sy0">:</span>\<span class="nu0">0</span><span class="br0">)</span><span class="br0">(</span><span class="br0">(</span>a,b<span class="br0">)</span><span class="sy0">=&gt;</span>a.<span class="me1">value</span>+b<span class="br0">)</span> <span class="co1">//total value</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> pis <span class="sy0">=</span> <span class="br0">(</span>loi.<span class="me1">toSet</span>.<span class="me1">subsets</span><span class="br0">)</span>.<span class="me1">toList</span>.<span class="me1">filterNot</span><span class="br0">(</span><span class="sy0">_==</span>Set<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br>   <span class="sy0">#</span><span class="br0">[</span>test<span class="br0">]</span><br>fn test<span class="sy0">_</span>dp<span class="sy0">_</span>results<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>    let dp<span class="sy0">_</span>results <span class="sy0">=</span> knap<span class="sy0">_</span>01<span class="sy0">_</span>dp<span class="br0">(</span>items, <span class="nu0">400</span><span class="br0">)</span><span class="sy0">;</span><br>    let dp<span class="sy0">_</span>weights<span class="sy0">=</span> dp<span class="sy0">_</span>results.<span class="me1">iter</span><span class="br0">(</span><span class="br0">)</span>.<span class="me1">fold</span><span class="br0">(</span><span class="nu0">0</span>, |a, <span class="sy0">&amp;</span>b| a + b.<span class="me1">weight</span><span class="br0">)</span><span class="sy0">;</span><br>    let dp<span class="sy0">_</span>values <span class="sy0">=</span> dp<span class="sy0">_</span>results.<span class="me1">iter</span><span class="br0">(</span><span class="br0">)</span>.<span class="me1">fold</span><span class="br0">(</span><span class="nu0">0</span>, |a, <span class="sy0">&amp;</span>b| a + b.<span class="me1">value</span><span class="br0">)</span><span class="sy0">;</span><br>    assert<span class="sy0">_</span>eq<span class="sy0">!</span><span class="br0">(</span>dp<span class="sy0">_</span>weights, <span class="nu0">396</span><span class="br0">)</span><span class="sy0">;</span><br>    assert<span class="sy0">_</span>eq<span class="sy0">!</span><span class="br0">(</span>dp<span class="sy0">_</span>values, <span class="nu0">1030</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span> <a href="http://scala-lang.org/"><span class="kw1">val</span></a> res <span class="sy0">=</span> pis.<span class="me1">map</span><span class="br0">(</span>ss<span class="sy0">=&gt;</span>Pair<span class="br0">(</span>ss,tw<span class="br0">(</span>ss<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>      .<span class="me1">filter</span><span class="br0">(</span>p<span class="sy0">=&gt;</span>p.<span class="sy0">_</span>2<span class="sy0">&gt;</span><span class="nu0">350</span> <span class="sy0">&amp;&amp;</span> p.<span class="sy0">_</span>2<span class="sy0">&lt;</span><span class="nu0">401</span><span class="br0">)</span>.<span class="me1">map</span><span class="br0">(</span>p<span class="sy0">=&gt;</span>Pair<span class="br0">(</span>p,tv<span class="br0">(</span>p.<span class="sy0">_</span>1<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>      .<span class="me1">sortWith</span><span class="br0">(</span><span class="br0">(</span>s,t<span class="br0">)</span><span class="sy0">=&gt;</span>s.<span class="sy0">_</span>2.<span class="me1">compareTo</span><span class="br0">(</span>t.<span class="sy0">_</span>2<span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span><br>      .<span class="me1">last</span><br>    println<span class="br0">{</span><a href="http://scala-lang.org/"><span class="kw1">val</span></a> h <span class="sy0">=</span> <span class="st0">"packing list of items (brute force):"</span><span class="sy0">;</span> h+<span class="st0">"<span class="es1">\n</span>"</span>+<span class="st0">"="</span><span class="sy0">*</span>h.<span class="me1">size</span><span class="br0">}</span><br>    res.<span class="sy0">_</span>1.<span class="sy0">_</span>1.<span class="me1">foreach</span><span class="br0">{</span>p<span class="sy0">=&gt;</span>print<span class="br0">(</span><span class="st0">"  "</span>+p.<span class="me1">name</span>+<span class="st0">": weight="</span>+p.<span class="me1">weight</span>+<span class="st0">" value="</span>+p.<span class="me1">value</span>+<span class="st0">"<span class="es1">\n</span>"</span><span class="br0">)</span><span class="br0">}</span><br>    println<span class="br0">(</span><span class="st0">"<span class="es1">\n</span>"</span>+<span class="st0">"  resulting items: "</span>+res.<span class="sy0">_</span>1.<span class="sy0">_</span>1.<span class="me1">size</span>+<span class="st0">" of "</span>+loi.<span class="me1">size</span><span class="br0">)</span> <br>    println<span class="br0">(</span><span class="st0">"  total weight: "</span>+res.<span class="sy0">_</span>1.<span class="sy0">_</span>2+<span class="st0">", total value: "</span>+res.<span class="sy0">_</span>2<span class="br0">)</span><br>  <span class="br0">}</span><br>&nbsp;<br>  <span class="co1">//===== dynamic programming ==========================================================</span><br>  <a href="http://scala-lang.org/"><span class="kw1">val</span></a> ks01d<span class="sy0">:</span> List<span class="br0">[</span>Item<span class="br0">]</span> <span class="sy0">=&gt;</span> Unit <span class="sy0">=</span> loi <span class="sy0">=&gt;</span> <span class="br0">{</span> <br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> W <span class="sy0">=</span> <span class="nu0">400</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> N <span class="sy0">=</span> loi.<span class="me1">size</span><br>&nbsp;<br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> m <span class="sy0">=</span> Array.<span class="me1">ofDim</span><span class="br0">[</span>Int<span class="br0">]</span><span class="br0">(</span>N+<span class="nu0">1</span>,W+<span class="nu0">1</span><span class="br0">)</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> plm <span class="sy0">=</span> <span class="br0">(</span>List<span class="br0">(</span><span class="br0">(</span><a href="http://scala-lang.org/"><span class="kw1">for</span></a> <span class="br0">{</span>w <span class="sy0">&lt;</span>- <span class="nu0">0</span> to W<span class="br0">}</span> <a href="http://scala-lang.org/"><span class="kw1">yield</span></a> Set<span class="br0">[</span>Item<span class="br0">]</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>.<span class="me1">toArray</span><span class="br0">)</span>++<span class="br0">(</span><br>                <a href="http://scala-lang.org/"><span class="kw1">for</span></a> <span class="br0">{</span><br>                  n <span class="sy0">&lt;</span>- <span class="nu0">0</span> to N-<span class="nu0">1</span><br>                  colN <span class="sy0">=</span> <span class="br0">(</span><a href="http://scala-lang.org/"><span class="kw1">for</span></a> <span class="br0">{</span>w <span class="sy0">&lt;</span>- <span class="nu0">0</span> to W<span class="br0">}</span> <a href="http://scala-lang.org/"><span class="kw1">yield</span></a> Set<span class="br0">[</span>Item<span class="br0">]</span><span class="br0">(</span>loi<span class="br0">(</span>n<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>.<span class="me1">toArray</span><br>                <span class="br0">}</span> <a href="http://scala-lang.org/"><span class="kw1">yield</span></a> colN<span class="br0">)</span><span class="br0">)</span>.<span class="me1">toArray</span><br>&nbsp;<br>    <span class="nu0">1</span> to N foreach <span class="br0">{</span>n <span class="sy0">=&gt;</span><br>      <span class="nu0">0</span> to W foreach <span class="br0">{</span>w <span class="sy0">=&gt;</span><br>        <a href="http://scala-lang.org/"><span class="kw1">def</span></a> in <span class="sy0">=</span> loi<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><br>        <a href="http://scala-lang.org/"><span class="kw1">def</span></a> wn <span class="sy0">=</span> loi<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span>.<span class="me1">weight</span><br>        <a href="http://scala-lang.org/"><span class="kw1">def</span></a> vn <span class="sy0">=</span> loi<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span>.<span class="me1">value</span><br>        <a href="http://scala-lang.org/"><span class="kw1">if</span></a> <span class="br0">(</span>w<span class="sy0">&lt;</span>wn<span class="br0">)</span> <span class="br0">{</span><br>          m<span class="br0">(</span>n<span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span> <span class="sy0">=</span> m<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span><br>          plm<span class="br0">(</span>n<span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span> <span class="sy0">=</span> plm<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span><br>        <span class="br0">}</span> <br>        <a href="http://scala-lang.org/"><span class="kw1">else</span></a> <span class="br0">{</span><br>          <a href="http://scala-lang.org/"><span class="kw1">if</span></a> <span class="br0">(</span>m<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span><span class="sy0">&gt;=</span>m<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><span class="br0">(</span>w-wn<span class="br0">)</span>+vn<span class="br0">)</span> <span class="br0">{</span><br>            m<span class="br0">(</span>n<span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span> <span class="sy0">=</span> m<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span><br>            plm<span class="br0">(</span>n<span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span> <span class="sy0">=</span> plm<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span><br>          <span class="br0">}</span><br>          <a href="http://scala-lang.org/"><span class="kw1">else</span></a> <span class="br0">{</span><br>            m<span class="br0">(</span>n<span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span> <span class="sy0">=</span> m<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><span class="br0">(</span>w-wn<span class="br0">)</span>+vn<br>	    plm<span class="br0">(</span>n<span class="br0">)</span><span class="br0">(</span>w<span class="br0">)</span> <span class="sy0">=</span> plm<span class="br0">(</span>n-<span class="nu0">1</span><span class="br0">)</span><span class="br0">(</span>w-wn<span class="br0">)</span>+in<br>	  <span class="br0">}</span><br>	<span class="br0">}</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>&nbsp;<br>    println<span class="br0">{</span><a href="http://scala-lang.org/"><span class="kw1">val</span></a> h <span class="sy0">=</span> <span class="st0">"packing list of items (dynamic programming):"</span><span class="sy0">;</span> h+<span class="st0">"<span class="es1">\n</span>"</span>+<span class="st0">"="</span><span class="sy0">*</span>h.<span class="me1">size</span><span class="br0">}</span><br>    plm<span class="br0">(</span>N<span class="br0">)</span><span class="br0">(</span>W<span class="br0">)</span>.<span class="me1">foreach</span><span class="br0">{</span>p<span class="sy0">=&gt;</span>print<span class="br0">(</span><span class="st0">"  "</span>+p.<span class="me1">name</span>+<span class="st0">": weight="</span>+p.<span class="me1">weight</span>+<span class="st0">" value="</span>+p.<span class="me1">value</span>+<span class="st0">"<span class="es1">\n</span>"</span><span class="br0">)</span><span class="br0">}</span><br>    println<span class="br0">(</span><span class="st0">"<span class="es1">\n</span>"</span>+<span class="st0">"  resulting items: "</span>+plm<span class="br0">(</span>N<span class="br0">)</span><span class="br0">(</span>W<span class="br0">)</span>.<span class="me1">size</span>+<span class="st0">" of "</span>+loi.<span class="me1">size</span><span class="br0">)</span> <br>    println<span class="br0">(</span><span class="st0">"  total weight: "</span>+<span class="br0">(</span><span class="nu0">0</span>/<span class="sy0">:</span>plm<span class="br0">(</span>N<span class="br0">)</span><span class="br0">(</span>W<span class="br0">)</span>.<span class="me1">map</span><span class="br0">{</span>item<span class="sy0">=&gt;</span>item.<span class="me1">weight</span><span class="br0">}</span><span class="br0">)</span><span class="br0">(</span><span class="sy0">_</span>+<span class="sy0">_</span><span class="br0">)</span>+<span class="st0">", total value: "</span>+m<span class="br0">(</span>N<span class="br0">)</span><span class="br0">(</span>W<span class="br0">)</span><span class="br0">)</span><br>  <span class="br0">}</span><br>&nbsp;<br>  <a href="http://scala-lang.org/"><span class="kw1">val</span></a> items <span class="sy0">=</span> List<span class="br0">(</span><br>     Item<span class="br0">(</span><span class="st0">"map"</span>, <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"compass"</span>, <span class="nu0">13</span>, <span class="nu0">35</span><span class="br0">)</span> <br>    ,Item<span class="br0">(</span><span class="st0">"water"</span>, <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"sandwich"</span>, <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"glucose"</span>, <span class="nu0">15</span>, <span class="nu0">60</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"tin"</span>, <span class="nu0">68</span>, <span class="nu0">45</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"banana"</span>, <span class="nu0">27</span>, <span class="nu0">60</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"apple"</span>, <span class="nu0">39</span>, <span class="nu0">40</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"cheese"</span>, <span class="nu0">23</span>, <span class="nu0">30</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"beer"</span>, <span class="nu0">52</span>, <span class="nu0">10</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"suntan cream"</span>, <span class="nu0">11</span>, <span class="nu0">70</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"camera"</span>, <span class="nu0">32</span>, <span class="nu0">30</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"t-shirt"</span>, <span class="nu0">24</span>, <span class="nu0">15</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"trousers"</span>, <span class="nu0">48</span>, <span class="nu0">10</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"umbrella"</span>, <span class="nu0">73</span>, <span class="nu0">40</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"waterproof trousers"</span>, <span class="nu0">42</span>, <span class="nu0">70</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"waterproof overclothes"</span>, <span class="nu0">43</span>, <span class="nu0">75</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"note-case"</span>, <span class="nu0">22</span>, <span class="nu0">80</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"sunglasses"</span>, <span class="nu0">7</span>, <span class="nu0">20</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"towel"</span>, <span class="nu0">18</span>, <span class="nu0">12</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"socks"</span>, <span class="nu0">4</span>, <span class="nu0">50</span><span class="br0">)</span><br>    ,Item<span class="br0">(</span><span class="st0">"book"</span>, <span class="nu0">30</span>, <span class="nu0">10</span><span class="br0">)</span><br>  <span class="br0">)</span> <br>&nbsp;<br>  List<span class="br0">(</span>ks01b, ks01d<span class="br0">)</span>.<span class="me1">foreach</span><span class="br0">{</span>f<span class="sy0">=&gt;</span><br>    <a href="http://scala-lang.org/"><span class="kw1">val</span></a> t <span class="sy0">=</span> elapsed<span class="br0">{</span>f<span class="br0">(</span>items<span class="br0">)</span><span class="br0">}</span><br>    println<span class="br0">(</span><span class="st0">"  elapsed time: "</span>+t+<span class="st0">" sec"</span>+<span class="st0">"<span class="es1">\n</span>"</span><span class="br0">)</span><br>  <span class="br0">}</span><br><span class="br0">}</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>packing list of items (brute force):
====================================
  waterproof overclothes: weight=43 value=75
  note-case: weight=22 value=80
  socks: weight=4 value=50
  sandwich: weight=50 value=160
  banana: weight=27 value=60
  glucose: weight=15 value=60
  map: weight=9 value=150
  water: weight=153 value=200
  suntan cream: weight=11 value=70
  sunglasses: weight=7 value=20
  waterproof trousers: weight=42 value=70
  compass: weight=13 value=35

  resulting items: 12 of 22
  total weight: 396, total value: 1030
  elapsed time: 19 sec

packing list of items (dynamic programming):
============================================
  waterproof overclothes: weight=43 value=75
  note-case: weight=22 value=80
  socks: weight=4 value=50
  sandwich: weight=50 value=160
  banana: weight=27 value=60
  glucose: weight=15 value=60
  map: weight=9 value=150
  water: weight=153 value=200
  suntan cream: weight=11 value=70
  sunglasses: weight=7 value=20
  waterproof trousers: weight=42 value=70
  compass: weight=13 value=35

  resulting items: 12 of 22
  total weight: 396, total value: 1030
  elapsed time: 0 sec</pre>
<h2><span class="mw-headline" id="Sidef"><a href="https://rosettacode.org/wiki/Category:Sidef" title="Category:Sidef">Sidef</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=76" title="Edit section: Sidef">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Perl">Perl</a></div>
<pre class="ruby highlighted_source">var raw = <span class="sy0">&lt;&lt;</span><span class="st0">'TABLE'</span><br>map,                      <span class="nu0">9</span>, <span class="nu0">150</span><br>compass,                 <span class="nu0">13</span>,  <span class="nu0">35</span><br>water,                  <span class="nu0">153</span>, <span class="nu0">200</span><br>sandwich,                <span class="nu0">50</span>, <span class="nu0">160</span><br>glucose,                 <span class="nu0">15</span>,  <span class="nu0">60</span><br>tin,                     <span class="nu0">68</span>,  <span class="nu0">45</span><br>banana,                  <span class="nu0">27</span>,  <span class="nu0">60</span><br>apple,                   <span class="nu0">39</span>,  <span class="nu0">40</span><br>cheese,                  <span class="nu0">23</span>,  <span class="nu0">30</span><br>beer,                    <span class="nu0">52</span>,  <span class="nu0">10</span><br>suntancream,             <span class="nu0">11</span>,  <span class="nu0">70</span><br>camera,                  <span class="nu0">32</span>,  <span class="nu0">30</span><br>T<span class="sy0">-</span>shirt,                 <span class="nu0">24</span>,  <span class="nu0">15</span><br>trousers,                <span class="nu0">48</span>,  <span class="nu0">10</span><br>umbrella,                <span class="nu0">73</span>,  <span class="nu0">40</span><br>waterproof trousers,     <span class="nu0">42</span>,  <span class="nu0">70</span><br>waterproof overclothes,  <span class="nu0">43</span>,  <span class="nu0">75</span><br>note<span class="sy0">-</span><span class="kw1">case</span>,               <span class="nu0">22</span>,  <span class="nu0">80</span><br>sunglasses,               <span class="nu0">7</span>,  <span class="nu0">20</span><br>towel,                   <span class="nu0">18</span>,  <span class="nu0">12</span><br>socks,                    <span class="nu0">4</span>,  <span class="nu0">50</span><br>book,                    <span class="nu0">30</span>,  <span class="nu0">10</span><br>TABLE<br>&nbsp;<br>struct KnapsackItem <span class="br0">{</span><br>    <span class="kw3">String</span> name,<br>    Number weight,<br>    Number value,<br><span class="br0">}</span><br>&nbsp;<br>var items = <span class="br0">[</span><span class="br0">]</span><br>raw.<span class="me1">each_line</span><span class="br0">{</span> <span class="sy0">|</span>row<span class="sy0">|</span><br>    var fields = row.<span class="kw3">split</span><span class="br0">(</span><span class="sy0">/</span>\s<span class="sy0">*</span>,\s<span class="sy0">*/</span><span class="br0">)</span><br>    items <span class="sy0">&lt;&lt;</span> KnapsackItem<span class="br0">(</span><br>          name: fields<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>,<br>        weight: fields<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span>.<span class="me1">to_n</span>,<br>         value: fields<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span>.<span class="me1">to_n</span>,<br>    <span class="br0">)</span><br><span class="br0">}</span><br>&nbsp;<br>var max_weight = <span class="nu0">400</span><br>var <span class="kw3">p</span> = <span class="br0">[</span><br>    items.<span class="me1">len</span>.<span class="me1">of</span> <span class="br0">{</span> <span class="br0">[</span><span class="br0">[</span><span class="nu0">0</span>, <span class="br0">[</span><span class="br0">]</span><span class="br0">]</span>, max_weight.<span class="me1">of</span><span class="br0">(</span><span class="kw2">nil</span><span class="br0">)</span>...<span class="br0">]</span> <span class="br0">}</span>...,<br>    max_weight.<span class="me1">inc</span>.<span class="me1">of</span> <span class="br0">{</span><span class="br0">[</span><span class="nu0">0</span>, <span class="br0">[</span><span class="br0">]</span><span class="br0">]</span><span class="br0">}</span><br><span class="br0">]</span><br>&nbsp;<br>func optimal<span class="br0">(</span>i, w<span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span>!<span class="kw1">defined</span> <span class="kw3">p</span><span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>        var item = items<span class="br0">[</span>i<span class="br0">]</span>;<br>        <span class="kw1">if</span> <span class="br0">(</span>item.<span class="me1">weight</span> <span class="sy0">&gt;</span> w<span class="br0">)</span> <span class="br0">{</span><br>            <span class="kw3">p</span><span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> = optimal<span class="br0">(</span>i.<span class="me1">dec</span>, w<span class="br0">)</span><br>        <span class="br0">}</span><br>        <span class="kw1">else</span> <span class="br0">{</span><br>            var x = optimal<span class="br0">(</span>i.<span class="me1">dec</span>, w<span class="br0">)</span><br>            var y = optimal<span class="br0">(</span>i.<span class="me1">dec</span>, w <span class="sy0">-</span> item.<span class="me1">weight</span><span class="br0">)</span><br>&nbsp;<br>            <span class="kw1">if</span> <span class="br0">(</span>x<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="br0">(</span>y<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">+</span> item.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>                <span class="kw3">p</span><span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> = x;<br>            <span class="br0">}</span><br>            <span class="kw1">else</span> <span class="br0">{</span><br>                <span class="kw3">p</span><span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span> = <span class="br0">[</span>y<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">+</span> item.<span class="me1">value</span>, <span class="br0">[</span>y<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span>..., item.<span class="me1">name</span><span class="br0">]</span><span class="br0">]</span><br>            <span class="br0">}</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br>    <span class="kw2">return</span> <span class="kw3">p</span><span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>w<span class="br0">]</span><br><span class="br0">}</span><br>&nbsp;<br>var sol = optimal<span class="br0">(</span>items.<span class="kw1">end</span>, max_weight<span class="br0">)</span><br>say <span class="st0">"#{sol[0]}: #{sol[1]}"</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>1030: map compass water sandwich glucose banana suntancream waterproof trousers waterproof overclothes note-case sunglasses socks
</pre>
<h2><span class="mw-headline" id="SQL"><a href="https://rosettacode.org/wiki/Category:SQL" title="Category:SQL">SQL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=77" title="Edit section: SQL">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A brute force solution that runs in SQL Server 2005 or later using a recursive CTE.
Displays the top 5 solutions and runs in about 39 seconds.
</p>
<pre class="sql highlighted_source">&nbsp;<br><span class="kw1">WITH</span> KnapsackItems <span class="br0">(</span>item<span class="sy0">,</span> <span class="br0">[</span>weight<span class="br0">]</span><span class="sy0">,</span> <span class="kw1">VALUE</span><span class="br0">)</span> <span class="kw1">AS</span><br><span class="br0">(</span><br>    <span class="kw1">SELECT</span> <span class="st0">'map'</span><span class="sy0">,</span><span class="nu0">9</span><span class="sy0">,</span>  <span class="nu0">150</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'compass'</span><span class="sy0">,</span><span class="nu0">13</span><span class="sy0">,</span>  <span class="nu0">35</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'water'</span><span class="sy0">,</span><span class="nu0">153</span><span class="sy0">,</span>  <span class="nu0">200</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'sandwich'</span><span class="sy0">,</span><span class="nu0">50</span><span class="sy0">,</span>  <span class="nu0">160</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'glucose'</span><span class="sy0">,</span><span class="nu0">15</span><span class="sy0">,</span>  <span class="nu0">60</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'tin'</span><span class="sy0">,</span><span class="nu0">68</span><span class="sy0">,</span>  <span class="nu0">45</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'banana'</span><span class="sy0">,</span><span class="nu0">27</span><span class="sy0">,</span>  <span class="nu0">60</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'apple'</span><span class="sy0">,</span><span class="nu0">39</span><span class="sy0">,</span>  <span class="nu0">40</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'cheese'</span><span class="sy0">,</span><span class="nu0">23</span><span class="sy0">,</span>  <span class="nu0">30</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'beer'</span><span class="sy0">,</span><span class="nu0">52</span><span class="sy0">,</span>  <span class="nu0">10</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'suntan cream'</span><span class="sy0">,</span><span class="nu0">11</span><span class="sy0">,</span>  <span class="nu0">70</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'camera'</span><span class="sy0">,</span><span class="nu0">32</span><span class="sy0">,</span>  <span class="nu0">30</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'T-shirt'</span><span class="sy0">,</span><span class="nu0">24</span><span class="sy0">,</span>  <span class="nu0">15</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'trousers'</span><span class="sy0">,</span><span class="nu0">48</span><span class="sy0">,</span>  <span class="nu0">10</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'umbrella'</span><span class="sy0">,</span><span class="nu0">73</span><span class="sy0">,</span>  <span class="nu0">40</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'waterproof trousers'</span><span class="sy0">,</span><span class="nu0">42</span><span class="sy0">,</span>  <span class="nu0">70</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'waterproof overclothes'</span><span class="sy0">,</span><span class="nu0">43</span><span class="sy0">,</span>  <span class="nu0">75</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'note-case'</span><span class="sy0">,</span><span class="nu0">22</span><span class="sy0">,</span>  <span class="nu0">80</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'sunglasses'</span><span class="sy0">,</span><span class="nu0">7</span><span class="sy0">,</span>  <span class="nu0">20</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'towel'</span><span class="sy0">,</span><span class="nu0">18</span><span class="sy0">,</span>  <span class="nu0">12</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'socks'</span><span class="sy0">,</span><span class="nu0">4</span><span class="sy0">,</span>  <span class="nu0">50</span>  <br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span> <span class="kw1">SELECT</span> <span class="st0">'book'</span><span class="sy0">,</span><span class="nu0">30</span><span class="sy0">,</span>  <span class="nu0">10</span>  <br><span class="br0">)</span><br><span class="kw1">SELECT</span> <span class="sy0">*</span><br><span class="kw1">INTO</span> #KnapsackItems<br><span class="kw1">FROM</span> KnapsackItems;<br>&nbsp;<br><span class="kw1">WITH</span> UNIQUEnTuples <span class="br0">(</span>n<span class="sy0">,</span> Tuples<span class="sy0">,</span> ID<span class="sy0">,</span> <span class="br0">[</span>weight<span class="br0">]</span><span class="sy0">,</span> <span class="kw1">VALUE</span><span class="br0">)</span> <span class="kw1">AS</span> <span class="br0">(</span><br>    <span class="kw1">SELECT</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="kw1">CAST</span><span class="br0">(</span>item <span class="kw1">AS</span> <span class="kw1">VARCHAR</span><span class="br0">(</span><span class="nu0">8000</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">,</span> item<span class="sy0">,</span> <span class="br0">[</span>weight<span class="br0">]</span><span class="sy0">,</span> <span class="kw1">VALUE</span><br>    <span class="kw1">FROM</span> #KnapsackItems<br>    <span class="kw1">UNION</span> <span class="kw1">ALL</span><br>    <span class="kw1">SELECT</span> <span class="nu0">1</span> <span class="sy0">+</span> n<span class="sy0">.</span>n<span class="sy0">,</span> t<span class="sy0">.</span>item <span class="sy0">+</span> <span class="st0">','</span> <span class="sy0">+</span> n<span class="sy0">.</span>Tuples<span class="sy0">,</span> item<span class="sy0">,</span> n<span class="sy0">.</span><span class="br0">[</span>weight<span class="br0">]</span> <span class="sy0">+</span> t<span class="sy0">.</span><span class="br0">[</span>weight<span class="br0">]</span><span class="sy0">,</span> n<span class="sy0">.</span><span class="kw1">VALUE</span> <span class="sy0">+</span> t<span class="sy0">.</span><span class="kw1">VALUE</span><br>    <span class="kw1">FROM</span> UNIQUEnTuples n <br>    <span class="kw1">CROSS</span> APPLY <span class="br0">(</span><br>        <span class="kw1">SELECT</span> item<span class="sy0">,</span> <span class="br0">[</span>weight<span class="br0">]</span><span class="sy0">,</span> <span class="kw1">VALUE</span> <br>        <span class="kw1">FROM</span> #KnapsackItems t <br>        <span class="kw1">WHERE</span> t<span class="sy0">.</span>item <span class="sy0">&lt;</span> n<span class="sy0">.</span>ID <span class="kw1">AND</span> n<span class="sy0">.</span><span class="br0">[</span>weight<span class="br0">]</span> <span class="sy0">+</span> t<span class="sy0">.</span><span class="br0">[</span>weight<span class="br0">]</span> <span class="sy0">&lt;</span> <span class="nu0">400</span><span class="br0">)</span> t<br>    <span class="br0">)</span><br><span class="kw1">SELECT</span> TOP <span class="nu0">5</span> <span class="sy0">*</span><br><span class="kw1">FROM</span> UNIQUEnTuples<br><span class="kw1">ORDER</span> <span class="kw1">BY</span> <span class="kw1">VALUE</span> <span class="kw1">DESC</span><span class="sy0">,</span> n<span class="sy0">,</span> Tuples;<br>&nbsp;<br><span class="kw1">GO</span><br><span class="kw1">DROP</span> <span class="kw1">TABLE</span> #KnapsackItems;<br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>weight  value  Solution
396     1030   banana,compass,glucose,map,note-case,sandwich,socks,sunglasses,suntan cream,water,waterproof overclothes,waterproof trousers
389     1010   banana,compass,glucose,map,note-case,sandwich,socks,suntan cream,water,waterproof overclothes,waterproof trousers
399     1005   banana,cheese,glucose,map,note-case,sandwich,socks,suntan cream,water,waterproof overclothes,waterproof trousers
395     1002   banana,cheese,compass,glucose,map,note-case,sandwich,socks,sunglasses,suntan cream,towel,water,waterproof overclothes
393     1000   apple,banana,compass,glucose,map,note-case,sandwich,socks,sunglasses,suntan cream,water,waterproof overclothes
</pre>
<h2><span class="mw-headline" id="Swift"><a href="https://rosettacode.org/wiki/Category:Swift" title="Category:Swift">Swift</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=78" title="Edit section: Swift">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Python">Python</a></div>
<h3><span class="mw-headline" id="Dynamic_Programming_3">Dynamic Programming</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=79" title="Edit section: Dynamic Programming">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre class="text highlighted_source">struct KnapsackItem {<br>  var name: String<br>  var weight: Int<br>  var value: Int<br>}<br>&nbsp;<br>func knapsack(items: [KnapsackItem], limit: Int) -&gt; [KnapsackItem] {<br>  var table = Array(repeating: Array(repeating: 0, count: limit + 1), count: items.count + 1)<br>&nbsp;<br>  for j in 1..&lt;items.count+1 {<br>    let item = items[j-1]<br>&nbsp;<br>    for w in 1..&lt;limit+1 {<br>      if item.weight &gt; w {<br>        table[j][w] = table[j-1][w]<br>      } else {<br>        table[j][w] = max(table[j-1][w], table[j-1][w-item.weight] + item.value)<br>      }<br>    }<br>  }<br>&nbsp;<br>  var result = [KnapsackItem]()<br>  var w = limit<br>&nbsp;<br>  for j in stride(from: items.count, to: 0, by: -1) where table[j][w]&nbsp;!= table[j-1][w] {<br>    let item = items[j-1]<br>&nbsp;<br>    result.append(item)<br>&nbsp;<br>    w -= item.weight<br>  }<br>&nbsp;<br>  return result<br>}<br>&nbsp;<br>let items = [<br>  KnapsackItem(name: "map", weight: 9, value: 150), KnapsackItem(name: "compass", weight: 13, value: 35),<br>  KnapsackItem(name: "water", weight: 153, value: 200), KnapsackItem(name: "sandwich", weight: 50, value: 160),<br>  KnapsackItem(name: "glucose", weight: 15, value: 60), KnapsackItem(name: "tin", weight: 68, value: 45),<br>  KnapsackItem(name: "banana", weight: 27, value: 60), KnapsackItem(name: "apple", weight: 39, value: 40),<br>  KnapsackItem(name: "cheese", weight: 23, value: 30), KnapsackItem(name: "beer", weight: 52, value: 10),<br>  KnapsackItem(name: "suntan cream", weight: 11, value: 70), KnapsackItem(name: "camera", weight: 32, value: 30),<br>  KnapsackItem(name: "t-shirt", weight: 24, value: 15), KnapsackItem(name: "trousers", weight: 48, value: 10),<br>  KnapsackItem(name: "umbrella", weight: 73, value: 40), KnapsackItem(name: "waterproof trousers", weight: 42, value: 70),<br>  KnapsackItem(name: "waterproof overclothes", weight: 43, value: 75), KnapsackItem(name: "note-case", weight: 22, value: 80),<br>  KnapsackItem(name: "sunglasses", weight: 7, value: 20), KnapsackItem(name: "towel", weight: 18, value: 12),<br>  KnapsackItem(name: "socks", weight: 4, value: 50), KnapsackItem(name: "book", weight: 30, value: 10)<br>]<br>&nbsp;<br>let kept = knapsack(items: items, limit: 400)<br>&nbsp;<br>print("Kept: ")<br>&nbsp;<br>for item in kept {<br>  print("  \(item.name)")<br>}<br>&nbsp;<br>let (tValue, tWeight) = kept.reduce((0, 0), { ($0.0 + $1.value, $0.1 + $1.weight) })<br>&nbsp;<br>print("For a total value of \(tValue) and a total weight of \(tWeight)")</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Kept: 
  socks
  sunglasses
  note-case
  waterproof overclothes
  waterproof trousers
  suntan cream
  banana
  glucose
  sandwich
  water
  compass
  map
For a total value of 1030 and a total weight of 396</pre>
<h2><span class="mw-headline" id="Tcl"><a href="https://rosettacode.org/wiki/Category:Tcl" title="Category:Tcl">Tcl</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=80" title="Edit section: Tcl">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>As the saying goes, “when in doubt, try brute force”. Since there's 
only 22 items we can simply iterate over all possible choices.
</p>
<pre class="tcl highlighted_source"><span class="co1"># The list of items to consider, as list of lists</span><br><span class="kw1">set</span> items <span class="br0">{</span><br>    <span class="br0">{</span>map			<span class="nu0">9</span>	<span class="nu0">150</span><span class="br0">}</span><br>    <span class="br0">{</span>compass			<span class="nu0">13</span>	<span class="nu0">35</span><span class="br0">}</span><br>    <span class="br0">{</span>water			<span class="nu0">153</span>	<span class="nu0">200</span><span class="br0">}</span><br>    <span class="br0">{</span>sandwich			<span class="nu0">50</span>	<span class="nu0">160</span><span class="br0">}</span><br>    <span class="br0">{</span>glucose			<span class="nu0">15</span>	<span class="nu0">60</span><span class="br0">}</span><br>    <span class="br0">{</span>tin			<span class="nu0">68</span>	<span class="nu0">45</span><span class="br0">}</span><br>    <span class="br0">{</span>banana			<span class="nu0">27</span>	<span class="nu0">60</span><span class="br0">}</span><br>    <span class="br0">{</span>apple			<span class="nu0">39</span>	<span class="nu0">40</span><span class="br0">}</span><br>    <span class="br0">{</span>cheese			<span class="nu0">23</span>	<span class="nu0">30</span><span class="br0">}</span><br>    <span class="br0">{</span>beer			<span class="nu0">52</span>	<span class="nu0">10</span><span class="br0">}</span><br>    <span class="br0">{</span><span class="br0">{</span>suntan cream<span class="br0">}</span>		<span class="nu0">11</span>	<span class="nu0">70</span><span class="br0">}</span><br>    <span class="br0">{</span>camera			<span class="nu0">32</span>	<span class="nu0">30</span><span class="br0">}</span><br>    <span class="br0">{</span>t-shirt			<span class="nu0">24</span>	<span class="nu0">15</span><span class="br0">}</span><br>    <span class="br0">{</span>trousers			<span class="nu0">48</span>	<span class="nu0">10</span><span class="br0">}</span><br>    <span class="br0">{</span>umbrella			<span class="nu0">73</span>	<span class="nu0">40</span><span class="br0">}</span><br>    <span class="br0">{</span><span class="br0">{</span>waterproof trousers<span class="br0">}</span>	<span class="nu0">42</span>	<span class="nu0">70</span><span class="br0">}</span><br>    <span class="br0">{</span><span class="br0">{</span>waterproof overclothes<span class="br0">}</span>	<span class="nu0">43</span>	<span class="nu0">75</span><span class="br0">}</span><br>    <span class="br0">{</span>note-<span class="kw1">case</span>			<span class="nu0">22</span>	<span class="nu0">80</span><span class="br0">}</span><br>    <span class="br0">{</span>sunglasses			<span class="nu0">7</span>	<span class="nu0">20</span><span class="br0">}</span><br>    <span class="br0">{</span>towel			<span class="nu0">18</span>	<span class="nu0">12</span><span class="br0">}</span><br>    <span class="br0">{</span>socks			<span class="nu0">4</span>	<span class="nu0">50</span><span class="br0">}</span><br>    <span class="br0">{</span>book			<span class="nu0">30</span>	<span class="nu0">10</span><span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br><span class="co1"># Simple extraction functions</span><br><span class="kw1">proc</span> names <span class="br0">{</span>chosen<span class="br0">}</span> <span class="br0">{</span><br>    <span class="kw1">set</span> names <span class="br0">{</span><span class="br0">}</span><br>    <span class="kw1">foreach</span> item <span class="re0">$chosen</span> <span class="br0">{</span><span class="kw2">lappend</span> names <span class="br0">[</span><span class="kw2">lindex</span> <span class="re0">$item</span> <span class="nu0">0</span><span class="br0">]</span><span class="br0">}</span><br>    <span class="kw1">return</span> <span class="re0">$names</span><br><span class="br0">}</span><br><span class="kw1">proc</span> weight <span class="br0">{</span>chosen<span class="br0">}</span> <span class="br0">{</span><br>    <span class="kw1">set</span> weight <span class="nu0">0</span><br>    <span class="kw1">foreach</span> item <span class="re0">$chosen</span> <span class="br0">{</span><span class="kw2">incr</span> weight <span class="br0">[</span><span class="kw2">lindex</span> <span class="re0">$item</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">}</span><br>    <span class="kw1">return</span> <span class="re0">$weight</span><br><span class="br0">}</span><br><span class="kw1">proc</span> value <span class="br0">{</span>chosen<span class="br0">}</span> <span class="br0">{</span><br>    <span class="kw1">set</span> value <span class="nu0">0</span><br>    <span class="kw1">foreach</span> item <span class="re0">$chosen</span> <span class="br0">{</span><span class="kw2">incr</span> value <span class="br0">[</span><span class="kw2">lindex</span> <span class="re0">$item</span> <span class="nu0">2</span><span class="br0">]</span><span class="br0">}</span><br>    <span class="kw1">return</span> <span class="re0">$value</span><br><span class="br0">}</span><br>&nbsp;<br><span class="co1"># Recursive function for searching over all possible choices of items</span><br><span class="kw1">proc</span> knapsackSearch <span class="br0">{</span>items <span class="br0">{</span>chosen <span class="br0">{</span><span class="br0">}</span><span class="br0">}</span><span class="br0">}</span> <span class="br0">{</span><br>    <span class="co1"># If we've gone over the weight limit, stop now</span><br>    <span class="kw1">if</span> <span class="br0">{</span><span class="br0">[</span>weight <span class="re0">$chosen</span><span class="br0">]</span> <span class="sy0">&gt;</span> <span class="nu0">400</span><span class="br0">}</span> <span class="br0">{</span><br>	<span class="kw1">return</span><br>    <span class="br0">}</span><br>    <span class="co1"># If we've considered all of the items (i.e., leaf in search tree)</span><br>    <span class="co1"># then see if we've got a new best choice.</span><br>    <span class="kw1">if</span> <span class="br0">{</span><span class="br0">[</span><span class="kw2">llength</span> <span class="re0">$items</span><span class="br0">]</span> == <span class="nu0">0</span><span class="br0">}</span> <span class="br0">{</span><br>	<span class="kw1">global</span> best max<br>	<span class="kw1">set</span> v <span class="br0">[</span>value <span class="re0">$chosen</span><span class="br0">]</span><br>	<span class="kw1">if</span> <span class="br0">{</span><span class="re0">$v</span> <span class="sy0">&gt;</span> <span class="re0">$max</span><span class="br0">}</span> <span class="br0">{</span><br>	    <span class="kw1">set</span> max <span class="re0">$v</span><br>	    <span class="kw1">set</span> best <span class="re0">$chosen</span><br>	<span class="br0">}</span><br>	<span class="kw1">return</span><br>    <span class="br0">}</span><br>    <span class="co1"># Branch, so recurse for chosing the current item or not</span><br>    <span class="kw1">set</span> this <span class="br0">[</span><span class="kw2">lindex</span> <span class="re0">$items</span> <span class="nu0">0</span><span class="br0">]</span><br>    <span class="kw1">set</span> rest <span class="br0">[</span><span class="kw2">lrange</span> <span class="re0">$items</span> <span class="nu0">1</span> end<span class="br0">]</span><br>    knapsackSearch <span class="re0">$rest</span> <span class="re0">$chosen</span><br>    knapsackSearch <span class="re0">$rest</span> <span class="br0">[</span><span class="kw2">lappend</span> chosen <span class="re0">$this</span><span class="br0">]</span><br><span class="br0">}</span><br>&nbsp;<br><span class="co1"># Initialize a few global variables</span><br><span class="kw1">set</span> best <span class="br0">{</span><span class="br0">}</span><br><span class="kw1">set</span> max <span class="nu0">0</span><br><span class="co1"># Do the brute-force search</span><br>knapsackSearch <span class="re0">$items</span><br><span class="co1"># Pretty-print the results</span><br><span class="kw2">puts</span> <span class="st0">"Best filling has weight of [expr {[weight $best]/100.0}]kg and score [value $best]"</span><br><span class="kw2">puts</span> <span class="st0">"Best items:<span class="es0">\n</span><span class="es0">\t</span>[join [lsort [names $best]] <span class="es0">\n</span><span class="es0">\t</span>]"</span></pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>Best filling has weight of 3.96kg and score 1030
Best items:
	banana
	compass
	glucose
	map
	note-case
	sandwich
	socks
	sunglasses
	suntan cream
	water
	waterproof overclothes
	waterproof trousers
</pre>
<h2><span class="mw-headline" id="Ursala"><a href="https://rosettacode.org/wiki/Category:Ursala" title="Category:Ursala">Ursala</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=81" title="Edit section: Ursala">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This solution follows a very similar approach to the one used in <a href="https://rosettacode.org/wiki/Knapsack_problem/Bounded#Ursala" title="Knapsack problem/Bounded">Knapsack problem/Bounded#Ursala</a>, which is to treat it as a mixed integer programming problem and solve it using an off-the-shelf library (<a rel="nofollow" class="external text" href="http://lpsolve.sourceforge.net/">lpsolve</a>).
</p>
<pre class="text highlighted_source">#import std<br>#import nat<br>#import flo<br>#import lin<br>&nbsp;<br>#import nat<br>&nbsp;<br>items = # name: (weight,value)<br>&nbsp;<br>&lt;<br>   'map': (9,150),<br>   'compass': (13,35),<br>   'water': (153,200),<br>   'sandwich': (50,160),<br>   'glucose': (15,60),<br>   'tin': (68,45),<br>   'banana': (27,60),<br>   'apple': (39,40),<br>   'cheese': (23,30),<br>   'beer': (52,10),<br>   'suntan cream': (11,70),<br>   'camera': (32,30),<br>   't-shirt': (24,15),<br>   'trousers': (48,10),<br>   'umbrella': (73,40),<br>   'waterproof trousers': (42,70),<br>   'waterproof overclothes': (43,75),<br>   'note-case': (22,80),<br>   'sunglasses': (7,20),<br>   'towel': (18,12),<br>   'socks': (4,50),<br>   'book': (30,10)&gt;<br>&nbsp;<br>system =<br>&nbsp;<br>linear_system$[<br>   binaries: ~&amp;nS,<br>   lower_bounds: {'(slack)': 0.}!,<br>   costs: * ^|/~&amp; negative+ float@r,<br>   equations: ~&amp;iNC\400.+&nbsp;:/(1.,'(slack)')+ * ^|rlX/~&amp; float@l]<br>&nbsp;<br>#show+<br>&nbsp;<br>main = ~&amp;tnS solution system items</pre>
<p>Binary valued variables are a more specific constraint than the 
general mixed integer programming problem, but can be accommodated as 
shown using the <code>binaries</code> field in the <code>linear_system</code> specification. The additional <code>slack</code>
 variable is specified as continuous and non-negative with no cost or 
benefit so as to make the constraint equation solvable without affecting
 the solution.
</p>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>banana
compass
glucose
map
note-case
sandwich
socks
sunglasses
suntan cream
water
waterproof overclothes
waterproof trousers
</pre>
<h2><span class="mw-headline" id="VBA"><a href="https://rosettacode.org/wiki/Category:VBA" title="Category:VBA">VBA</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=82" title="Edit section: VBA">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="vb highlighted_source"><span class="co1">'Knapsack problem/0-1 - 12/02/2017<br></span><span class="kw2">Option</span> <span class="kw2">Explicit</span><br>Const maxWeight = 400<br><span class="kw4">Dim</span> DataList <span class="kw4">As</span> <span class="kw1">Variant</span><br><span class="kw4">Dim</span> xList(64, 3) <span class="kw4">As</span> <span class="kw1">Variant</span><br><span class="kw4">Dim</span> nItems <span class="kw4">As</span> <span class="kw1">Integer</span><br><span class="kw4">Dim</span> s <span class="kw4">As</span> <span class="kw1">String</span>, xss <span class="kw4">As</span> <span class="kw1">String</span><br><span class="kw4">Dim</span> xwei <span class="kw4">As</span> <span class="kw1">Integer</span>, xval <span class="kw4">As</span> <span class="kw1">Integer</span>, nn <span class="kw4">As</span> <span class="kw1">Integer</span><br>&nbsp;<br><span class="kw2">Sub</span> Main()<br>    <span class="kw4">Dim</span> i <span class="kw4">As</span> <span class="kw1">Integer</span>, j <span class="kw4">As</span> <span class="kw1">Integer</span><br>    DataList = Array(<span class="st0">"map"</span>, 9, 150, <span class="st0">"compass"</span>, 13, 35, <span class="st0">"water"</span>, 153, 200, <span class="st0">"sandwich"</span>, 50, 160, _<br>           <span class="st0">"glucose"</span>, 15, 60, <span class="st0">"tin"</span>, 68, 45, <span class="st0">"banana"</span>, 27, 60, <span class="st0">"apple"</span>, 39, 40, _<br>           <span class="st0">"cheese"</span>, 23, 30, <span class="st0">"beer"</span>, 52, 10, <span class="st0">"suntan cream"</span>, 11, 70, <span class="st0">"camera"</span>, 32, 30, _<br>           <span class="st0">"T-shirt"</span>, 24, 15, <span class="st0">"trousers"</span>, 48, 10, <span class="st0">"umbrella"</span>, 73, 40, <span class="st0">"book"</span>, 30, 10, _<br>           <span class="st0">"waterproof trousers"</span>, 42, 70, <span class="st0">"waterproof overclothes"</span>, 43, 75, _<br>           <span class="st0">"note-case"</span>, 22, 80, <span class="st0">"sunglasses"</span>, 7, 20, <span class="st0">"towel"</span>, 18, 12, <span class="st0">"socks"</span>, 4, 50)<br>    nItems = (<span class="kw4">UBound</span>(DataList) + 1) / 3<br>    j = 0<br>    <span class="kw3">For</span> i = 1 <span class="kw3">To</span> nItems<br>        xList(i, 1) = DataList(j)<br>        xList(i, 2) = DataList(j + 1)<br>        xList(i, 3) = DataList(j + 2)<br>        j = j + 3<br>    <span class="kw3">Next</span> i<br>    s = <span class="st0">""</span><br>    <span class="kw3">For</span> i = 1 <span class="kw3">To</span> nItems<br>        s = s &amp; Chr(i)<br>    <span class="kw3">Next</span><br>    nn = 0<br>    <span class="kw2">Call</span> ChoiceBin(1, <span class="st0">""</span>)<br>    <span class="kw3">For</span> i = 1 <span class="kw3">To</span> Len(xss)<br>        j = Asc(Mid(xss, i, 1))<br>        Debug.<span class="kw4">Print</span> xList(j, 1)<br>    <span class="kw3">Next</span> i<br>    Debug.<span class="kw4">Print</span> <span class="st0">"count="</span> &amp; Len(xss), <span class="st0">"weight="</span> &amp; xwei, <span class="st0">"value="</span> &amp; xval<br><span class="kw3">End</span> <span class="kw2">Sub</span> <span class="co1">'Main<br></span><br><span class="kw2">Private</span> <span class="kw2">Sub</span> ChoiceBin(n <span class="kw4">As</span> <span class="kw1">String</span>, ss <span class="kw4">As</span> <span class="kw1">String</span>)<br>    <span class="kw4">Dim</span> r <span class="kw4">As</span> <span class="kw1">String</span><br>    <span class="kw4">Dim</span> i <span class="kw4">As</span> <span class="kw1">Integer</span>, j <span class="kw4">As</span> <span class="kw1">Integer</span>, iwei <span class="kw4">As</span> <span class="kw1">Integer</span>, ival <span class="kw4">As</span> <span class="kw1">Integer</span><br>    <span class="kw4">Dim</span> ipct <span class="kw4">As</span> <span class="kw1">Integer</span><br>    <span class="kw3">If</span> n = Len(s) + 1 <span class="kw3">Then</span><br>        iwei = 0: ival = 0<br>        <span class="kw3">For</span> i = 1 <span class="kw3">To</span> Len(ss)<br>            j = Asc(Mid(ss, i, 1))<br>            iwei = iwei + xList(j, 2)<br>            ival = ival + xList(j, 3)<br>        <span class="kw3">Next</span><br>        <span class="kw3">If</span> iwei &lt;= maxWeight <span class="kw3">And</span> ival &gt; xval <span class="kw3">Then</span><br>            xss = ss: xwei = iwei: xval = ival<br>        <span class="kw3">End</span> <span class="kw3">If</span><br>    <span class="kw3">Else</span><br>        r = Mid(s, n, 1)<br>        <span class="kw2">Call</span> ChoiceBin(n + 1, ss &amp; r)<br>        <span class="kw2">Call</span> ChoiceBin(n + 1, ss)<br>    <span class="kw3">End</span> <span class="kw3">If</span><br><span class="kw3">End</span> <span class="kw2">Sub</span> 'ChoiceBin</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>map
compass
water
sandwich
glucose
banana
suntan cream
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks
count=12      weight=396    value=1030
</pre>
<h2><span class="mw-headline" id="VBScript"><a href="https://rosettacode.org/wiki/Category:VBScript" title="Category:VBScript">VBScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=83" title="Edit section: VBScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Non recurvive unfolded force version. Created by an other script. It runs 13 times faster than the recursive one.
</p>
<pre class="vb highlighted_source"><span class="co1">' Knapsack problem/0-1 - 13/02/2017<br></span><span class="kw4">dim</span> w(22),v(22),m(22)<br>data=array( <span class="st0">"map"</span>, 9, 150, <span class="st0">"compass"</span>, 13, 35, <span class="st0">"water"</span>, 153, 200, _<br> <span class="st0">"sandwich"</span>, 50, 160 , <span class="st0">"glucose"</span>, 15, 60, <span class="st0">"tin"</span>, 68, 45, _<br> <span class="st0">"banana"</span>, 27, 60, <span class="st0">"apple"</span>, 39, 40 , <span class="st0">"cheese"</span>, 23, 30, <span class="st0">"beer"</span>, 52, 10, _<br> <span class="st0">"suntan cream"</span>, 11, 70, <span class="st0">"camera"</span>, 32, 30 , <span class="st0">"T-shirt"</span>, 24, 15, _<br> <span class="st0">"trousers"</span>, 48, 10, <span class="st0">"umbrella"</span>, 73, 40, <span class="st0">"book"</span>, 30, 10 , _<br> <span class="st0">"waterproof trousers"</span>, 42, 70, <span class="st0">"waterproof overclothes"</span>, 43, 75 , _<br> <span class="st0">"note-case"</span>, 22, 80, <span class="st0">"sunglasses"</span>, 7, 20, <span class="st0">"towel"</span>, 18, 12, <span class="st0">"socks"</span>, 4, 50)<br>ww=400<br>xw=0:iw=0:iv=0<br>w(1)=iw:v(1)=iv<br><span class="kw3">for</span> i1=0 <span class="kw3">to</span> 1:m(1)=i1:j=0<br> <span class="kw3">if</span> i1=1 <span class="kw3">then</span><br>  iw=w(1)+data(j*3+1):iv=v(1)+data(j*3+2)<br>  <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br> <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i1<br></span> <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>  w(2)=iw: v(2)=iv<br>  <span class="kw3">for</span> i2=0 <span class="kw3">to</span> 1:m(2)=i2:j=1<br>   <span class="kw3">if</span> i2=1 <span class="kw3">then</span><br>    iw=w(2)+data(j*3+1):iv=v(2)+data(j*3+2)<br>    <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>   <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i2<br></span>   <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>    w(3)=iw: v(3)=iv<br>    <span class="kw3">for</span> i3=0 <span class="kw3">to</span> 1:m(3)=i3:j=2<br>     <span class="kw3">if</span> i3=1 <span class="kw3">then</span><br>      iw=w(3)+data(j*3+1):iv=v(3)+data(j*3+2)<br>      <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>     <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i3<br></span>     <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>      w(4)=iw: v(4)=iv<br>      <span class="kw3">for</span> i4=0 <span class="kw3">to</span> 1:m(4)=i4:j=3<br>       <span class="kw3">if</span> i4=1 <span class="kw3">then</span><br>        iw=w(4)+data(j*3+1):iv=v(4)+data(j*3+2)<br>        <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>       <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i4<br></span>       <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>        w(5)=iw: v(5)=iv<br>        <span class="kw3">for</span> i5=0 <span class="kw3">to</span> 1:m(5)=i5:j=4<br>         <span class="kw3">if</span> i5=1 <span class="kw3">then</span><br>          iw=w(5)+data(j*3+1):iv=v(5)+data(j*3+2)<br>          <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>         <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i5<br></span>         <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>          w(6)=iw: v(6)=iv<br>          <span class="kw3">for</span> i6=0 <span class="kw3">to</span> 1:m(6)=i6:j=5<br>           <span class="kw3">if</span> i6=1 <span class="kw3">then</span><br>            iw=w(6)+data(j*3+1):iv=v(6)+data(j*3+2)<br>            <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>           <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i6<br></span>           <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>            w(7)=iw: v(7)=iv<br>            <span class="kw3">for</span> i7=0 <span class="kw3">to</span> 1:m(7)=i7:j=6<br>             <span class="kw3">if</span> i7=1 <span class="kw3">then</span><br>              iw=w(7)+data(j*3+1):iv=v(7)+data(j*3+2)<br>              <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>             <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i7<br></span>             <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>              w(8)=iw: v(8)=iv<br>              <span class="kw3">for</span> i8=0 <span class="kw3">to</span> 1:m(8)=i8:j=7<br>               <span class="kw3">if</span> i8=1 <span class="kw3">then</span><br>                iw=w(8)+data(j*3+1):iv=v(8)+data(j*3+2)<br>                <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>               <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i8<br></span>               <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                w(9)=iw: v(9)=iv<br>                <span class="kw3">for</span> i9=0 <span class="kw3">to</span> 1:m(9)=i9:j=8<br>                 <span class="kw3">if</span> i9=1 <span class="kw3">then</span><br>                  iw=w(9)+data(j*3+1):iv=v(9)+data(j*3+2)<br>                  <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                 <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i9<br></span>                 <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                  w(10)=iw: v(10)=iv<br>                  <span class="kw3">for</span> i10=0 <span class="kw3">to</span> 1:m(10)=i10:j=9<br>                   <span class="kw3">if</span> i10=1 <span class="kw3">then</span><br>                    iw=w(10)+data(j*3+1):iv=v(10)+data(j*3+2)<br>                    <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                   <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i10<br></span>                   <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                    w(11)=iw: v(11)=iv<br>                    <span class="kw3">for</span> i11=0 <span class="kw3">to</span> 1:m(11)=i11:j=10<br>                     <span class="kw3">if</span> i11=1 <span class="kw3">then</span><br>                      iw=w(11)+data(j*3+1):iv=v(11)+data(j*3+2)<br>                      <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                     <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i11<br></span>                     <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                      w(12)=iw: v(12)=iv<br>                      <span class="kw3">for</span> i12=0 <span class="kw3">to</span> 1:m(12)=i12:j=11<br>                       <span class="kw3">if</span> i12=1 <span class="kw3">then</span><br>                        iw=w(12)+data(j*3+1):iv=v(12)+data(j*3+2)<br>                        <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                       <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i12<br></span>                       <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                        w(13)=iw: v(13)=iv<br>                        <span class="kw3">for</span> i13=0 <span class="kw3">to</span> 1:m(13)=i13:j=12<br>                         <span class="kw3">if</span> i13=1 <span class="kw3">then</span><br>                          iw=w(13)+data(j*3+1):iv=v(13)+data(j*3+2)<br>                          <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                         <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i13<br></span>                         <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                          w(14)=iw: v(14)=iv<br>                          <span class="kw3">for</span> i14=0 <span class="kw3">to</span> 1:m(14)=i14:j=13<br>                           <span class="kw3">if</span> i14=1 <span class="kw3">then</span><br>                            iw=w(14)+data(j*3+1):iv=v(14)+data(j*3+2)<br>                            <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                           <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i14<br></span>                           <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                            w(15)=iw: v(15)=iv<br>                            <span class="kw3">for</span> i15=0 <span class="kw3">to</span> 1:m(15)=i15:j=14<br>                             <span class="kw3">if</span> i15=1 <span class="kw3">then</span><br>                              iw=w(15)+data(j*3+1):iv=v(15)+data(j*3+2)<br>                              <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                             <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i15<br></span>                             <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                              w(16)=iw: v(16)=iv<br>                              <span class="kw3">for</span> i16=0 <span class="kw3">to</span> 1:m(16)=i16:j=15<br>                               <span class="kw3">if</span> i16=1 <span class="kw3">then</span><br>                                iw=w(16)+data(j*3+1):iv=v(16)+data(j*3+2)<br>                                <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                               <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i16<br></span>                               <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                                w(17)=iw: v(17)=iv<br>                                <span class="kw3">for</span> i17=0 <span class="kw3">to</span> 1:m(17)=i17:j=16<br>                                 <span class="kw3">if</span> i17=1 <span class="kw3">then</span><br>                                  iw=w(17)+data(j*3+1):iv=v(17)+data(j*3+2)<br>                                  <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                                 <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i17<br></span>                                 <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                                  w(18)=iw: v(18)=iv<br>                                  <span class="kw3">for</span> i18=0 <span class="kw3">to</span> 1:m(18)=i18:j=17<br>                                   <span class="kw3">if</span> i18=1 <span class="kw3">then</span><br>                                    iw=w(18)+data(j*3+1):iv=v(18)+data(j*3+2)<br>                                    <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                                   <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i18<br></span>                                   <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                                    w(19)=iw: v(19)=iv<br>                                    <span class="kw3">for</span> i19=0 <span class="kw3">to</span> 1:m(19)=i19:j=18<br>                                     <span class="kw3">if</span> i19=1 <span class="kw3">then</span><br>                                      iw=w(19)+data(j*3+1):iv=v(19)+data(j*3+2)<br>                                      <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                                     <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i19<br></span>                                     <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                                      w(20)=iw: v(20)=iv<br>                                      <span class="kw3">for</span> i20=0 <span class="kw3">to</span> 1:m(20)=i20:j=19<br>                                       <span class="kw3">if</span> i20=1 <span class="kw3">then</span><br>                                        iw=w(20)+data(j*3+1):iv=v(20)+data(j*3+2)<br>                                        <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                                       <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i20<br></span>                                       <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                                        w(21)=iw: v(21)=iv<br>                                        <span class="kw3">for</span> i21=0 <span class="kw3">to</span> 1:m(21)=i21:j=20<br>                                         <span class="kw3">if</span> i21=1 <span class="kw3">then</span><br>                                          iw=w(21)+data(j*3+1):iv=v(21)+data(j*3+2)<br>                                          <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                                         <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i21<br></span>                                         <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                                          w(22)=iw: v(22)=iv<br>                                          <span class="kw3">for</span> i22=0 <span class="kw3">to</span> 1:m(22)=i22:j=21<br>                                           nn=nn+1<br>                                           <span class="kw3">if</span> i22=1 <span class="kw3">then</span><br>                                            iw=w(22)+data(j*3+1):iv=v(22)+data(j*3+2)<br>                                            <span class="kw3">if</span> iv&gt;xv <span class="kw3">and</span> iw&lt;=ww <span class="kw3">then</span> xw=iw:xv=iv:l=m<br>                                           <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i22<br></span>                                           <span class="kw3">if</span> iw&lt;=ww <span class="kw3">then</span><br>                                           <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i22<br></span>                                          <span class="kw3">next</span>:m(22)=0<br>                                         <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i21<br></span>                                        <span class="kw3">next</span>:m(21)=0<br>                                       <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i20<br></span>                                      <span class="kw3">next</span>:m(20)=0<br>                                     <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i19<br></span>                                    <span class="kw3">next</span>:m(19)=0<br>                                   <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i18<br></span>                                  <span class="kw3">next</span>:m(18)=0<br>                                 <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i17<br></span>                                <span class="kw3">next</span>:m(17)=0<br>                               <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i16<br></span>                              <span class="kw3">next</span>:m(16)=0<br>                             <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i15<br></span>                            <span class="kw3">next</span>:m(15)=0<br>                           <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i14<br></span>                          <span class="kw3">next</span>:m(14)=0<br>                         <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i13<br></span>                        <span class="kw3">next</span>:m(13)=0<br>                       <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i12<br></span>                      <span class="kw3">next</span>:m(12)=0<br>                     <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i11<br></span>                    <span class="kw3">next</span>:m(11)=0<br>                   <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i10<br></span>                  <span class="kw3">next</span>:m(10)=0<br>                 <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i9<br></span>                <span class="kw3">next</span>:m(9)=0<br>               <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i8<br></span>              <span class="kw3">next</span>:m(8)=0<br>             <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i7<br></span>            <span class="kw3">next</span>:m(7)=0<br>           <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i6<br></span>          <span class="kw3">next</span>:m(6)=0<br>         <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i5<br></span>        <span class="kw3">next</span>:m(5)=0<br>       <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i4<br></span>      <span class="kw3">next</span>:m(4)=0<br>     <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i3<br></span>    <span class="kw3">next</span>:m(3)=0<br>   <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i2<br></span>  <span class="kw3">next</span>:m(2)=0<br> <span class="kw3">end</span> <span class="kw3">if</span> <span class="co1">'i1<br></span><span class="kw3">next</span>:m(1)=0<br><span class="kw3">for</span> i=1 <span class="kw3">to</span> 22<br> <span class="kw3">if</span> l(i)=1 <span class="kw3">then</span> wlist=wlist&amp;vbCrlf&amp;data((i-1)*3)<br><span class="kw3">next</span><br>Msgbox mid(wlist,3)&amp;vbCrlf&amp;vbCrlf&amp;<span class="st0">"weight="</span>&amp;xw&amp;vbCrlf&amp;<span class="st0">"value="</span>&amp;xv,,<span class="st0">"Knapsack - nn="</span>&amp;nn</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>map
compass
water
sandwich
glucose
banana
suntan cream
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks

weight=396
value=1030
</pre>
<h2><span class="mw-headline" id="Visual_Basic"><a href="https://rosettacode.org/wiki/Category:Visual_Basic" title="Category:Visual Basic">Visual Basic</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=84" title="Edit section: Visual Basic">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta workswith"><b>Works with</b>: <a href="https://rosettacode.org/wiki/Visual_Basic" title="Visual Basic" class="mw-redirect">Visual Basic</a> version VB6 Standard</div>
<pre class="vb highlighted_source"><span class="co1">'Knapsack problem/0-1 - 12/02/2017<br></span><span class="kw2">Option</span> <span class="kw2">Explicit</span><br>Const maxWeight = 400<br><span class="kw4">Dim</span> DataList <span class="kw4">As</span> <span class="kw1">Variant</span><br><span class="kw4">Dim</span> xList(64, 3) <span class="kw4">As</span> <span class="kw1">Variant</span><br><span class="kw4">Dim</span> nItems <span class="kw4">As</span> <span class="kw1">Integer</span><br><span class="kw4">Dim</span> s  <span class="kw4">As</span> <span class="kw1">String</span>, xss <span class="kw4">As</span> <span class="kw1">String</span><br><span class="kw4">Dim</span> xwei <span class="kw4">As</span> <span class="kw1">Integer</span>, xval <span class="kw4">As</span> <span class="kw1">Integer</span>, nn <span class="kw4">As</span> <span class="kw1">Integer</span><br>&nbsp;<br><span class="kw2">Private</span> <span class="kw2">Sub</span> Form_Load()<br>    <span class="kw4">Dim</span> i <span class="kw4">As</span> <span class="kw1">Integer</span>, j <span class="kw4">As</span> <span class="kw1">Integer</span><br>    DataList = Array(<span class="st0">"map"</span>, 9, 150, <span class="st0">"compass"</span>, 13, 35, <span class="st0">"water"</span>, 153, 200, <span class="st0">"sandwich"</span>, 50, 160, _<br>           <span class="st0">"glucose"</span>, 15, 60, <span class="st0">"tin"</span>, 68, 45, <span class="st0">"banana"</span>, 27, 60, <span class="st0">"apple"</span>, 39, 40, _<br>           <span class="st0">"cheese"</span>, 23, 30, <span class="st0">"beer"</span>, 52, 10, <span class="st0">"suntan cream"</span>, 11, 70, <span class="st0">"camera"</span>, 32, 30, _<br>           <span class="st0">"T-shirt"</span>, 24, 15, <span class="st0">"trousers"</span>, 48, 10, <span class="st0">"umbrella"</span>, 73, 40, <span class="st0">"book"</span>, 30, 10, _<br>           <span class="st0">"waterproof trousers"</span>, 42, 70, <span class="st0">"waterproof overclothes"</span>, 43, 75, _<br>           <span class="st0">"note-case"</span>, 22, 80, <span class="st0">"sunglasses"</span>, 7, 20, <span class="st0">"towel"</span>, 18, 12, <span class="st0">"socks"</span>, 4, 50)<br>    nItems = (<span class="kw4">UBound</span>(DataList) + 1) / 3<br>    j = 0<br>    <span class="kw3">For</span> i = 1 <span class="kw3">To</span> nItems<br>        xList(i, 1) = DataList(j)<br>        xList(i, 2) = DataList(j + 1)<br>        xList(i, 3) = DataList(j + 2)<br>        j = j + 3<br>    <span class="kw3">Next</span> i<br>    <span class="kw3">For</span> i = 1 <span class="kw3">To</span> nItems<br>        xListBox.AddItem xList(i, 1)<br>    <span class="kw3">Next</span> i<br><span class="kw3">End</span> <span class="kw2">Sub</span><br>&nbsp;<br><span class="kw2">Private</span> <span class="kw2">Sub</span> cmdOK_Click()<br>    <span class="kw4">Dim</span> i <span class="kw4">As</span> <span class="kw1">Integer</span>, j <span class="kw4">As</span> <span class="kw1">Integer</span><br>    <span class="kw3">For</span> i = 1 <span class="kw3">To</span> xListBox.ListCount<br>        xListBox.RemoveItem 0<br>    <span class="kw3">Next</span> i<br>    s = <span class="st0">""</span><br>    <span class="kw3">For</span> i = 1 <span class="kw3">To</span> nItems<br>        s = s &amp; Chr(i)<br>    <span class="kw3">Next</span><br>    nn = 0<br>    <span class="kw2">Call</span> ChoiceBin(1, <span class="st0">""</span>)<br>    <span class="kw3">For</span> i = 1 <span class="kw3">To</span> Len(xss)<br>        j = Asc(Mid(xss, i, 1))<br>        xListBox.AddItem xList(j, 1)<br>    <span class="kw3">Next</span> i<br>    xListBox.AddItem <span class="st0">"*Total* "</span> &amp; xwei &amp; <span class="st0">" "</span> &amp; xval<br><span class="kw3">End</span> <span class="kw2">Sub</span><br>&nbsp;<br><span class="kw2">Private</span> <span class="kw2">Sub</span> ChoiceBin(n <span class="kw4">As</span> <span class="kw1">String</span>, ss <span class="kw4">As</span> <span class="kw1">String</span>)<br>    <span class="kw4">Dim</span> r <span class="kw4">As</span> <span class="kw1">String</span><br>    <span class="kw4">Dim</span> i <span class="kw4">As</span> <span class="kw1">Integer</span>, j <span class="kw4">As</span> <span class="kw1">Integer</span>, iwei <span class="kw4">As</span> <span class="kw1">Integer</span>, ival <span class="kw4">As</span> <span class="kw1">Integer</span><br>    <span class="kw4">Dim</span> ipct <span class="kw4">As</span> <span class="kw1">Integer</span><br>    <span class="kw3">If</span> n = Len(s) + 1 <span class="kw3">Then</span><br>        iwei = 0: ival = 0<br>        <span class="kw3">For</span> i = 1 <span class="kw3">To</span> Len(ss)<br>            j = Asc(Mid(ss, i, 1))<br>            iwei = iwei + xList(j, 2)<br>            ival = ival + xList(j, 3)<br>        <span class="kw3">Next</span><br>        <span class="kw3">If</span> iwei &lt;= maxWeight <span class="kw3">And</span> ival &gt; xval <span class="kw3">Then</span><br>            xss = ss: xwei = iwei: xval = ival<br>        <span class="kw3">End</span> <span class="kw3">If</span><br>    <span class="kw3">Else</span><br>        r = Mid(s, n, 1)<br>        <span class="kw2">Call</span> ChoiceBin(n + 1, ss &amp; r)<br>        <span class="kw2">Call</span> ChoiceBin(n + 1, ss)<br>    <span class="kw3">End</span> <span class="kw3">If</span><br><span class="kw3">End</span> <span class="kw2">Sub</span> 'ChoiceBin</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>map
compass
water
sandwich
glucose
banana
suntan cream
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks
*Total*  weight=396  val=1030
</pre>
<h2><span class="mw-headline" id="Visual_Basic_.NET"><a href="https://rosettacode.org/wiki/Category:Visual_Basic_.NET" title="Category:Visual Basic .NET">Visual Basic .NET</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=85" title="Edit section: Visual Basic .NET">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta workswith"><b>Works with</b>: <a href="https://rosettacode.org/wiki/Visual_Basic_.NET" title="Visual Basic .NET" class="mw-redirect">Visual Basic .NET</a> version 2013</div>
<pre class="vbnet highlighted_source"><span class="co1">'Knapsack problem/0-1 - 12/02/2017</span><br><span class="kw1">Public</span> <span class="kw1">Class</span> KnapsackBin<br>    <span class="kw1">Const</span> knam <span class="sy0">=</span> <span class="nu0">0</span>, kwei <span class="sy0">=</span> <span class="nu0">1</span>, kval <span class="sy0">=</span> <span class="nu0">2</span><br>    <span class="kw1">Const</span> maxWeight <span class="sy0">=</span> <span class="nu0">400</span><br>    <span class="kw1">Dim</span> xList<span class="br0">(</span>,<span class="br0">)</span> <span class="kw1">As</span> <span class="kw2">Object</span> <span class="sy0">=</span> <span class="br0">{</span> _<br>            <span class="br0">{</span><span class="st0">"map"</span>, <span class="nu0">9</span>, <span class="nu0">150</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"compass"</span>, <span class="nu0">13</span>, <span class="nu0">35</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"water"</span>, <span class="nu0">153</span>, <span class="nu0">200</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"sandwich"</span>, <span class="nu0">50</span>, <span class="nu0">160</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"glucose"</span>, <span class="nu0">15</span>, <span class="nu0">60</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"tin"</span>, <span class="nu0">68</span>, <span class="nu0">45</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"banana"</span>, <span class="nu0">27</span>, <span class="nu0">60</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"ChoiceBinle"</span>, <span class="nu0">39</span>, <span class="nu0">40</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"cheese"</span>, <span class="nu0">23</span>, <span class="nu0">30</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"beer"</span>, <span class="nu0">52</span>, <span class="nu0">10</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"suntan cream"</span>, <span class="nu0">11</span>, <span class="nu0">70</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"camera"</span>, <span class="nu0">32</span>, <span class="nu0">30</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"T-shirt"</span>, <span class="nu0">24</span>, <span class="nu0">15</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"trousers"</span>, <span class="nu0">48</span>, <span class="nu0">10</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"umbrella"</span>, <span class="nu0">73</span>, <span class="nu0">40</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"waterproof trousers"</span>, <span class="nu0">42</span>, <span class="nu0">70</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"waterproof overclothes"</span>, <span class="nu0">43</span>, <span class="nu0">75</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"note-case"</span>, <span class="nu0">22</span>, <span class="nu0">80</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"sunglasses"</span>, <span class="nu0">7</span>, <span class="nu0">20</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"towel"</span>, <span class="nu0">18</span>, <span class="nu0">12</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"socks"</span>, <span class="nu0">4</span>, <span class="nu0">50</span><span class="br0">}</span>, _<br>            <span class="br0">{</span><span class="st0">"book"</span>, <span class="nu0">30</span>, <span class="nu0">10</span><span class="br0">}</span><span class="br0">}</span><br>    <span class="kw1">Dim</span> s, xss <span class="kw1">As</span> <span class="kw2">String</span>, xwei, xval, nn <span class="kw1">As</span> <span class="kw2">Integer</span><br>&nbsp;<br>    <span class="kw1">Private</span> <span class="kw1">Sub</span> KnapsackBin_Load<span class="br0">(</span>sender <span class="kw1">As</span> <span class="kw2">Object</span>, e <span class="kw1">As</span> EventArgs<span class="br0">)</span> <span class="kw1">Handles</span> <span class="kw1">MyBase</span><span class="sy0">.</span><span class="me1">Load</span><br>        <span class="kw1">Dim</span> i <span class="kw1">As</span> <span class="kw2">Integer</span><br>        xListView<span class="sy0">.</span><span class="me1">View</span> <span class="sy0">=</span> View<span class="sy0">.</span><span class="me1">Details</span><br>        xListView<span class="sy0">.</span><span class="me1">Columns</span><span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span><span class="st0">"item"</span>, <span class="nu0">120</span>, HorizontalAlignment<span class="sy0">.</span><span class="me1">Left</span><span class="br0">)</span><br>        xListView<span class="sy0">.</span><span class="me1">Columns</span><span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span><span class="st0">"weight"</span>, <span class="nu0">50</span>, HorizontalAlignment<span class="sy0">.</span><span class="me1">Right</span><span class="br0">)</span><br>        xListView<span class="sy0">.</span><span class="me1">Columns</span><span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span><span class="st0">"value"</span>, <span class="nu0">50</span>, HorizontalAlignment<span class="sy0">.</span><span class="me1">Right</span><span class="br0">)</span><br>        <span class="kw1">For</span> i <span class="sy0">=</span> <span class="nu0">0</span> <span class="kw1">To</span> <a href="http://www.google.com/search?q=UBOUND+site:msdn.microsoft.com"><span class="kw7">UBound</span></a><span class="br0">(</span>xList, <span class="nu0">1</span><span class="br0">)</span><br>            xListView<span class="sy0">.</span><span class="me1">Items</span><span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span><span class="kw1">New</span> ListViewItem<span class="br0">(</span><span class="kw1">New</span> <span class="kw2">String</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>xList<span class="br0">(</span>i, <span class="nu0">0</span><span class="br0">)</span>, _<br>                                xList<span class="br0">(</span>i, <span class="nu0">1</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">ToString</span>, xList<span class="br0">(</span>i, <span class="nu0">2</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">ToString</span><span class="br0">}</span><span class="br0">)</span><span class="br0">)</span><br>        <span class="kw1">Next</span> i<br>    <span class="kw1">End</span> <span class="kw1">Sub</span> <span class="co1">'KnapsackBin_Load</span><br>&nbsp;<br>    <span class="kw1">Private</span> <span class="kw1">Sub</span> cmdOK_Click<span class="br0">(</span>sender <span class="kw1">As</span> <span class="kw2">Object</span>, e <span class="kw1">As</span> EventArgs<span class="br0">)</span> <span class="kw1">Handles</span> cmdOK<span class="sy0">.</span><span class="me1">Click</span><br>        <span class="kw1">Dim</span> i, j, nItems <span class="kw1">As</span> <span class="kw2">Integer</span><br>        <span class="kw1">For</span> i <span class="sy0">=</span> xListView<span class="sy0">.</span><span class="me1">Items</span><span class="sy0">.</span><span class="me1">Count</span> <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw1">To</span> <span class="nu0">0</span> <span class="kw1">Step</span> <span class="sy0">-</span><span class="nu0">1</span><br>            xListView<span class="sy0">.</span><span class="me1">Items</span><span class="sy0">.</span><span class="me1">RemoveAt</span><span class="br0">(</span>i<span class="br0">)</span><br>        <span class="kw1">Next</span> i<br>        <span class="kw1">Me</span><span class="sy0">.</span><span class="me1">Refresh</span><span class="br0">(</span><span class="br0">)</span><br>        nItems <span class="sy0">=</span> <a href="http://www.google.com/search?q=UBOUND+site:msdn.microsoft.com"><span class="kw7">UBound</span></a><span class="br0">(</span>xList, <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><br>        s <span class="sy0">=</span> <span class="st0">""</span><br>        <span class="kw1">For</span> i <span class="sy0">=</span> <span class="nu0">1</span> <span class="kw1">To</span> nItems<br>            s <span class="sy0">=</span> s <span class="sy0">&amp;</span> <a href="http://www.google.com/search?q=CHR+site:msdn.microsoft.com"><span class="kw7">Chr</span></a><span class="br0">(</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><br>        <span class="kw1">Next</span><br>        nn <span class="sy0">=</span> <span class="nu0">0</span><br>        <span class="kw1">Call</span> ChoiceBin<span class="br0">(</span><span class="nu0">1</span>, <span class="st0">""</span><span class="br0">)</span><br>        <span class="kw1">For</span> i <span class="sy0">=</span> <span class="nu0">1</span> <span class="kw1">To</span> Len<span class="br0">(</span>xss<span class="br0">)</span><br>            j <span class="sy0">=</span> <a href="http://www.google.com/search?q=ASC+site:msdn.microsoft.com"><span class="kw7">Asc</span></a><span class="br0">(</span>Mid<span class="br0">(</span>xss, i, <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><br>            xListView<span class="sy0">.</span><span class="me1">Items</span><span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span><span class="kw1">New</span> ListViewItem<span class="br0">(</span><span class="kw1">New</span> <span class="kw2">String</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>xList<span class="br0">(</span>j, <span class="nu0">0</span><span class="br0">)</span>, _<br>                                xList<span class="br0">(</span>j, <span class="nu0">1</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">ToString</span>, xList<span class="br0">(</span>j, <span class="nu0">2</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">ToString</span><span class="br0">}</span><span class="br0">)</span><span class="br0">)</span><br>        <span class="kw1">Next</span> i<br>        xListView<span class="sy0">.</span><span class="me1">Items</span><span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span><span class="kw1">New</span> ListViewItem<span class="br0">(</span><span class="kw1">New</span> <span class="kw2">String</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="st0">"*Total*"</span>, xwei, xval<span class="br0">}</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="kw1">End</span> <span class="kw1">Sub</span> <span class="co1">'cmdOK_Click</span><br>&nbsp;<br>    <span class="kw1">Private</span> <span class="kw1">Sub</span> ChoiceBin<span class="br0">(</span>n <span class="kw1">As</span> <span class="kw2">String</span>, ss <span class="kw1">As</span> <span class="kw2">String</span><span class="br0">)</span><br>        <span class="kw1">Dim</span> r <span class="kw1">As</span> <span class="kw2">String</span>, i, j, iwei, ival <span class="kw1">As</span> <span class="kw2">Integer</span><br>        <span class="kw1">Dim</span> ipct <span class="kw1">As</span> <span class="kw2">Integer</span><br>        <span class="kw1">If</span> n <span class="sy0">=</span> Len<span class="br0">(</span>s<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw1">Then</span><br>            iwei <span class="sy0">=</span> <span class="nu0">0</span>&nbsp;: ival <span class="sy0">=</span> <span class="nu0">0</span><br>            <span class="kw1">For</span> i <span class="sy0">=</span> <span class="nu0">1</span> <span class="kw1">To</span> Len<span class="br0">(</span>ss<span class="br0">)</span><br>                j <span class="sy0">=</span> <a href="http://www.google.com/search?q=ASC+site:msdn.microsoft.com"><span class="kw7">Asc</span></a><span class="br0">(</span>Mid<span class="br0">(</span>ss, i, <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><br>                iwei <span class="sy0">=</span> iwei <span class="sy0">+</span> xList<span class="br0">(</span>j, <span class="nu0">1</span><span class="br0">)</span><br>                ival <span class="sy0">=</span> ival <span class="sy0">+</span> xList<span class="br0">(</span>j, <span class="nu0">2</span><span class="br0">)</span><br>            <span class="kw1">Next</span><br>            <span class="kw1">If</span> iwei <span class="sy0">&lt;=</span> maxWeight <span class="kw1">And</span> ival <span class="sy0">&gt;</span> xval <span class="kw1">Then</span><br>                xss <span class="sy0">=</span> ss&nbsp;: xwei <span class="sy0">=</span> iwei&nbsp;: xval <span class="sy0">=</span> ival<br>            <span class="kw1">End</span> <span class="kw1">If</span><br>        <span class="kw1">Else</span><br>            r <span class="sy0">=</span> Mid<span class="br0">(</span>s, n, <span class="nu0">1</span><span class="br0">)</span><br>            <span class="kw1">Call</span> ChoiceBin<span class="br0">(</span>n <span class="sy0">+</span> <span class="nu0">1</span>, ss <span class="sy0">&amp;</span> r<span class="br0">)</span><br>            <span class="kw1">Call</span> ChoiceBin<span class="br0">(</span>n <span class="sy0">+</span> <span class="nu0">1</span>, ss<span class="br0">)</span><br>        <span class="kw1">End</span> <span class="kw1">If</span><br>    <span class="kw1">End</span> <span class="kw1">Sub</span> <span class="co1">'ChoiceBin</span><br>&nbsp;<br><span class="kw1">End</span> <span class="kw1">Class</span> <span class="co1">'KnapsackBin</span><br>&nbsp;</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>KnapsackBin_Load
cmdOK_Click
map
compass
water
sandwich
glucose
banana
suntan cream
waterproof trousers
waterproof overclothes
note-case
sunglasses
socks
*Total*  weight=396  val=1030
</pre>
<h2><span class="mw-headline" id="XPL0"><a href="https://rosettacode.org/wiki/Category:XPL0" title="Category:XPL0">XPL0</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=86" title="Edit section: XPL0">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<pre class="text highlighted_source">include c:\cxpl\codes;  \include 'code' declarations<br>&nbsp;<br>int     Item, Items, Weights, Values,<br>        BestItems, BestValues,<br>        I, W, V, N;<br>def     Tab=9;<br>def     Name,                   Weight, Value;<br>[Item:= [["map                  ",   9, 150],<br>        ["compass               ",  13,  35],<br>        ["water                 ", 153, 200],<br>        ["sandwich              ",  50, 160],<br>        ["glucose               ",  15,  60],<br>        ["tin                   ",  68,  45],<br>        ["banana                ",  27,  60],<br>        ["apple                 ",  39,  40],<br>        ["cheese                ",  23,  30],<br>        ["beer                  ",  52,  10],<br>        ["suntan cream          ",  11,  70],<br>        ["camera                ",  32,  30],<br>        ["T-shirt               ",  24,  15],<br>        ["trousers              ",  48,  10],<br>        ["umbrella              ",  73,  40],<br>        ["waterproof trousers   ",  42,  70],<br>        ["waterproof overclothes",  43,  75],<br>        ["note-case             ",  22,  80],<br>        ["sunglasses            ",   7,  20],<br>        ["towel                 ",  18,  12],<br>        ["socks                 ",   4,  50],<br>        ["book                  ",  30,  10]];<br>&nbsp;<br>BestValues:= 0;<br>for Items:= 0 to 1&lt;&lt;22-1 do     \for all possible combinations of Items...<br>        [I:= Items;  W:= 0;  V:= 0;  N:= 0;<br>        while I do              \add weights and values for each item (bit in I)<br>                [if I&amp;1 then<br>                        [W:= W + Item(N,Weight);  V:= V + Item(N,Value)];<br>                I:= I&gt;&gt;1;  N:= N+1;<br>                ];<br>        if V&gt;BestValues &amp; W&lt;=400 then   \save best combination found so far<br>                [BestValues:= V;  BestItems:= Items];<br>        ];<br>&nbsp;<br>I:= BestItems;  W:= 0;  V:= 0;  N:= 0;          \show best combination of items<br>while I do<br>        [if I&amp;1 then<br>                [Text(0, "  ");  Text(0, Item(N,Name));  ChOut(0, Tab);<br>                IntOut(0, Item(N,Weight));  ChOut(0, Tab);<br>                IntOut(0, Item(N,Value));  CrLf(0);<br>                W:= W + Item(N,Weight);<br>                V:= V + Item(N,Value);<br>                ];<br>        I:= I&gt;&gt;1;  N:= N+1;<br>        ];<br>Text(0, "Totals:                                ");<br>IntOut(0, W);  ChOut(0, Tab);<br>IntOut(0, V);  CrLf(0);<br>]</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>  map                           9       150
  compass                       13      35
  water                         153     200
  sandwich                      50      160
  glucose                       15      60
  banana                        27      60
  suntan cream                  11      70
  waterproof trousers           42      70
  waterproof overclothes        43      75
  note-case                     22      80
  sunglasses                    7       20
  socks                         4       50
Totals:                         396     1030
</pre>
<h2><span class="mw-headline" id="zkl"><a href="https://rosettacode.org/wiki/Category:Zkl" title="Category:Zkl">zkl</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=edit&amp;section=87" title="Edit section: zkl">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="#Haskell">Haskell</a></div><div class="examplemeta translation"><b>Translation of</b>: <a href="#D">D</a></div>
<pre class="text highlighted_source">fcn addItem(pairs,it){   // pairs is list of (cost of:,names), it is (name,w,v)<br>   w,left,right:=it[1],pairs[0,w],pairs[w,*];<br>   left.extend(right.zipWith(<br>      fcn([(t1,_)]a,[(t2,_)]b){ t1&gt;t2 and a or b  },<br>      pairs.apply('wrap([(tot,names)]){ T(tot + it[2], names + it[0]) })))<br>}//--&gt; new list of pairs</pre>
<pre class="text highlighted_source">items:=T(T("apple",     39, 40),T("banana",   27,60), // item: (name,weight,value)<br>        T("beer",       52, 10),T("book",     30,10),T("camera",      32, 30),<br>	T("cheese",     23, 30),T("compass",  13,35),T("glucose",     15, 60),<br>	T("map",         9,150),T("note-case",22,80),T("sandwich",    50,160),<br>	T("socks",       4, 50),T("sunglasses",7,20),T("suntan cream",11, 70),<br>	T("t-shirt",    24, 15),T("tin",      68,45),T("towel",       18, 12),<br>	T("trousers",   48, 10),T("umbrella", 73,40),T("water",      153,200),<br>	T("overclothes",43, 75),T("waterproof trousers",42,70) );<br>const MAX_WEIGHT=400;<br>knapsack:=items.reduce(addItem,<br>   (MAX_WEIGHT).pump(List,T(0,T).copy))[-1];  // nearest to max weight<br>weight:=items.apply('wrap(it){ knapsack[1].holds(it[0]) and it[1] }).sum(0);<br>knapsack.println(weight);</pre>
<div>
<dl><dt>Output:</dt></dl></div>
<pre>L(1030,L("banana","compass","glucose","map","note-case","sandwich","socks","sunglasses","suntan cream","water","overclothes","waterproof trousers"))396
</pre>



</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;oldid=286346">https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;oldid=286346</a>"</div>
</div>

<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://rosettacode.org/wiki/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://rosettacode.org/wiki/Category:Programming_Tasks" title="Category:Programming Tasks">Programming Tasks</a></li><li><a href="https://rosettacode.org/wiki/Category:Classic_CS_problems_and_programs" title="Category:Classic CS problems and programs">Classic CS problems and programs</a></li><li><a href="https://rosettacode.org/wiki/Category:Memoization" title="Category:Memoization">Memoization</a></li><li><a href="https://rosettacode.org/wiki/Category:Puzzles" title="Category:Puzzles">Puzzles</a></li><li><a href="https://rosettacode.org/wiki/Category:GUISS/Omit" title="Category:GUISS/Omit">GUISS/Omit</a></li><li><a href="https://rosettacode.org/wiki/Category:360_Assembly" title="Category:360 Assembly">360 Assembly</a></li><li><a href="https://rosettacode.org/wiki/Category:Ada" title="Category:Ada">Ada</a></li><li><a href="https://rosettacode.org/wiki/Category:APL" title="Category:APL">APL</a></li><li><a href="https://rosettacode.org/wiki/Category:AWK" title="Category:AWK">AWK</a></li><li><a href="https://rosettacode.org/wiki/Category:Batch_File" title="Category:Batch File">Batch File</a></li><li><a href="https://rosettacode.org/wiki/Category:BBC_BASIC" title="Category:BBC BASIC">BBC BASIC</a></li><li><a href="https://rosettacode.org/wiki/Category:Bracmat" title="Category:Bracmat">Bracmat</a></li><li><a href="https://rosettacode.org/wiki/Category:C" title="Category:C">C</a></li><li><a href="https://rosettacode.org/wiki/Category:C%2B%2B" title="Category:C++">C++</a></li><li><a href="https://rosettacode.org/wiki/Category:C_sharp" title="Category:C sharp">C sharp</a></li><li><a href="https://rosettacode.org/mw/index.php?title=Category:System&amp;action=edit&amp;redlink=1" class="new" title="Category:System (page does not exist)">System</a></li><li><a href="https://rosettacode.org/mw/index.php?title=Category:System.Collections.Generic&amp;action=edit&amp;redlink=1" class="new" title="Category:System.Collections.Generic (page does not exist)">System.Collections.Generic</a></li><li><a href="https://rosettacode.org/wiki/Category:Ceylon" title="Category:Ceylon">Ceylon</a></li><li><a href="https://rosettacode.org/wiki/Category:Clojure" title="Category:Clojure">Clojure</a></li><li><a href="https://rosettacode.org/wiki/Category:Common_Lisp" title="Category:Common Lisp">Common Lisp</a></li><li><a href="https://rosettacode.org/wiki/Category:Crystal" title="Category:Crystal">Crystal</a></li><li><a href="https://rosettacode.org/wiki/Category:D" title="Category:D">D</a></li><li><a href="https://rosettacode.org/wiki/Category:Dart" title="Category:Dart">Dart</a></li><li><a href="https://rosettacode.org/wiki/Category:EasyLang" title="Category:EasyLang">EasyLang</a></li><li><a href="https://rosettacode.org/wiki/Category:EchoLisp" title="Category:EchoLisp">EchoLisp</a></li><li><a href="https://rosettacode.org/wiki/Category:Eiffel" title="Category:Eiffel">Eiffel</a></li><li><a href="https://rosettacode.org/wiki/Category:Elixir" title="Category:Elixir">Elixir</a></li><li><a href="https://rosettacode.org/wiki/Category:Emacs_Lisp" title="Category:Emacs Lisp">Emacs Lisp</a></li><li><a href="https://rosettacode.org/wiki/Category:Erlang" title="Category:Erlang">Erlang</a></li><li><a href="https://rosettacode.org/wiki/Category:Euler_Math_Toolbox" title="Category:Euler Math Toolbox">Euler Math Toolbox</a></li><li><a href="https://rosettacode.org/wiki/Category:F_Sharp" title="Category:F Sharp">F Sharp</a></li><li><a href="https://rosettacode.org/wiki/Category:Factor" title="Category:Factor">Factor</a></li><li><a href="https://rosettacode.org/wiki/Category:Forth" title="Category:Forth">Forth</a></li><li><a href="https://rosettacode.org/wiki/Category:FutureBasic" title="Category:FutureBasic">FutureBasic</a></li><li><a href="https://rosettacode.org/wiki/Category:Go" title="Category:Go">Go</a></li><li><a href="https://rosettacode.org/wiki/Category:Groovy" title="Category:Groovy">Groovy</a></li><li><a href="https://rosettacode.org/wiki/Category:Haskell" title="Category:Haskell">Haskell</a></li><li><a href="https://rosettacode.org/wiki/Category:Icon" title="Category:Icon">Icon</a></li><li><a href="https://rosettacode.org/wiki/Category:Unicon" title="Category:Unicon">Unicon</a></li><li><a href="https://rosettacode.org/wiki/Category:Icon_Programming_Library" title="Category:Icon Programming Library">Icon Programming Library</a></li><li><a href="https://rosettacode.org/wiki/Category:J" title="Category:J">J</a></li><li><a href="https://rosettacode.org/wiki/Category:Java" title="Category:Java">Java</a></li><li><a href="https://rosettacode.org/wiki/Category:JavaScript" title="Category:JavaScript">JavaScript</a></li><li><a href="https://rosettacode.org/wiki/Category:Jq" title="Category:Jq">Jq</a></li><li><a href="https://rosettacode.org/wiki/Category:Julia" title="Category:Julia">Julia</a></li><li><a href="https://rosettacode.org/wiki/Category:Kotlin" title="Category:Kotlin">Kotlin</a></li><li><a href="https://rosettacode.org/wiki/Category:LSL" title="Category:LSL">LSL</a></li><li><a href="https://rosettacode.org/wiki/Category:Maple" title="Category:Maple">Maple</a></li><li><a href="https://rosettacode.org/wiki/Category:Mathematica" title="Category:Mathematica">Mathematica</a></li><li><a href="https://rosettacode.org/wiki/Category:Mathprog" title="Category:Mathprog">Mathprog</a></li><li><a href="https://rosettacode.org/wiki/Category:MAXScript" title="Category:MAXScript">MAXScript</a></li><li><a href="https://rosettacode.org/wiki/Category:OCaml" title="Category:OCaml">OCaml</a></li><li><a href="https://rosettacode.org/wiki/Category:Oz" title="Category:Oz">Oz</a></li><li><a href="https://rosettacode.org/wiki/Category:Pascal" title="Category:Pascal">Pascal</a></li><li><a href="https://rosettacode.org/wiki/Category:Perl" title="Category:Perl">Perl</a></li><li><a href="https://rosettacode.org/wiki/Category:Perl_6" title="Category:Perl 6">Perl 6</a></li><li><a href="https://rosettacode.org/wiki/Category:Phix" title="Category:Phix">Phix</a></li><li><a href="https://rosettacode.org/wiki/Category:PHP" title="Category:PHP">PHP</a></li><li><a href="https://rosettacode.org/wiki/Category:PicoLisp" title="Category:PicoLisp">PicoLisp</a></li><li><a href="https://rosettacode.org/wiki/Category:Prolog" title="Category:Prolog">Prolog</a></li><li><a href="https://rosettacode.org/mw/index.php?title=Category:Clpfd&amp;action=edit&amp;redlink=1" class="new" title="Category:Clpfd (page does not exist)">Clpfd</a></li><li><a href="https://rosettacode.org/mw/index.php?title=Category:Simplex&amp;action=edit&amp;redlink=1" class="new" title="Category:Simplex (page does not exist)">Simplex</a></li><li><a href="https://rosettacode.org/wiki/Category:PureBasic" title="Category:PureBasic">PureBasic</a></li><li><a href="https://rosettacode.org/wiki/Category:Python" title="Category:Python">Python</a></li><li><a href="https://rosettacode.org/wiki/Category:Racket" title="Category:Racket">Racket</a></li><li><a href="https://rosettacode.org/wiki/Category:R" title="Category:R">R</a></li><li><a href="https://rosettacode.org/wiki/Category:REXX" title="Category:REXX">REXX</a></li><li><a href="https://rosettacode.org/wiki/Category:Ring" title="Category:Ring">Ring</a></li><li><a href="https://rosettacode.org/wiki/Category:Ruby" title="Category:Ruby">Ruby</a></li><li><a href="https://rosettacode.org/wiki/Category:Rust" title="Category:Rust">Rust</a></li><li><a href="https://rosettacode.org/wiki/Category:SAS" title="Category:SAS">SAS</a></li><li><a href="https://rosettacode.org/wiki/Category:Scala" title="Category:Scala">Scala</a></li><li><a href="https://rosettacode.org/wiki/Category:Sidef" title="Category:Sidef">Sidef</a></li><li><a href="https://rosettacode.org/wiki/Category:SQL" title="Category:SQL">SQL</a></li><li><a href="https://rosettacode.org/wiki/Category:Swift" title="Category:Swift">Swift</a></li><li><a href="https://rosettacode.org/wiki/Category:Tcl" title="Category:Tcl">Tcl</a></li><li><a href="https://rosettacode.org/wiki/Category:Ursala" title="Category:Ursala">Ursala</a></li><li><a href="https://rosettacode.org/wiki/Category:VBA" title="Category:VBA">VBA</a></li><li><a href="https://rosettacode.org/wiki/Category:VBScript" title="Category:VBScript">VBScript</a></li><li><a href="https://rosettacode.org/wiki/Category:Visual_Basic" title="Category:Visual Basic">Visual Basic</a></li><li><a href="https://rosettacode.org/wiki/Category:Visual_Basic_.NET" title="Category:Visual Basic .NET">Visual Basic .NET</a></li><li><a href="https://rosettacode.org/wiki/Category:XPL0" title="Category:XPL0">XPL0</a></li><li><a href="https://rosettacode.org/wiki/Category:Zkl" title="Category:Zkl">Zkl</a></li></ul></div></div>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-12">

<nav class="navbar navbar-default p-tb " id="p-tb">
<ul class="nav navbar-nav small">
<li id="t-whatlinkshere"><a href="https://rosettacode.org/wiki/Special:WhatLinksHere/Knapsack_problem/0-1" title="A list of all wiki pages that link here [Alt+Shift+j]" accesskey="j">What links here</a></li>
<li id="t-recentchangeslinked"><a href="https://rosettacode.org/wiki/Special:RecentChangesLinked/Knapsack_problem/0-1" title="Recent changes in pages linked from this page [Alt+Shift+k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="https://rosettacode.org/wiki/Special:SpecialPages" title="A list of all special pages [Alt+Shift+q]" accesskey="q">Special pages</a></li>
<li id="t-print"><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;printable=yes" rel="alternate" title="Printable version of this page [Alt+Shift+p]" accesskey="p">Printable version</a></li>
<li id="t-permalink"><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;oldid=286346" title="Permanent link to this revision of the page">Permanent link</a></li>
<li id="t-info"><a href="https://rosettacode.org/mw/index.php?title=Knapsack_problem/0-1&amp;action=info" title="More information about this page">Page information</a></li>
<li id="t-smwbrowselink"><a href="https://rosettacode.org/wiki/Special:Browse/Knapsack_problem-2F0-2D1" rel="smw-browse">Browse properties</a></li>
</ul>
</nav>
</div>
</div>
<div class="row">
<div class="col-lg-12">

<ul class="footer-info list-unstyled small" id="footer-info">

<li> This page was last modified on 8 August 2019, at 07:31.</li>
<li>Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/licenses/fdl-1.2.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
</ul>
</div>
</div>
<div class="row">
<div class="col-lg-6">

<ul class="list-inline footer-places " id="footer-places">
<li><small><a href="https://rosettacode.org/wiki/Rosetta_Code:Privacy_policy" title="Rosetta Code:Privacy policy">Privacy policy</a></small></li>
<li><small><a href="https://rosettacode.org/wiki/Rosetta_Code:About" title="Rosetta Code:About">About Rosetta Code</a></small></li>
<li><small><a href="https://rosettacode.org/wiki/Rosetta_Code:General_disclaimer" title="Rosetta Code:General disclaimer">Disclaimers</a></small></li>
</ul>
</div>
<div class="col-lg-6">

<ul class="list-inline pull-right footer-icons " id="footer-icons">

<li><a href="http://www.gnu.org/licenses/fdl-1.2.html"><img src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31"></a></li>

<li><a href="https://www.mediawiki.org/"><img src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/mw/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /mw/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"></a></li>
<li><a href="https://www.semantic-mediawiki.org/wiki/Semantic_MediaWiki"><img src="Knapsack%20problem_0-1%20-%20Rosetta%20Code_files/smw_button.png" alt="Powered by Semantic MediaWiki" width="88" height="31"></a></li>
</ul>
</div>
</div>
</div><script type="text/javascript">window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.bootstrap.scripts"]);
} );</script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-1219419-1"]);
  _gaq.push(["_trackPageview"]);

  (function() {
    var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
    ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
    var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type="text/javascript">window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":840});
} );</script>
<div style="display: none; font-size: 14px;" class="suggestions"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>